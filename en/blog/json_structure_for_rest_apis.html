<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo.svg"/><link rel="preload" as="image" href="https://imgs.xkcd.com/comics/standards.png"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/82572465af7cf95c.css" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/9a850f764b370999.css" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://insertafter.com/_next/static/chunks/webpack-0cf58a546aefb656.js"/><script src="https://insertafter.com/_next/static/chunks/4bd1b696-9839e50bf4426210.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/684-1da9a03c34d82cdf.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/main-app-da17a98a2bb76af6.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/874-f855e4232fadb1a1.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withRedirects)/%5Blocale%5D/layout-b1f0ddb92ec3d214.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/96-3883dbab65ddc99f.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/blog/%5Bid%5D/page-a26bd7e9ac7bd843.js" async=""></script><meta name="theme-color" content="#3e78b2"/><title>Normalizing JSON Data from REST APIs - Nicolas Froidure</title><meta name="description" content="Very few developer takes the time to think about how they structure their JSON at the very beginning of the project, it is the best moment to do so though."/><link rel="author" href="https://insertafter.com"/><meta name="author" content="Nicolas Froidure"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://insertafter.com/en/blog/json_structure_for_rest_apis"/><meta property="og:title" content="Normalizing JSON Data from REST APIs - Nicolas Froidure"/><meta property="og:description" content="Very few developer takes the time to think about how they structure their JSON at the very beginning of the project, it is the best moment to do so though."/><meta property="og:url" content="https://insertafter.com/en/blog/json_structure_for_rest_apis"/><meta property="og:site_name" content="Nicolas Froidure"/><meta property="og:locale" content="en_US"/><meta property="og:image:alt" content="Website banner"/><meta property="og:image" content="https://insertafter.com/images/banner.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Normalizing JSON Data from REST APIs - Nicolas Froidure"/><meta name="twitter:description" content="Very few developer takes the time to think about how they structure their JSON at the very beginning of the project, it is the best moment to do so though."/><meta name="twitter:image:alt" content="Website banner"/><meta name="twitter:image" content="https://insertafter.com/images/banner.png"/><link rel="icon" href="/images/favicon.svg" type="image/svg+xml" sizes="any"/><link rel="icon" href="/images/favicon-16.png" type="image/png" sizes="16x16"/><link rel="icon" href="/images/favicon-128.png" type="image/png" sizes="128x128"/><script src="https://insertafter.com/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="layout_body__jFZuu"><header class="header_iaHeader__4vCMA"><div><h1><a href="/en" title="Go back to home page" class="header_iaHeaderLogo__0uNr1"><img src="/images/logo.svg" alt="InsertAfter&#x27;s Logo"/></a></h1></div></header><nav class="menu_iaMenu__B_rtj"><ul class="menu_iaMenuBody__0Zveq"><li class="menu_iaMenuItem__rOch4"><a href="/en" title="Go back to home page" class="">Home</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/blog" title="Read my blog posts" class="">Blog</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/projects" title="Discover my projects" class="">Projects</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/about" title="Read more about me" class="">About me</a></li></ul></nav><nav class="languages_iaLanguages__K2J3W"><ul><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagEn__angfJ"><a href="/en/blog"><span>en</span></a></li><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagFr__Us5Jb languages_selected__w1dKv"><a href="/fr/blog"><span>fr</span></a></li></ul></nav><main class="layout_iaMain__6s2gl"><div><section class="contentBlock_root__802UK"><h1 class="h1_root__VPXQG"><span>Normalizing JSON Data from REST APIs</span></h1><p class="p_root__SHE_W"><strong class="strong_root__kOzFq"><span>TL; DR:</span></strong></p><div class="code_root__5JLV_"><code><pre>{
  items: [1, 2, ...otherUsersIds],
  users: {
    &#x27;1&#x27; : {
      content: {
        id: 1,
        name: &#x27;Popol&#x27;,
        organization_id: 1
      },
      avatarURL: &#x27;//img.ur/trololol.png&#x27;
    },
    ...otherUsers
  },
  organisations: {
    &#x27;1&#x27;: {
      content: {
        id: 1,
        name: &#x27;Popol inc.&#x27;,
        owner_id: 1
      }
    }
  }
}</pre></code></div><p class="p_root__SHE_W"><span>I always wanted to write down this post on how I design JSON data on the REST APIs I build. At least for a reference to give to people that ask me why I&#x27;m doing it that way.</span></p><p class="p_root__SHE_W"><span>If you didn&#x27;t rage quit right after reading the TL;DR, then here is everything you have to know to understand the reasons behind those choices.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Normalization</span> <small><a class="anchored_icon__N5Sem" id="normalization" title="Lien vers cette section" href="#normalization"><span>🔗</span></a></small></span></h2><p class="p_root__SHE_W"><span>It is not about structuring or standardization, but really normalization like you would apply it to relational databases. Except that here, we are normalizing a single JSON.</span></p><p class="p_root__SHE_W"><span>As you may know, in a lot of APIs, some additional resources are embedded with a given resource representation. Mainly, those have relations with it. For instance, a </span><code class="code_root__5JLV_">GET /users/:userId</code><span> endpoint could embed the user&#x27;s organization representation.</span></p><p class="p_root__SHE_W"><span>One could say that it is a sign you need to use GraphQL. I wont be that categoric. I think it is convenient to add some related data in your JSON representations. In fact, RESTful principles allows several representations of the same resource.</span></p><p class="p_root__SHE_W"><span>But a common mistake when doing so is to add the linked resource to the originating one as a property of it. It leads to content duplication. Indeed, if 2 users have the same organization, it will be embedded twice.</span></p><p class="p_root__SHE_W"><span>You should now better understand this post&#x27;s TL;DR. The JSON structure I use is avoiding duplication for linked resources.</span></p><p class="p_root__SHE_W"><span>You&#x27;ll also notice the collection items aren&#x27;t directly put in the corresponding array. Only identifiers are there. The reason behind that is to allow having repeating collections. For instance, a </span><code class="code_root__5JLV_">GET /usersQueue</code><span> endpoint could have the same user two times in the queue. The JSON format I use allows that without duplicating it. Finally, if a user owns the organization of the above example, then, you can easily find him from the organization owner identifier.</span></p><p class="p_root__SHE_W"><span>You may wonder why I did not use </span><a class="a_root__WEPS7" target="_blank" href="https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03"><span>JSON reference</span></a><span>. The are 3 reasons for it:</span></p><ul class="ul_ul__qh0e9"><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>first of all, I really want to use the native JSON deserializer on every browsers. For performance reasons of course. A browser is constantly parsing JSON data so I do not want to use a polyfill and do it with JS. With my way to set JSON data, resources are directly addressable though a hash, not more computing needed after parsing the JSON;</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>also, having directly usable hashes, allows to combine them in order to optimize the front-end memory consumption. By maintaining objects stores, I can ensure the uniqueness of a single object across the whole application. With a simple</span><code class="code_root__5JLV_">Object.assign</code><span> in my </span><a class="a_root__WEPS7" target="_self" href="./considerations_for_generating_api_clients"><span>API wrapper</span></a><span> or the use of weak sets where possible there are huge performance gains;</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>finally, I do not want to pollute objects with their related resources which leads us to segregation.</span></p></li></ul><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Segregation</span> <small><a class="anchored_icon__N5Sem" id="segregation" title="Lien vers cette section" href="#segregation"><span>🔗</span></a></small></span></h2><p class="p_root__SHE_W"><span>Most resource representations contains two kinds of data. Normalized data are the ones you would store in a relational database. It is the source of truth, basically, the data CRUD operates on. In other words, the data PUT calls send to change a resource.</span></p><p class="p_root__SHE_W"><span>This is why I put it in a </span><code class="code_root__5JLV_">content</code><span> property. It is a convention to point out the data you could modify in your front-ends forms. It simplifies front-end development since they do not have to filter data. They just pick-up the content and build their forms around it.</span></p><p class="p_root__SHE_W"><span>The other data are calculated ones. Those are only useful for display concerns. This is the case for the above avatar URL or for example for database modification/creation timestamps.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>JSON schemas composition</span> <small><a class="anchored_icon__N5Sem" id="json-schemas-composition" title="Lien vers cette section" href="#json-schemas-composition"><span>🔗</span></a></small></span></h2><p class="p_root__SHE_W"><span>I really like JSON schema. That said, I do not like to write them down ;). My JSON format allows to reuse definitions to avoid writing specific JSON schemas for each resource. Here is how I would define the above data format as a JSON Schema:</span></p><div class="code_root__5JLV_"><code><pre>const userSchema = require(&quot;user&quot;);
const organizationSchema = require(&quot;organization&quot;);
const { idSchema, idPattern } = require(&quot;utils&quot;);

module.exports = {
  title: &quot;Users collection&quot;,
  type: &quot;object&quot;,
  additionalProperties: false,
  properties: {
    items: {
      title: &quot;User&#x27;s identifiers for the queried collection.&quot;,
      type: &quot;array&quot;,
      items: idSchema,
    },
    users: {
      title: &quot;Users hash&quot;,
      description: &quot;A hash containing users in the items collection.&quot;,
      type: &quot;object&quot;,
      patternProperties: {
        idPattern: userSchema,
      },
    },
    organizations: {
      title: &quot;Organizations hash&quot;,
      description:
        &quot;A hash containing organizations linked to users in the collection.&quot;,
      type: &quot;object&quot;,
      patternProperties: {
        idPattern: organizationSchema,
      },
    },
  },
};</pre></code></div><p class="p_root__SHE_W"><span>That&#x27;s it! I hope you find that way of designing JSON data useful. Feel free to comment with your own tips!</span></p><p class="p_root__SHE_W"><strong class="strong_root__kOzFq"><span>Last minute addition :</span></strong><br/><span>Kévin Dunglas, a compatriot strongly involved in PHP/REST communities, cited the following standards as a replacement for the structure I showed here:</span></p><ul class="ul_ul__qh0e9"><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><a class="a_root__WEPS7" target="_blank" href="http://json-ld.org/"><span>JSON-LD :</span></a><span> an alternative to using JSON Reference. What make me discarding it is the fact it nests actual data with its definition. It adds an overhead when serializing/deserializing and transporting the data.</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><a class="a_root__WEPS7" target="_blank" href="http://www.hydra-cg.com/spec/latest/core/"><span>Hydra :</span></a><span> it is a layer over JSON-LD, discarding it per the above facts. It goes forward in a direction I do not approve.</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><a class="a_root__WEPS7" target="_blank" href="http://stateless.co/hal%5Fspecification.html"><span>HAL :</span></a><span> I didn&#x27;t know it but just follow the link and scroll to the first JSON. Do you enjoy reading it? I do not write APIs for bots, but rather for humans. That said, bots can have a look to my Swagger definition.</span></p></li></ul><p class="p_root__SHE_W"><span>I did not mention Hypermedia APIs for brevity but of course we should all use it. That said, nowadays, any JSON browser can detect an URI without having to explicitly define it in the JSON. Anyway, bots can again read the Swagger definition if they are not smart enough to detect an URL.</span></p><p class="p_root__SHE_W"><span>Swagger/OpenAPI are open standards allowing a lot of benefits from generating client to generating documentation. They benefit from a large set of tools built specifically for it. It is my standard of choice since it allows a clean separation between data and schemas while allowing developers to add their own value over it.</span></p><p class="p_root__SHE_W"><span>I have a lot of respect for people involved in standardization. Any standard should, at least, be considered when designing systems. But I keep for myself the right to choose the one fitting my needs/wills. I wouldn&#x27;t use XML again, neither </span><a class="a_root__WEPS7" target="_blank" href="https://www.ibm.com/support/knowledgecenter/SS9H2Y%5F7.1.0/com.ibm.dp.doc/json%5Fjsonx.html"><span>JSONX</span></a><span> ;). Do not blindly follow standards but choose the one empowering you.</span></p><p class="p_root__SHE_W"><span>I like Swagger because it is clear and light. It is like JavaScript: it helps reaching your goal without creating barriers. To be honest, I&#x27;m not that optimist about the OpenAPI initiative. I fear it takes a direction that is not compatible anymore with my concerns. But, maybe, another standard will come to rule all of them.</span></p><p class="p_root__SHE_W"><span class="img_root__vTZoG img_landscape__qBqfT"><span class="img_picture__pfsl0"><img alt="An XKCD comic on competing standards" src="https://imgs.xkcd.com/comics/standards.png"/></span></span><br/><a class="a_root__WEPS7" target="_blank" href="https://xkcd.com/927/"><span>Source: XKCD</span></a></p><p class="p_root__SHE_W"><span>Finally, keep in mind that using standards is not the only way to go. Innovating often means the opposite. There are plenty of examples out there but let me cite the last one that just blown my mind and led me to reconsider, once again, a rock solid certitude:</span></p><div class="tootQuote_root__V34Mi"><iframe src="https://fosstodon.org/@whook/111708620880514272/embed" allowFullScreen=""></iframe><noscript><blockquote><p class="p_root__SHE_W"><span>So much devs refers to practices as ugly or conceptually weird when real measurement of systems is efficiency on the short and long run.
</span><a class="a_root__WEPS7" title="🐘" target="_blank" href="https://fosstodon.org/@whook/111708620880514272"><span>source</span></a></p></blockquote></noscript></div><p class="p_root__SHE_W">Published at<!-- --> <!-- -->vendredi 3 mars 2017 à 11:07:32<!-- -->.</p></section><section class="contentBlock_root__802UK"><aside class="share_root__Qm_RR"><h2 class="h2_root__Y02lX">Comment and share</h2><p class="p_root__SHE_W"><a class="a_root__WEPS7" title="Comment on Facebook" target="_blank" href="https://www.facebook.com/dialog/share?display=popup&amp;href=https%3A%2F%2Finsertafter.com%2Fblog%2Fjson_structure_for_rest_apis&amp;redirect_uri=https%3A%2F%2Finsertafter.com"><span class="share_icon__bi4Q3 share_facebook__JKn8d"></span>Facebook</a> - <a class="a_root__WEPS7" title="Comment on Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=https%3A%2F%2Finsertafter.com%2Fblog%2Fjson_structure_for_rest_apis"><span class="share_icon__bi4Q3 share_bluesky__ahvrM"></span>Bluesky</a> - <a class="a_root__WEPS7" title="Answer via email" target="_self" href="mailto:nicolas.froidure@gmail.com?subject=Normalizing%20JSON%20Data%20from%20REST%20APIs"><span class="share_icon__bi4Q3 share_mail__yvBDK"></span>Email</a></p></aside></section><section class="contentBlock_root__802UK"><aside class="page_linkedEntries__jiPuT"><h2 class="h2_root__Y02lX">Similar post</h2><p class="p_root__SHE_W">In the category<!-- --> <!-- -->JSON, REST, and Architecture<!-- -->.</p><div class="items_entries__5hkLG"><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Read this blog post" target="_self" href=".//considerations_for_generating_api_clients">Considerations for Automatic Generation of API Clients</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">No one should loose time writing code that can be generated automatically. Here are some tips on how I do it.<!-- --> <br/><a class="a_root__WEPS7" title="Read this blog post" target="_self" href=".//considerations_for_generating_api_clients">Read the full post</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->dimanche 19 février 2017 à 16:00:00<!-- -->.</p><div class="items_clear__3fyGk"></div></div></div></aside></section></div></main><aside class="social_iaSocial__kdR1x"><nav><ul><li><a href="https://mastodon.social/@nfroidure" rel="me" title="Follow me on Mastodon" class="social_iaSocialMastodon__MTF6o"><span>Mastodon</span></a></li><li><a href="https://bsky.app/profile/nfroidure.bsky.social" rel="me" title="Follow me on Bluesky" class="social_iaSocialBluesky__fKW6M"><span>Bluesky</span></a></li><li><a href="https://github.com/nfroidure" title="See my GitHub projects" class="social_iaSocialGithub__vcU5_"><span>GitHub</span></a></li><li><a href="https://www.npmjs.org/~nfroidure" title="Check my NPM modules" class="social_iaSocialNpm__6nku5"><span>NPM</span></a></li><li><a href="https://www.linkedin.com/in/nfroidure/" rel="me" title="See my LinkedIn profile" class="social_iaSocialLinkedin__pWACO"><span>LinkedIn</span></a></li><li><a href="https://facebook.com/nicolas.froidure.douai" rel="me" title="Follow me on Facebook" class="social_iaSocialFacebook__w4wfH"><span>Facebook</span></a></li><li><a href="/en/blog/index.atom" title="Subscribe to my RSS feed" class="social_iaSocialFeed__gEQQ0"><span>RSS Feed</span></a></li></ul></nav></aside><footer class="footer_iaFooter__rhlnQ"><p class="footer_iaFooterContent__VZndF">© Nicolas Froidure 2012-<!-- -->2025</p></footer><script src="https://insertafter.com/_next/static/chunks/webpack-0cf58a546aefb656.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n9:I[9665,[],\"ViewportBoundary\"]\nb:I[9665,[],\"MetadataBoundary\"]\nd:I[6614,[],\"\"]\n:HL[\"https://insertafter.com/_next/static/css/82572465af7cf95c.css\",\"style\"]\n:HL[\"https://insertafter.com/_next/static/css/9a850f764b370999.css\",\"style\"]\n:HL[\"https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"DAkb_7D-Elg46Gs6CsWRY\",\"p\":\"https://insertafter.com\",\"c\":[\"\",\"en\",\"blog\",\"json_structure_for_rest_apis\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(withLocale)\",{\"children\":[[\"locale\",\"en\",\"d\"],{\"children\":[\"blog\",{\"children\":[[\"id\",\"json_structure_for_rest_apis\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true]}]}],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(withLocale)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"locale\",\"en\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/82572465af7cf95c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],\"$L4\"]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"id\",\"json_structure_for_rest_apis\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",\"$undefined\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/9a850f764b370999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",\"$L8\",null]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"MykmBPDtlOEE1Yoqpa9YP\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null]}],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:\"$Sreact.strict_mode\"\nf:I[8873,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"875\",\"static/chunks/app/(withRedirects)/%5Blocale%5D/layout-b1f0ddb92ec3d214.js\"],\"default\"]\n10:I[2489,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"875\",\"static/chunks/app/(withRedirects)/%5Blocale%5D/layout-b1f0ddb92ec3d214.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$e\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_body__jFZuu\",\"children\":[null,[\"$\",\"header\",null,{\"className\":\"header_iaHeader__4vCMA\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/en\",\"title\":\"Go back to home page\",\"className\":\"header_iaHeaderLogo__0uNr1\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/logo.svg\",\"alt\":\"InsertAfter's Logo\"}]}]}]}]}],[\"$\",\"$Lf\",null,{\"locale\":\"en\",\"dictionary\":{\"home\":{\"label\":\"Home\",\"title\":\"Go back to home page\"},\"blog\":{\"label\":\"Blog\",\"title\":\"Read my blog posts\"},\"projects\":{\"label\":\"Projects\",\"title\":\"Discover my projects\"},\"about\":{\"label\":\"About me\",\"title\":\"Read more about me\"}}}],[\"$\",\"$L10\",null,{\"locale\":\"en\"}],[\"$\",\"main\",null,{\"className\":\"layout_iaMain__6s2gl\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$L11\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/9a850f764b370999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"aside\",null,{\"className\":\"social_iaSocial__kdR1x\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@nfroidure\",\"rel\":\"me\",\"title\":\"Follow me on Mastodon\",\"className\":\"social_iaSocialMastodon__MTF6o\",\"children\":[\"$\",\"span\",null,{\"children\":\"Mastodon\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://bsky.app/profile/nfroidure.bsky.social\",\"rel\":\"me\",\"title\":\"Follow me on Bluesky\",\"className\":\"social_iaSocialBluesky__fKW6M\",\"children\":[\"$\",\"span\",null,{\"children\":\"Bluesky\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/nfroidure\",\"title\":\"See my GitHub projects\",\"className\":\"social_iaSocialGithub__vcU5_\",\"children\":[\"$\",\"span\",null,{\"children\":\"GitHub\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.org/~nfroidure\",\"title\":\"Check my NPM modules\",\"className\":\"social_iaSocialNpm__6nku5\",\"children\":[\"$\",\"span\",null,{\"children\":\"NPM\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/nfroidure/\",\"rel\":\"me\",\"title\":\"See my LinkedIn profile\",\"className\":\"social_iaSocialLinkedin__pWACO\",\"children\":[\"$\",\"span\",null,{\"children\":\"LinkedIn\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://facebook.com/nicolas.froidure.douai\",\"rel\":\"me\",\"title\":\"Follow me on Facebook\",\"className\":\"social_iaSocialFacebook__w4wfH\",\"children\":[\"$\",\"span\",null,{\"children\":\"Facebook\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/en/blog/index.atom\",\"title\":\"Subscribe to my RSS feed\",\"className\":\"social_iaSocialFeed__gEQQ0\",\"children\":[\"$\",\"span\",null,{\"children\":\"RSS Feed\"}]}]}]]}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_iaFooter__rhlnQ\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_iaFooterContent__VZndF\",\"children\":[\"© Nicolas Froidure 2012-\",2025]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"11:[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"h1_root__VPXQG\",\"children\":\"Page not found\"}],[\"$\",\"p\",null,{\"className\":\"not-found_p__fvcGn\",\"children\":[[\"$\",\"img\",null,{\"className\":\"not-found_img__IT2jY\",\"src\":\"https://media.giphy.com/media/12mPcp41D9a1i0/giphy.gif\",\"alt\":\"404.png\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":\"It seems that the page you look for doesn't exist.\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"content\":\"#3e78b2\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"12:I[6874,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"96\",\"static/chunks/96-3883dbab65ddc99f.js\",\"852\",\"static/chunks/app/(withLocale)/%5Blocale%5D/blog/%5Bid%5D/page-a26bd7e9ac7bd843.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[[\"$\",\"h1\",\"0\",{\"className\":\"h1_root__VPXQG\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Normalizing JSON Data from REST APIs\"}]]}],[\"$\",\"p\",\"1\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"strong_root__kOzFq\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"TL; DR:\"}]]}]]}],[\"$\",\"div\",\"2\",{\"className\":\"code_root__5JLV_\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"pre\",null,{\"children\":\"{\\n  items: [1, 2, ...otherUsersIds],\\n  users: {\\n    '1' : {\\n      content: {\\n        id: 1,\\n        name: 'Popol',\\n        organization_id: 1\\n      },\\n      avatarURL: '//img.ur/trololol.png'\\n    },\\n    ...otherUsers\\n  },\\n  organisations: {\\n    '1': {\\n      content: {\\n        id: 1,\\n        name: 'Popol inc.',\\n        owner_id: 1\\n      }\\n    }\\n  }\\n}\"}]}]}],[\"$\",\"p\",\"3\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I always wanted to write down this post on how I design JSON data on the REST APIs I build. At least for a reference to give to people that ask me why I'm doing it that way.\"}]]}],[\"$\",\"p\",\"4\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"If you didn't rage quit right after reading the TL;DR, then here is everything you have to know to understand the reasons behind those choices.\"}]]}],[\"$\",\"h2\",\"5\",{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Normalization\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L12\",null,{\"href\":\"#normalization\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"normalization\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"🔗\"}]}]}]]}]}],[\"$\",\"p\",\"6\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"It is not about structuring or standardization, but really normalization like you would apply it to relational databases. Except that here, we are normalizing a single JSON.\"}]]}],[\"$\",\"p\",\"7\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"As you may know, in a lot of APIs, some additional resources are embedded with a given resource representation. Mainly, those have relations with it. For instance, a \"}],[\"$\",\"code\",\"1\",{\"className\":\"code_root__5JLV_\",\"children\":\"GET /users/:userId\"}],[\"$\",\"span\",\"2\",{\"children\":\" endpoint could embed the user's organization representation.\"}]]}],[\"$\",\"p\",\"8\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"One could say that it is a sign you need to use GraphQL. I wont be that categoric. I think it is convenient to add some related data in your JSON representations. In fact, RESTful principles allows several representations of the same resource.\"}]]}],[\"$\",\"p\",\"9\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"But a common mistake when doing so is to add the linked resource to the originating one as a property of it. It leads to content duplication. Indeed, if 2 users have the same organization, it will be embedded twice.\"}]]}],[\"$\",\"p\",\"10\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"You should now better understand this post's TL;DR. The JSON structure I use is avoiding duplication for linked resources.\"}]]}],[\"$\",\"p\",\"11\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"You'll also notice the collection items aren't directly put in the corresponding array. Only identifiers are there. The reason behind that is to allow having repeating collections. For instance, a \"}],[\"$\",\"code\",\"1\",{\"className\":\"code_root__5JLV_\",\"children\":\"GET /usersQueue\"}],[\"$\",\"span\",\"2\",{\"children\":\" endpoint could have the same user two times in the queue. The JSON format I use allows that without duplicating it. Finally, if a user owns the organization of the above example, then, you can easily find him from the organization owner identifier.\"}]]}],[\"$\",\"p\",\"12\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"You may wonder why I did not use \"}],[\"$\",\"$L12\",\"1\",{\"href\":\"https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"JSON reference\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\". The are 3 reasons for it:\"}]]}],[\"$\",\"ul\",\"13\",{\"className\":\"ul_ul__qh0e9\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"first of all, I really want to use the native JSON deserializer on every browsers. For performance reasons of course. A browser is constantly parsing JSON data so I do not want to use a polyfill and do it with JS. With my way to set JSON data, resources are directly addressable though a hash, not more computing needed after parsing the JSON;\"}]]}]]}],[\"$\",\"li\",\"1\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"also, having directly usable hashes, allows to combine them in order to optimize the front-end memory consumption. By maintaining objects stores, I can ensure the uniqueness of a single object across the whole application. With a simple\"}],[\"$\",\"code\",\"1\",{\"className\":\"code_root__5JLV_\",\"children\":\"Object.assign\"}],[\"$\",\"span\",\"2\",{\"children\":\" in my \"}],[\"$\",\"$L12\",\"3\",{\"href\":\"./considerations_for_generating_api_clients\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"API wrapper\"}]]]}],[\"$\",\"span\",\"4\",{\"children\":\" or the use of weak sets where possible there are huge performance gains;\"}]]}]]}],[\"$\",\"li\",\"2\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"finally, I do not want to pollute objects with their related resources which leads us to segregation.\"}]]}]]}]]}],[\"$\",\"h2\",\"14\",{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Segregation\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L12\",null,{\"href\":\"#segregation\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"segregation\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"🔗\"}]}]}]]}]}],[\"$\",\"p\",\"15\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Most resource representations contains two kinds of data. Normalized data are the ones you would store in a relational database. It is the source of truth, basically, the data CRUD operates on. In other words, the data PUT calls send to change a resource.\"}]]}],[\"$\",\"p\",\"16\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"This is why I put it in a \"}],[\"$\",\"code\",\"1\",{\"className\":\"code_root__5JLV_\",\"children\":\"content\"}],[\"$\",\"span\",\"2\",{\"children\":\" property. It is a convention to point out the data you could modify in your front-ends forms. It simplifies front-end development since they do not have to filter data. They just pick-up the content and build their forms around it.\"}]]}],[\"$\",\"p\",\"17\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"The other data are calculated ones. Those are only useful for display concerns. This is the case for the above avatar URL or for example for database modification/creation timestamps.\"}]]}],[\"$\",\"h2\",\"18\",{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"JSON schemas composition\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L12\",null,{\"href\":\"#json-schemas-composition\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"json-schemas-composition\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"🔗\"}]}]}]]}]}],[\"$\",\"p\",\"19\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I really like JSON schema. That said, I do not like to write them down ;). My JSON format allows to reuse definitions to avoid writing specific JSON schemas for each resource. Here is how I would define the above data format as a JSON Schema:\"}]]}],[\"$\",\"div\",\"20\",{\"className\":\"code_root__5JLV_\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"pre\",null,{\"children\":\"const userSchema = require(\\\"user\\\");\\nconst organizationSchema = require(\\\"organization\\\");\\nconst { idSchema, idPattern } = require(\\\"utils\\\");\\n\\nmodule.exports = {\\n  title: \\\"Users collection\\\",\\n  type: \\\"object\\\",\\n  additionalProperties: false,\\n  properties: {\\n    items: {\\n      title: \\\"User's identifiers for the queried collection.\\\",\\n      type: \\\"array\\\",\\n      items: idSchema,\\n    },\\n    users: {\\n      title: \\\"Users hash\\\",\\n      description: \\\"A hash containing users in the items collection.\\\",\\n      type: \\\"object\\\",\\n      patternProperties: {\\n        idPattern: userSchema,\\n      },\\n    },\\n    organizations: {\\n      title: \\\"Organizations hash\\\",\\n      description:\\n        \\\"A hash containing organizations linked to users in the collection.\\\",\\n      type: \\\"object\\\",\\n      patternProperties: {\\n        idPattern: organizationSchema,\\n      },\\n    },\\n  },\\n};\"}]}]}],[\"$\",\"p\",\"21\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"That's it! I hope you find that way of designing JSON data useful. Feel free to comment with your own tips!\"}]]}],[\"$\",\"p\",\"22\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"strong_root__kOzFq\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Last minute addition :\"}]]}],[\"$\",\"br\",\"1\",{}],[\"$\",\"span\",\"2\",{\"children\":\"Kévin Dunglas, a compatriot strongly involved in PHP/REST communities, cited the following standards as a replacement for the structure I showed here:\"}]]}],[\"$\",\"ul\",\"23\",{\"className\":\"ul_ul__qh0e9\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L12\",\"0\",{\"href\":\"http://json-ld.org/\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"JSON-LD :\"}]]]}],[\"$\",\"span\",\"1\",{\"children\":\" an alternative to using JSON Reference. What make me discarding it is the fact it nests actual data with its definition. It adds an overhead when serializing/deserializing and transporting the data.\"}]]}]]}],[\"$\",\"li\",\"1\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L12\",\"0\",{\"href\":\"http://www.hydra-cg.com/spec/latest/core/\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Hydra :\"}]]]}],[\"$\",\"span\",\"1\",{\"children\":\" it is a layer over JSON-LD, discarding it per the above facts. It goes forward in a direction I do not approve.\"}]]}]]}],[\"$\",\"li\",\"2\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L12\",\"0\",{\"href\":\"http://stateless.co/hal%5Fspecification.html\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"HAL :\"}]]]}],[\"$\",\"span\",\"1\",{\"children\":\" I didn't know it but just follow the link and scroll to the first JSON. Do you enjoy reading it? I do not write APIs for bots, but rather for humans. That said, bots can have a look to my Swagger definition.\"}]]}]]}]]}],[\"$\",\"p\",\"24\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I did not mention Hypermedia APIs for brevity but of course we should all use it. That said, nowadays, any JSON browser can detect an URI without having to explicitly define it in the JSON. Anyway, bots can again read the Swagger definition if they are not smart enough to detect an URL.\"}]]}],[\"$\",\"p\",\"25\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Swagger/OpenAPI are open standards allowing a lot of benefits from generating client to generating documentation. They benefit from a large set of tools built specifically for it. It is my standard of choice since it allows a clean separation between data and schemas while allowing developers to add their own value over it.\"}]]}],[\"$\",\"p\",\"26\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I have a lot of respect for people involved in standardization. Any standard should, at least, be considered when designing systems. But I keep for myself the right to choose the one fitting my needs/wills. I wouldn't use XML again, neither \"}],[\"$\",\"$L12\",\"1\",{\"href\":\"https://www.ibm.com/support/knowledgecenter/SS9H2Y%5F7.1.0/com.ibm.dp.doc/json%5Fjsonx.html\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"JSONX\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" ;). Do not blindly follow standards but choose the one empowering you.\"}]]}],[\"$\",\"p\",\"27\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I like Swagger because it is clear and light. It is like JavaScript: it helps reaching your goal without creating barriers. To be honest, I'm not that optimist about the OpenAPI initiative. I fear it takes a direction that is not compatible anymore with my concerns. But, maybe, another standard will come to rule all of them.\"}]]}],[\"$\",\"p\",\"28\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"img_root__vTZoG img_landscape__qBqfT\",\"children\":[[\"$\",\"span\",null,{\"className\":\"img_picture__pfsl0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"An XKCD comic on competing standards\",\"src\":\"https://imgs.xkcd.com/comics/standards.png\"}]}],null]}],[\"$\",\"br\",\"1\",{}],[\"$\",\"$L12\",\"2\",{\"href\":\"https://xkcd.com/927/\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Source: XKCD\"}]]]}]]}],[\"$\",\"p\",\"29\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Finally, keep in mind that using standards is not the only way to go. Innovating often means the opposite. There are plenty of examples out there but let me cite the last one that just blown my mind and led me to reconsider, once again, a rock solid certitude:\"}]]}],[\"$\",\"div\",\"30\",{\"className\":\"tootQuote_root__V34Mi\",\"children\":[[\"$\",\"iframe\",null,{\"src\":\"https://fosstodon.org/@whook/111708620880514272/embed\",\"allowFullScreen\":true}],[\"$\",\"noscript\",null,{\"children\":[\"$\",\"blockquote\",null,{\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"So much devs refers to practices as ugly or conceptually weird when real measurement of systems is efficiency on the short and long run.\\n\"}],[\"$\",\"$L12\",\"1\",{\"href\":\"https://fosstodon.org/@whook/111708620880514272\",\"className\":\"a_root__WEPS7\",\"title\":\"🐘\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"source\"}]]]}]]}]]}]}]]}]],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Published at\",\" \",\"vendredi 3 mars 2017 à 11:07:32\",\".\"]}]]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"share_root__Qm_RR\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Comment and share\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"https://www.facebook.com/dialog/share?display=popup\u0026href=https%3A%2F%2Finsertafter.com%2Fblog%2Fjson_structure_for_rest_apis\u0026redirect_uri=https%3A%2F%2Finsertafter.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Comment on Facebook\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_facebook__JKn8d\"}],\"Facebook\"]]}],\" - \",[\"$\",\"$L12\",null,{\"href\":\"https://bsky.app/intent/compose?text=https%3A%2F%2Finsertafter.com%2Fblog%2Fjson_structure_for_rest_apis\",\"className\":\"a_root__WEPS7\",\"title\":\"Comment on Bluesky\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_bluesky__ahvrM\"}],\"Bluesky\"]]}],\" - \",[\"$\",\"$L12\",null,{\"href\":\"mailto:nicolas.froidure@gmail.com?subject=Normalizing%20JSON%20Data%20from%20REST%20APIs\",\"className\":\"a_root__WEPS7\",\"title\":\"Answer via email\",\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_mail__yvBDK\"}],\"Email\"]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"page_linkedEntries__jiPuT\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Similar post\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"In the category\",\" \",\"JSON, REST, and Architecture\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_entries__5hkLG\",\"children\":[[\"$\",\"div\",\"considerations_for_generating_api_clients\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L12\",null,{\"href\":\".//considerations_for_generating_api_clients\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Read this blog post\",\"target\":\"_self\",\"children\":[null,\"Considerations for Automatic Generation of API Clients\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"No one should loose time writing code that can be generated automatically. Here are some tips on how I do it.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L12\",null,{\"href\":\".//considerations_for_generating_api_clients\",\"className\":\"a_root__WEPS7\",\"title\":\"Read this blog post\",\"target\":\"_self\",\"children\":[null,\"Read the full post\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"dimanche 19 février 2017 à 16:00:00\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}]]}]]}]}]]\n"])</script><script>self.__next_f.push([1,"8:null\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"title\",\"0\",{\"children\":\"Normalizing JSON Data from REST APIs - Nicolas Froidure\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Very few developer takes the time to think about how they structure their JSON at the very beginning of the project, it is the best moment to do so though.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://insertafter.com\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"4\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://insertafter.com/en/blog/json_structure_for_rest_apis\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Normalizing JSON Data from REST APIs - Nicolas Froidure\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"Very few developer takes the time to think about how they structure their JSON at the very beginning of the project, it is the best moment to do so though.\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://insertafter.com/en/blog/json_structure_for_rest_apis\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:alt\",\"content\":\"Website banner\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:title\",\"content\":\"Normalizing JSON Data from REST APIs - Nicolas Froidure\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:description\",\"content\":\"Very few developer takes the time to think about how they structure their JSON at the very beginning of the project, it is the best moment to do so though.\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image:alt\",\"content\":\"Website banner\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"link\",\"19\",{\"rel\":\"icon\",\"href\":\"/images/favicon.svg\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"20\",{\"rel\":\"icon\",\"href\":\"/images/favicon-16.png\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/images/favicon-128.png\",\"type\":\"image/png\",\"sizes\":\"128x128\"}]]\n"])</script></body></html>