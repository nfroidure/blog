<!DOCTYPE html><html lang="articles-systeme_template_ideal"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo.svg"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/d8edca5e7193033b.css" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/93f5b1caf23b2daf.css" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://insertafter.com/_next/static/chunks/webpack-0cf58a546aefb656.js"/><script src="https://insertafter.com/_next/static/chunks/4bd1b696-9839e50bf4426210.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/684-1da9a03c34d82cdf.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/main-app-da17a98a2bb76af6.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/874-f855e4232fadb1a1.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/layout-f7d50859cdd06b0e.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/96-3883dbab65ddc99f.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/%5B...slug%5D/page-f69cf0f70d06d9dc.js" async=""></script><meta name="theme-color" content="#3e78b2"/><title>Le syst√®me de template id√©al - Nicolas Froidure</title><meta name="description" content="L&#x27;utilisation d&#x27;un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d&#x27;autres probl√©matiques. L&#x27;existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux."/><link rel="author" href="https://insertafter.com"/><meta name="author" content="Nicolas Froidure"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://insertafter.com/fr/blog/systeme_template_ideal"/><meta property="og:title" content="Le syst√®me de template id√©al - Nicolas Froidure"/><meta property="og:description" content="L&#x27;utilisation d&#x27;un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d&#x27;autres probl√©matiques. L&#x27;existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux."/><meta property="og:url" content="https://insertafter.com/fr/blog/systeme_template_ideal"/><meta property="og:site_name" content="Nicolas Froidure"/><meta property="og:locale" content="fr_FR"/><meta property="og:image:alt" content="Banni√®re du site"/><meta property="og:image" content="https://insertafter.com/images/banner.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@nfroidure"/><meta name="twitter:creator" content="@nfroidure"/><meta name="twitter:title" content="Le syst√®me de template id√©al - Nicolas Froidure"/><meta name="twitter:description" content="L&#x27;utilisation d&#x27;un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d&#x27;autres probl√©matiques. L&#x27;existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux."/><meta name="twitter:image:alt" content="Banni√®re du site"/><meta name="twitter:image" content="https://insertafter.com/images/banner.png"/><link rel="icon" href="/images/favicon.svg" type="image/svg+xml" sizes="any"/><link rel="icon" href="/images/favicon-16.png" type="image/png" sizes="16x16"/><link rel="icon" href="/images/favicon-128.png" type="image/png" sizes="128x128"/><script src="https://insertafter.com/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="layout_body__jFZuu"><header class="header_iaHeader__4vCMA"><div><h1><a href="/articles-systeme_template_ideal" title="Go back to home page" class="header_iaHeaderLogo__0uNr1"><img src="/images/logo.svg" alt="InsertAfter&#x27;s Logo"/></a></h1></div></header><nav class="menu_iaMenu__B_rtj"><ul class="menu_iaMenuBody__0Zveq"><li class="menu_iaMenuItem__rOch4"><a href="/articles-systeme_template_idealundefined" title="Go back to home page" class="">Home</a></li><li class="menu_iaMenuItem__rOch4"><a href="/articles-systeme_template_idealundefined" title="Read my blog posts" class="">Blog</a></li><li class="menu_iaMenuItem__rOch4"><a href="/articles-systeme_template_idealundefined" title="Discover my projects" class="">Projects</a></li><li class="menu_iaMenuItem__rOch4"><a href="/articles-systeme_template_idealundefined" title="Read more about me" class="">About me</a></li></ul></nav><nav class="languages_iaLanguages__K2J3W"><ul><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagEn__angfJ languages_selected__w1dKv"><a href="/en"><span>en</span></a></li><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagFr__Us5Jb languages_selected__w1dKv"><a href="/fr"><span>fr</span></a></li></ul></nav><main class="layout_iaMain__6s2gl"><div><section class="contentBlock_root__802UK"><h1 class="h1_root__VPXQG"><span>Le syst√®me de template id√©al</span></h1><p class="p_root__SHE_W"><span>L&#x27;utilisation d&#x27;un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d&#x27;autres probl√©matiques. L&#x27;existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Les syst√®mes de template</span> <small><a class="anchored_icon__N5Sem" id="les-systemes-de-template" title="Lien vers cette section" href="#les-systemes-de-template"><span>üîó</span></a></small></span></h2><p class="p_root__SHE_W"><span>Il existe de nombreux syst√®mes de templating pour chaque langage de programmation utilis√© pour faire du web. Parmi eux ont peut citer Smarty, Templeet pour PHP, Mustache pour Javascript etc...</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Avantages</span> <small><a class="anchored_icon__N5Sem" id="avantages" title="Lien vers cette section" href="#avantages"><span>üîó</span></a></small></span></h3><p class="p_root__SHE_W"><span>Les avantages d&#x27;un syst√®me de template sont avant tout une bonne s√©paration du code HTML et du code PHP/Javascript. De cette fa√ßon, un int√©grateur HTML/CSS peut intervenir sans avoir √† toucher au PHP ce qui est un confort pour lui et une s√©curit√© pour le d√©veloppeur back-end. Certains diront que PHP seul, par exemple, est un moteur de template. C&#x27;est vrai. Mais utilis√© de mani√®re rigoureuse. Malheureusement, peu de gens sont capable de s&#x27;imposer un cadre strict sans que ce dernier ne soit impos√©.</span></p><p class="p_root__SHE_W"><span>Un autre avantage de cette s√©paration est que si vous mettez en place un cache d&#x27;OPCode pour votre PHP sur un serveur avec peu de RAM, vous permettrez une ex√©cution plus rapide de votre PHP car cette RAM ne sera pas encombr√©e pas du HTML.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Inconv√©nients</span> <small><a class="anchored_icon__N5Sem" id="inconvenients" title="Lien vers cette section" href="#inconvenients"><span>üîó</span></a></small></span></h3><p class="p_root__SHE_W"><span>Parmi les inconv√©nients, la majeure partie des syst√®mes de templating (voire tous) fonctionnent de mani√®re bloquante. Ils chargent la totalit√© du template, utilisent les expressions r√©guli√®res pour matcher les variables √† remplacer et retournent une variable avec le texte issu de ce processus. Ce qui signifie qu&#x27;entre le moment o√π le template est lu et celui o√π il est retourn√©, rien n&#x27;est envoy√© au client.</span></p><p class="p_root__SHE_W"><span>En faisant du templating avec PHP, le code HTML est envoy√© au client au fur et √† mesure qu&#x27;il est interpr√©t√© par PHP. Ainsi, D√®s le premier octet lu, PHP est susceptible d&#x27;envoyer des donn√©es au client. De ce fait, la RAM est moins utilis√©e pour stocker de gros volumes de texte comme pour les syst√®mes de template. Vu le poids grandissant des pages, on comprend le probl√®me pour des sites √† fort trafic.</span></p><p class="p_root__SHE_W"><span>La lenteur est aussi un probl√®me. En partie √† cause de cet aspect bloquant, mais aussi √† cause de l&#x27;enregistrement des templates sur le disque. Si vous avez beaucoup de RAM, alors, la solution du templating PHP avec le cache d&#x27;OPCode devient une feature et booste les performances d&#x27;affichage de vos sites. Vous pouvez obtenir le m√™me r√©sultat en cachant vos templates en RAM ou en les mettant sur un RAMDisk, mais c&#x27;est une manipulation suppl√©mentaire qui est rarement fa√Æte dans les faits.</span></p><p class="p_root__SHE_W"><span>Enfin, malheureusement, la plupart des syst√®mes de template vont trop loin. A mon sens, il ne faut pas remplacer les langages de programmation dans ces syst√®mes et se contenter de faire du remplacement et non des appels de fonction, des expressions et toutes les autres aberrations qu&#x27;on peut trouver dans ces outils. C&#x27;est la philosophie que j&#x27;ai reprise quand j&#x27;ai cr√©√© le syst√®me de template de XCMS (CMS aujourd&#x27;hui √©teint).</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Le syst√®me de template id√©al</span> <small><a class="anchored_icon__N5Sem" id="le-systeme-de-template-ideal" title="Lien vers cette section" href="#le-systeme-de-template-ideal"><span>üîó</span></a></small></span></h2><p class="p_root__SHE_W"><span>Vous l&#x27;aurez compris, je trouve qu&#x27;un syst√®me de template c&#x27;est bien, mais que les syst√®mes existants sont mauvais (y compris le mien, qui date un peu). Mais tout n&#x27;est pas perdu, je pense qu&#x27;il est possible de cr√©er le syst√®me de templating id√©al.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Cross-langage</span> <small><a class="anchored_icon__N5Sem" id="cross-langage" title="Lien vers cette section" href="#cross-langage"><span>üîó</span></a></small></span></h3><p class="p_root__SHE_W"><span>Un bon syst√®me de template n&#x27;est pas d√©pendant d&#x27;un langage en particulier (Javascript/PHP) et doit √™tre impl√©mentable et interchangeable de fa√ßon neutre dans chaque langage. Ce qui signifie qu&#x27;il faut √©viter tout r√©f√©rence aux fonctions internes de chaque langage. Cela rejoint le fait que pour moi, un syst√®me de template ne doit faire que du remplacement de variables.</span></p><p class="p_root__SHE_W"><span>De plus, rien ne nous emp√™che de faire de l&#x27;appel de fonction gr√¢ce aux setters/getters (binding) et donc d&#x27;impl√©menter des comportements plus fun sans probl√®me et sans complexifier le syst√®me de template.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Aussi bien c√¥t√© serveur que client</span> <small><a class="anchored_icon__N5Sem" id="aussi-bien-cote-serveur-que-client" title="Lien vers cette section" href="#aussi-bien-cote-serveur-que-client"><span>üîó</span></a></small></span></h3><p class="p_root__SHE_W"><span>Un syst√®me de template doit √™tre utilisable aussi bien c√¥t√© serveur que c√¥t√© client. Cela signifie qu&#x27;il doit pouvoir √™tre charg√© par le parseur HTML du navigateur avant d&#x27;√™tre compl√©t√© gr√¢ce au DOM. C&#x27;est ce que propose </span><a class="a_root__WEPS7" title="Voir le d√©p√¥t sur GitHub" target="_blank" href="https://github.com/joewalker/domtemplate"><span>DOM template</span></a><span>, mais je ne suis pas d&#x27;accord avec ce dernier sur certains points. Il faut que le HTML du template soit valide en tout point. Or, il utilise des attributs du genre </span><code class="code_root__5JLV_">if=&quot;macondition&quot;</code><span> qui ne sont pas standards.</span></p><p class="p_root__SHE_W"><span>A mon sens, le template id√©al utilise les attributs </span><code class="code_root__5JLV_">data-*</code><span>. On pourrait imaginer des templates du genre¬†:</span></p><div class="code_root__5JLV_"><code><pre>&lt;div data-tpl-if=&quot;articles.length&quot; data-tpl-loop=&quot;articles&quot;&gt;
  &lt;article&gt;
    &lt;h1 data-tpl-cdata=&quot;articles:title&quot;&gt;&lt;/h1&gt;
    &lt;p data-tpl-cdata=&quot;articles:description&quot;&gt;&lt;/p&gt;
    &lt;p data-tpl-pcdata=&quot;articles:content&quot;&gt;&lt;/p&gt;
    &lt;p&gt;
      &lt;a
        data-tpl-att-href=&quot;articles:href&quot;
        data-tpl-att-title=&quot;i18n.read_link_title&quot;
        data-tpl-content=&quot;i18n.read_link&quot;
      &gt;&lt;/a&gt;
    &lt;/p&gt;
  &lt;/article&gt;
&lt;/div&gt;</pre></code></div><p class="p_root__SHE_W"><span>Vous avez compris l&#x27;id√©e si vous √™tes familier des syst√®mes de template. Ce HTML est tout √† fait valide et peut tout aussi bien √™tre trait√© c√¥t√© client que c√¥t√© serveur avec une API de type DOM ou en faisant du parsing voire avec des expressions r√©guli√®res mais nous avons d√©j√† vu que c&#x27;√©tait le mal.</span></p><p class="p_root__SHE_W"><span>Autre avantage, cela rend les templates √©ditables directement dans un √©diteur HTML WYSIWYG ou de code source avec la coloration syntaxique qui va bien sans effort suppl√©mentaire. On pourrait m√™me imaginer ajouter une extension √† un √©diteur existant pour remplir les donn√©es √† des fins de test de rendu des templates.</span></p><p class="p_root__SHE_W"><span>Enfin, il est tout √† fait possible de g√©n√©rer le contenu du template c√¥t√© serveur mais en laissant les attributs data-tpl-*, puis de mettre √† jour ce dernier en Javascript c√¥t√© client.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Streamable</span> <small><a class="anchored_icon__N5Sem" id="streamable" title="Lien vers cette section" href="#streamable"><span>üîó</span></a></small></span></h3><p class="p_root__SHE_W"><span>Enfin, le contenu g√©n√©r√© par le syst√®me de template doit √™tre stream√©. C&#x27;est √† dire qu&#x27;il doit recevoir en entr√©e un ou plusieurs input streams et fournir un output stream en sortie afin de pouvoir lire les templates, les compl√©ter et les envoyer au flux.</span></p><p class="p_root__SHE_W"><span>Pour ce faire, le template doit √™tre pars√© avec une API de parsing XML/SGML de type √©v√®nementiel ou directement caract√®res par caract√®res.</span></p><ul class="ul_ul__qh0e9"><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>dans n&#x27;importe quel attribut de type data-tpl-*, si la variable existe, on la traite, sinon, on stoppe la sortie en attendant la lecture de toutes les variables du template et on reprend quand c&#x27;est termin√© le test d&#x27;existence. Pendant ce temps, on continue de lire le template et on indexe les autres appels au syst√®me de template demand√©s par les attributs de type data-tpl-*.</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>pour un simple remplacement de valeur, on n&#x27;a qu&#x27;a remplacer la valeur.</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>pour une condition, si elle est vraie, on continue √† traiter et envoyer le template. Si elle est fausse, on stoppe le traitement des attributs data-tpl-* tant qu&#x27;on ne rencontre pas la balise fermante.</span></p></li><li class="li_root__oY9Dv"><p class="p_root__SHE_W"><span>pour une boucle, on stoppe la sortie, on lit la totalit√© de la boucle jusqu&#x27;√† la balise fermante. Pour chaque entr√©e, on remplit le template de la boucle et on le dirige vers la sortie.</span></p></li></ul><p class="p_root__SHE_W"><span>De cette fa√ßon, on optimise l&#x27;utilisation de la m√©moire, on envoie ce qui doit l&#x27;√™tre sans attendre, bref, le syst√®me id√©al. C&#x27;est un peu ma commande pour No√´l, soyez chic, fa√Ætes-le¬†! Ne m&#x27;obligez pas √† le faire moi-m√™me en mode bande de nerd √† moi tout seul (je m&#x27;fend la gueule¬†!).</span></p><p class="p_root__SHE_W"><span>PS: Si vous cr√©ez cela, appelez-le SantaTPL ;-).</span></p><p class="p_root__SHE_W">Published at<!-- --> <!-- -->vendredi 30 novembre 2012 √† 11:16:24<!-- -->.</p></section><section class="contentBlock_root__802UK"><aside class="share_root__Qm_RR"><h2 class="h2_root__Y02lX">Commenter et partager</h2><p class="p_root__SHE_W"><a class="a_root__WEPS7" title="Commenter sur Facebook" target="_blank" href="https://www.facebook.com/dialog/share?display=popup&amp;href=https%3A%2F%2Finsertafter.com%2Fblog%2Fsysteme_template_ideal&amp;redirect_uri=https%3A%2F%2Finsertafter.com"><span class="share_icon__bi4Q3 share_facebook__JKn8d"></span>Facebook</a> - <a class="a_root__WEPS7" title="Commenter sur Twitter" target="_blank" href="https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fsysteme_template_ideal&amp;text=Le%20syst%C3%A8me%20de%20template%20id%C3%A9al&amp;via=nfroidure"><span class="share_icon__bi4Q3 "></span>Twitter</a> - <a class="a_root__WEPS7" title="Me r√©pondre par mail" target="_self" href="mailto:nicolas.froidure@gmail.com"><span class="share_icon__bi4Q3 share_mail__yvBDK"></span>Courriel</a></p></aside></section><section class="contentBlock_root__802UK"><aside class="page_linkedEntries__jiPuT"><h2 class="h2_root__Y02lX">Articles similaires</h2><p class="p_root__SHE_W">Dans les cat√©gories<!-- --> <!-- -->JavaScript<!-- -->.</p><div class="items_entries__5hkLG"><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//bugmeback">BugMeBack¬†: La solution pour venir √† bout de vos bugs¬†?</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Le probl√®me avec les bugs, c&#x27;est qu&#x27;ils ont la f√¢cheuse tendance √† √™tre d√©tect√©s par des novices. C&#x27;est alors le parcours du combattant pour se les faire expliquer. BugMeBack va vous aider¬†!<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//bugmeback">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->samedi 27 octobre 2012 √† 23:53:43<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//polyfill_or_not">Faut-il utiliser les polyfills¬†?</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Tout √† chacun est tent√© d&#x27;utiliser HTML5 pour cr√©er des applications sympa exp√©rimentant le champs des possibles. Malheureusement, HTML5 n&#x27;est pas support√© par tous les navigateurs. C&#x27;est alors que se pose la question des polyfills.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//polyfill_or_not">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->dimanche 21 octobre 2012 √† 09:23:29<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//module_javascript">Les modules Javascript¬†: Un joyeux B</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">D√®s lors que l&#x27;on tente de cr√©er des applications complexes en Javascript, la segmentation du code en divers fichiers devient n√©cessaire. Cela g√©n√®re une nouvelle difficult√©, la modularisation du Javascript.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//module_javascript">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->vendredi 17 ao√ªt 2012 √† 13:34:48<!-- -->.</p><div class="items_clear__3fyGk"></div></div></div></aside></section></div></main><aside class="social_iaSocial__kdR1x"><nav><ul><li><a href="https://mastodon.social/@nfroidure" rel="me" title="Follow me on Mastodon" class="social_iaSocialMastodon__MTF6o"><span>Mastodon</span></a></li><li><a href="https://bsky.app/profile/nfroidure.bsky.social" rel="me" title="Follow me on Bluesky" class="social_iaSocialBluesky__fKW6M"><span>Bluesky</span></a></li><li><a href="https://twitter.com/nfroidure" title="Follow me on Twitter" class="social_iaSocialTwitter__9nU6R"><span>Twitter</span></a></li><li><a href="https://github.com/nfroidure" title="See my GitHub projects" class="social_iaSocialGithub__vcU5_"><span>GitHub</span></a></li><li><a href="https://www.npmjs.org/~nfroidure" title="Check my NPM modules" class="social_iaSocialNpm__6nku5"><span>NPM</span></a></li><li><a href="https://www.linkedin.com/in/nfroidure/" rel="me" title="See my LinkedIn profile" class="social_iaSocialLinkedin__pWACO"><span>LinkedIn</span></a></li><li><a href="https://facebook.com/nicolas.froidure.douai" rel="me" title="Follow me on Facebook" class="social_iaSocialFacebook__w4wfH"><span>Facebook</span></a></li><li><a href="/articles-systeme_template_ideal/blog/index.atom" title="Subscribe to my RSS feed" class="social_iaSocialFeed__gEQQ0"><span>RSS Feed</span></a></li></ul></nav></aside><footer class="footer_iaFooter__rhlnQ"><p class="footer_iaFooterContent__VZndF">¬© Nicolas Froidure 2012-<!-- -->2025</p></footer><script src="https://insertafter.com/_next/static/chunks/webpack-0cf58a546aefb656.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n9:I[9665,[],\"ViewportBoundary\"]\nb:I[9665,[],\"MetadataBoundary\"]\nd:I[6614,[],\"\"]\n:HL[\"https://insertafter.com/_next/static/css/d8edca5e7193033b.css\",\"style\"]\n:HL[\"https://insertafter.com/_next/static/css/93f5b1caf23b2daf.css\",\"style\"]\n:HL[\"https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"2byf_F3pfdCEJ5l9bUm8H\",\"p\":\"https://insertafter.com\",\"c\":[\"\",\"articles-systeme_template_ideal\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(withRedirects)\",{\"children\":[[\"locale\",\"articles-systeme_template_ideal\",\"d\"],{\"children\":[\"__PAGE__\",{}]},\"$undefined\",\"$undefined\",true]}]}],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(withRedirects)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"locale\",\"articles-systeme_template_ideal\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/d8edca5e7193033b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],\"$L4\"]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",\"$undefined\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/93f5b1caf23b2daf.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",\"$L8\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"ZvupByg-cJI4VKVNJa89o\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null]}],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:\"$Sreact.strict_mode\"\nf:I[8873,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"322\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-f7d50859cdd06b0e.js\"],\"default\"]\n10:I[2489,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"322\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-f7d50859cdd06b0e.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$e\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"articles-systeme_template_ideal\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_body__jFZuu\",\"children\":[null,[\"$\",\"header\",null,{\"className\":\"header_iaHeader__4vCMA\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/articles-systeme_template_ideal\",\"title\":\"Go back to home page\",\"className\":\"header_iaHeaderLogo__0uNr1\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/logo.svg\",\"alt\":\"InsertAfter's Logo\"}]}]}]}]}],[\"$\",\"$Lf\",null,{\"locale\":\"articles-systeme_template_ideal\",\"dictionary\":{\"home\":{\"label\":\"Home\",\"title\":\"Go back to home page\"},\"blog\":{\"label\":\"Blog\",\"title\":\"Read my blog posts\"},\"projects\":{\"label\":\"Projects\",\"title\":\"Discover my projects\"},\"about\":{\"label\":\"About me\",\"title\":\"Read more about me\"}}}],[\"$\",\"$L10\",null,{\"locale\":\"articles-systeme_template_ideal\"}],[\"$\",\"main\",null,{\"className\":\"layout_iaMain__6s2gl\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"aside\",null,{\"className\":\"social_iaSocial__kdR1x\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@nfroidure\",\"rel\":\"me\",\"title\":\"Follow me on Mastodon\",\"className\":\"social_iaSocialMastodon__MTF6o\",\"children\":[\"$\",\"span\",null,{\"children\":\"Mastodon\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://bsky.app/profile/nfroidure.bsky.social\",\"rel\":\"me\",\"title\":\"Follow me on Bluesky\",\"className\":\"social_iaSocialBluesky__fKW6M\",\"children\":[\"$\",\"span\",null,{\"children\":\"Bluesky\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://twitter.com/nfroidure\",\"title\":\"Follow me on Twitter\",\"className\":\"social_iaSocialTwitter__9nU6R\",\"children\":[\"$\",\"span\",null,{\"children\":\"Twitter\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/nfroidure\",\"title\":\"See my GitHub projects\",\"className\":\"social_iaSocialGithub__vcU5_\",\"children\":[\"$\",\"span\",null,{\"children\":\"GitHub\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.org/~nfroidure\",\"title\":\"Check my NPM modules\",\"className\":\"social_iaSocialNpm__6nku5\",\"children\":[\"$\",\"span\",null,{\"children\":\"NPM\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/nfroidure/\",\"rel\":\"me\",\"title\":\"See my LinkedIn profile\",\"className\":\"social_iaSocialLinkedin__pWACO\",\"children\":[\"$\",\"span\",null,{\"children\":\"LinkedIn\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://facebook.com/nicolas.froidure.douai\",\"rel\":\"me\",\"title\":\"Follow me on Facebook\",\"className\":\"social_iaSocialFacebook__w4wfH\",\"children\":[\"$\",\"span\",null,{\"children\":\"Facebook\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/articles-systeme_template_ideal/blog/index.atom\",\"title\":\"Subscribe to my RSS feed\",\"className\":\"social_iaSocialFeed__gEQQ0\",\"children\":[\"$\",\"span\",null,{\"children\":\"RSS Feed\"}]}]}]]}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_iaFooter__rhlnQ\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_iaFooterContent__VZndF\",\"children\":[\"¬© Nicolas Froidure 2012-\",2025]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"content\":\"#3e78b2\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"11:I[6874,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"96\",\"static/chunks/96-3883dbab65ddc99f.js\",\"779\",\"static/chunks/app/(withLocale)/%5Blocale%5D/%5B...slug%5D/page-f69cf0f70d06d9dc.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[[\"$\",\"h1\",\"0\",{\"className\":\"h1_root__VPXQG\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Le syst√®me de template id√©al\"}]]}],[\"$\",\"p\",\"1\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"L'utilisation d'un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d'autres probl√©matiques. L'existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux.\"}]]}],[\"$\",\"h2\",\"2\",{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Les syst√®mes de template\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#les-systemes-de-template\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"les-systemes-de-template\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"3\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Il existe de nombreux syst√®mes de templating pour chaque langage de programmation utilis√© pour faire du web. Parmi eux ont peut citer Smarty, Templeet pour PHP, Mustache pour Javascript etc...\"}]]}],[\"$\",\"h3\",\"4\",{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Avantages\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#avantages\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"avantages\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"5\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Les avantages d'un syst√®me de template sont avant tout une bonne s√©paration du code HTML et du code PHP/Javascript. De cette fa√ßon, un int√©grateur HTML/CSS peut intervenir sans avoir √† toucher au PHP ce qui est un confort pour lui et une s√©curit√© pour le d√©veloppeur back-end. Certains diront que PHP seul, par exemple, est un moteur de template. C'est vrai. Mais utilis√© de mani√®re rigoureuse. Malheureusement, peu de gens sont capable de s'imposer un cadre strict sans que ce dernier ne soit impos√©.\"}]]}],[\"$\",\"p\",\"6\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Un autre avantage de cette s√©paration est que si vous mettez en place un cache d'OPCode pour votre PHP sur un serveur avec peu de RAM, vous permettrez une ex√©cution plus rapide de votre PHP car cette RAM ne sera pas encombr√©e pas du HTML.\"}]]}],[\"$\",\"h3\",\"7\",{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Inconv√©nients\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#inconvenients\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"inconvenients\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"8\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Parmi les inconv√©nients, la majeure partie des syst√®mes de templating (voire tous) fonctionnent de mani√®re bloquante. Ils chargent la totalit√© du template, utilisent les expressions r√©guli√®res pour matcher les variables √† remplacer et retournent une variable avec le texte issu de ce processus. Ce qui signifie qu'entre le moment o√π le template est lu et celui o√π il est retourn√©, rien n'est envoy√© au client.\"}]]}],[\"$\",\"p\",\"9\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"En faisant du templating avec PHP, le code HTML est envoy√© au client au fur et √† mesure qu'il est interpr√©t√© par PHP. Ainsi, D√®s le premier octet lu, PHP est susceptible d'envoyer des donn√©es au client. De ce fait, la RAM est moins utilis√©e pour stocker de gros volumes de texte comme pour les syst√®mes de template. Vu le poids grandissant des pages, on comprend le probl√®me pour des sites √† fort trafic.\"}]]}],[\"$\",\"p\",\"10\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"La lenteur est aussi un probl√®me. En partie √† cause de cet aspect bloquant, mais aussi √† cause de l'enregistrement des templates sur le disque. Si vous avez beaucoup de RAM, alors, la solution du templating PHP avec le cache d'OPCode devient une feature et booste les performances d'affichage de vos sites. Vous pouvez obtenir le m√™me r√©sultat en cachant vos templates en RAM ou en les mettant sur un RAMDisk, mais c'est une manipulation suppl√©mentaire qui est rarement fa√Æte dans les faits.\"}]]}],[\"$\",\"p\",\"11\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Enfin, malheureusement, la plupart des syst√®mes de template vont trop loin. A mon sens, il ne faut pas remplacer les langages de programmation dans ces syst√®mes et se contenter de faire du remplacement et non des appels de fonction, des expressions et toutes les autres aberrations qu'on peut trouver dans ces outils. C'est la philosophie que j'ai reprise quand j'ai cr√©√© le syst√®me de template de XCMS (CMS aujourd'hui √©teint).\"}]]}],[\"$\",\"h2\",\"12\",{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Le syst√®me de template id√©al\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#le-systeme-de-template-ideal\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"le-systeme-de-template-ideal\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"13\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Vous l'aurez compris, je trouve qu'un syst√®me de template c'est bien, mais que les syst√®mes existants sont mauvais (y compris le mien, qui date un peu). Mais tout n'est pas perdu, je pense qu'il est possible de cr√©er le syst√®me de templating id√©al.\"}]]}],[\"$\",\"h3\",\"14\",{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Cross-langage\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#cross-langage\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"cross-langage\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"15\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Un bon syst√®me de template n'est pas d√©pendant d'un langage en particulier (Javascript/PHP) et doit √™tre impl√©mentable et interchangeable de fa√ßon neutre dans chaque langage. Ce qui signifie qu'il faut √©viter tout r√©f√©rence aux fonctions internes de chaque langage. Cela rejoint le fait que pour moi, un syst√®me de template ne doit faire que du remplacement de variables.\"}]]}],[\"$\",\"p\",\"16\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"De plus, rien ne nous emp√™che de faire de l'appel de fonction gr√¢ce aux setters/getters (binding) et donc d'impl√©menter des comportements plus fun sans probl√®me et sans complexifier le syst√®me de template.\"}]]}],[\"$\",\"h3\",\"17\",{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Aussi bien c√¥t√© serveur que client\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#aussi-bien-cote-serveur-que-client\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"aussi-bien-cote-serveur-que-client\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"18\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Un syst√®me de template doit √™tre utilisable aussi bien c√¥t√© serveur que c√¥t√© client. Cela signifie qu'il doit pouvoir √™tre charg√© par le parseur HTML du navigateur avant d'√™tre compl√©t√© gr√¢ce au DOM. C'est ce que propose \"}],[\"$\",\"$L11\",\"1\",{\"href\":\"https://github.com/joewalker/domtemplate\",\"className\":\"a_root__WEPS7\",\"title\":\"Voir le d√©p√¥t sur GitHub\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"DOM template\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\", mais je ne suis pas d'accord avec ce dernier sur certains points. Il faut que le HTML du template soit valide en tout point. Or, il utilise des attributs du genre \"}],[\"$\",\"code\",\"3\",{\"className\":\"code_root__5JLV_\",\"children\":\"if=\\\"macondition\\\"\"}],[\"$\",\"span\",\"4\",{\"children\":\" qui ne sont pas standards.\"}]]}],[\"$\",\"p\",\"19\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"A mon sens, le template id√©al utilise les attributs \"}],[\"$\",\"code\",\"1\",{\"className\":\"code_root__5JLV_\",\"children\":\"data-*\"}],[\"$\",\"span\",\"2\",{\"children\":\". On pourrait imaginer des templates du genre¬†:\"}]]}],[\"$\",\"div\",\"20\",{\"className\":\"code_root__5JLV_\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"pre\",null,{\"children\":\"\u003cdiv data-tpl-if=\\\"articles.length\\\" data-tpl-loop=\\\"articles\\\"\u003e\\n  \u003carticle\u003e\\n    \u003ch1 data-tpl-cdata=\\\"articles:title\\\"\u003e\u003c/h1\u003e\\n    \u003cp data-tpl-cdata=\\\"articles:description\\\"\u003e\u003c/p\u003e\\n    \u003cp data-tpl-pcdata=\\\"articles:content\\\"\u003e\u003c/p\u003e\\n    \u003cp\u003e\\n      \u003ca\\n        data-tpl-att-href=\\\"articles:href\\\"\\n        data-tpl-att-title=\\\"i18n.read_link_title\\\"\\n        data-tpl-content=\\\"i18n.read_link\\\"\\n      \u003e\u003c/a\u003e\\n    \u003c/p\u003e\\n  \u003c/article\u003e\\n\u003c/div\u003e\"}]}]}],[\"$\",\"p\",\"21\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Vous avez compris l'id√©e si vous √™tes familier des syst√®mes de template. Ce HTML est tout √† fait valide et peut tout aussi bien √™tre trait√© c√¥t√© client que c√¥t√© serveur avec une API de type DOM ou en faisant du parsing voire avec des expressions r√©guli√®res mais nous avons d√©j√† vu que c'√©tait le mal.\"}]]}],[\"$\",\"p\",\"22\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Autre avantage, cela rend les templates √©ditables directement dans un √©diteur HTML WYSIWYG ou de code source avec la coloration syntaxique qui va bien sans effort suppl√©mentaire. On pourrait m√™me imaginer ajouter une extension √† un √©diteur existant pour remplir les donn√©es √† des fins de test de rendu des templates.\"}]]}],[\"$\",\"p\",\"23\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Enfin, il est tout √† fait possible de g√©n√©rer le contenu du template c√¥t√© serveur mais en laissant les attributs data-tpl-*, puis de mettre √† jour ce dernier en Javascript c√¥t√© client.\"}]]}],[\"$\",\"h3\",\"24\",{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Streamable\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"#streamable\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"streamable\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"üîó\"}]}]}]]}]}],[\"$\",\"p\",\"25\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Enfin, le contenu g√©n√©r√© par le syst√®me de template doit √™tre stream√©. C'est √† dire qu'il doit recevoir en entr√©e un ou plusieurs input streams et fournir un output stream en sortie afin de pouvoir lire les templates, les compl√©ter et les envoyer au flux.\"}]]}],[\"$\",\"p\",\"26\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Pour ce faire, le template doit √™tre pars√© avec une API de parsing XML/SGML de type √©v√®nementiel ou directement caract√®res par caract√®res.\"}]]}],[\"$\",\"ul\",\"27\",{\"className\":\"ul_ul__qh0e9\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"dans n'importe quel attribut de type data-tpl-*, si la variable existe, on la traite, sinon, on stoppe la sortie en attendant la lecture de toutes les variables du template et on reprend quand c'est termin√© le test d'existence. Pendant ce temps, on continue de lire le template et on indexe les autres appels au syst√®me de template demand√©s par les attributs de type data-tpl-*.\"}]]}]]}],[\"$\",\"li\",\"1\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"pour un simple remplacement de valeur, on n'a qu'a remplacer la valeur.\"}]]}]]}],[\"$\",\"li\",\"2\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"pour une condition, si elle est vraie, on continue √† traiter et envoyer le template. Si elle est fausse, on stoppe le traitement des attributs data-tpl-* tant qu'on ne rencontre pas la balise fermante.\"}]]}]]}],[\"$\",\"li\",\"3\",{\"className\":\"li_root__oY9Dv\",\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"pour une boucle, on stoppe la sortie, on lit la totalit√© de la boucle jusqu'√† la balise fermante. Pour chaque entr√©e, on remplit le template de la boucle et on le dirige vers la sortie.\"}]]}]]}]]}],[\"$\",\"p\",\"28\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"De cette fa√ßon, on optimise l'utilisation de la m√©moire, on envoie ce qui doit l'√™tre sans attendre, bref, le syst√®me id√©al. C'est un peu ma commande pour No√´l, soyez chic, fa√Ætes-le¬†! Ne m'obligez pas √† le faire moi-m√™me en mode bande de nerd √† moi tout seul (je m'fend la gueule¬†!).\"}]]}],[\"$\",\"p\",\"29\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"PS: Si vous cr√©ez cela, appelez-le SantaTPL ;-).\"}]]}]],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Published at\",\" \",\"vendredi 30 novembre 2012 √† 11:16:24\",\".\"]}]]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"share_root__Qm_RR\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Commenter et partager\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L11\",null,{\"href\":\"https://www.facebook.com/dialog/share?display=popup\u0026href=https%3A%2F%2Finsertafter.com%2Fblog%2Fsysteme_template_ideal\u0026redirect_uri=https%3A%2F%2Finsertafter.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Commenter sur Facebook\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_facebook__JKn8d\"}],\"Facebook\"]]}],\" - \",[\"$\",\"$L11\",null,{\"href\":\"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fsysteme_template_ideal\u0026text=Le%20syst%C3%A8me%20de%20template%20id%C3%A9al\u0026via=nfroidure\",\"className\":\"a_root__WEPS7\",\"title\":\"Commenter sur Twitter\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 \"}],\"Twitter\"]]}],\" - \",[\"$\",\"$L11\",null,{\"href\":\"mailto:nicolas.froidure@gmail.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Me r√©pondre par mail\",\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_mail__yvBDK\"}],\"Courriel\"]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"page_linkedEntries__jiPuT\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Articles similaires\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Dans les cat√©gories\",\" \",\"JavaScript\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_entries__5hkLG\",\"children\":[[\"$\",\"div\",\"bugmeback\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L11\",null,{\"href\":\".//bugmeback\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"BugMeBack¬†: La solution pour venir √† bout de vos bugs¬†?\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Le probl√®me avec les bugs, c'est qu'ils ont la f√¢cheuse tendance √† √™tre d√©tect√©s par des novices. C'est alors le parcours du combattant pour se les faire expliquer. BugMeBack va vous aider¬†!\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L11\",null,{\"href\":\".//bugmeback\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"samedi 27 octobre 2012 √† 23:53:43\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"polyfill_or_not\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L11\",null,{\"href\":\".//polyfill_or_not\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Faut-il utiliser les polyfills¬†?\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Tout √† chacun est tent√© d'utiliser HTML5 pour cr√©er des applications sympa exp√©rimentant le champs des possibles. Malheureusement, HTML5 n'est pas support√© par tous les navigateurs. C'est alors que se pose la question des polyfills.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L11\",null,{\"href\":\".//polyfill_or_not\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"dimanche 21 octobre 2012 √† 09:23:29\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"module_javascript\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L11\",null,{\"href\":\".//module_javascript\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Les modules Javascript¬†: Un joyeux B\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"D√®s lors que l'on tente de cr√©er des applications complexes en Javascript, la segmentation du code en divers fichiers devient n√©cessaire. Cela g√©n√®re une nouvelle difficult√©, la modularisation du Javascript.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L11\",null,{\"href\":\".//module_javascript\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"vendredi 17 ao√ªt 2012 √† 13:34:48\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}]]}]]}]}]]\n"])</script><script>self.__next_f.push([1,"8:null\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"title\",\"0\",{\"children\":\"Le syst√®me de template id√©al - Nicolas Froidure\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"L'utilisation d'un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d'autres probl√©matiques. L'existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://insertafter.com\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"4\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://insertafter.com/fr/blog/systeme_template_ideal\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Le syst√®me de template id√©al - Nicolas Froidure\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"L'utilisation d'un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d'autres probl√©matiques. L'existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux.\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://insertafter.com/fr/blog/systeme_template_ideal\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"fr_FR\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:alt\",\"content\":\"Banni√®re du site\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:site\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:creator\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:title\",\"content\":\"Le syst√®me de template id√©al - Nicolas Froidure\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:description\",\"content\":\"L'utilisation d'un syst√®me de template est tr√®s avantageuse, mais apporte √©galement d'autres probl√©matiques. L'existant ne me satisfait pas vraiment, voyons pourquoi et comment faire mieux.\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image:alt\",\"content\":\"Banni√®re du site\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/images/favicon.svg\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"22\",{\"rel\":\"icon\",\"href\":\"/images/favicon-16.png\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/images/favicon-128.png\",\"type\":\"image/png\",\"sizes\":\"128x128\"}]]\n"])</script></body></html>