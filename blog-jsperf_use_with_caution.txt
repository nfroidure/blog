3:I[5613,[],""]
5:I[1778,[],""]
4:["locale","blog-jsperf_use_with_caution","d"]
0:["KvaQf7Occ1_mTQr28YDxi",[[["",{"children":["(withoutLocale)",{"children":[["locale","blog-jsperf_use_with_caution","d"],{"children":["__PAGE__?{\"locale\":\"blog-jsperf_use_with_caution\"}",{}]}]},"$undefined","$undefined",true]}],["",{"children":["(withoutLocale)",{"children":[["locale","blog-jsperf_use_with_caution","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withoutLocale)","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/4909000cd2d942cc.css","precedence":"next","crossOrigin":""}]]}]]},[null,"$L6",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/655a273f6fe37552.css","precedence":"next","crossOrigin":""}]]}]],[null,"$L7"]]]]
8:"$Sreact.strict_mode"
9:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
a:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
b:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
c:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
d:{"display":"inline-block"}
e:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
6:["$","$8",null,{"children":["$","html",null,{"lang":"en","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/en","title":"Go back to home page","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"InsertAfter's Logo"}]}]}]}]}],["$","$L9",null,{"locale":"en","dictionary":{"home":{"label":"Home","title":"Go back to home page"},"blog":{"label":"Blog","title":"Read my blog posts"},"projects":{"label":"Projects","title":"Discover my projects"},"about":{"label":"About me","title":"Read more about me"}}}],["$","$La",null,{"locale":"en"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withoutLocale)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$b","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$c","children":"404"}],["$","div",null,{"style":"$d","children":["$","h2",null,{"style":"$e","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Follow me on Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Follow me on Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Follow me on Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"See my GitHub projects","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Check my NPM modules","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"See my LinkedIn profile","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Follow me on Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/en/blog/index.atom","title":"Subscribe to my RSS feed","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"RSS Feed"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["Â© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
f:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","790","static/chunks/790-a194f74901d33197.js","770","static/chunks/app/(withoutLocale)/%5Blocale%5D/page-6e49227023738746.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Detecting Bad JavaScript Performance Tests On JSPerf"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"JSPerf gives us a simple way to write JavaScript performance tests. Unfortunately, tests found aren't always well designed. Here's how to detect and avoid them."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"When I discovered "}],["$","$Lf",null,{"href":"https://jsperf.com/","className":"a_root__WEPS7","title":"Create Performance tests","target":"_blank","children":[null,[["$","span","0",{"children":"JSperf.com"}]]]}],["$","span","2",{"children":", I was really impressed by its ease of use. Writing JavaScript performance tests just became as simple as writing JavaScriptÂ :). Knowing it, i'm often looking for perf tests on it to quickly have an overview of results for a particular case."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Sadly, it rarely fit my needs, whilst it often reflect a poor understanding of what performance testing means. Here is a summary of my experience with those tests, how to detect them and how to impeach them to lead developers to mistakes."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"When tests smell"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#when-tests-smell","className":"anchored_icon__N5Sem","id":"when-tests-smell","title":"Lien vers cette section","children":["$","span",null,{"children":"ðŸ”—"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"One particular case you should be aware of is the use of console.* methods. Thoses methods should never be found in a test since "}],["$","$Lf",null,{"href":"https://jsperf.com/console-log-performance/6","className":"a_root__WEPS7","title":"Look at a test on console.log speed","target":"_blank","children":[null,[["$","span","0",{"children":"they are really slow"}]]]}],["$","span","2",{"children":" and will tend to equalize test results especially for critical performance test. Unfortunately, it's very common to see "}],["$","$Lf",null,{"href":"https://www.google.com/search?q=site%3Ajsperf.com++%22console.log%28%22&aq=f&oq=site%3Ajsperf.com++%22console.log%28%22","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":"tests using console.log"}]]]}],["$","span","4",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"By the way, If you test something, test it "}],["$","strong",null,{"className":"strong_root__kOzFq","children":[["$","span","0",{"children":"only"}]]}],["$","span","2",{"children":". The above console.log test's "}],["$","$Lf",null,{"href":"https://jsperf.com/console-log-performance/2","className":"a_root__WEPS7","title":"View one of them","target":"_blank","children":[null,[["$","span","0",{"children":"prior versions"}]]]}],["$","span","4",{"children":" were completely unusefull since they didn't test only console.log. The purpose of a test is to reveal the overhead of the tested feature, so you should find the smallest footprint possible for your wrapping code."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Another problem with previous revisions of this test is usage of a for loop in order to make the test more \"massive\": JSPerf do it for you, stop wasting your time."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Another common issue is when code is valid, but not well formed. It often lead to strange test results. So, take time to read the test code if you plan to exploit it's results. Common mistakes of that kind areÂ :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"forgetting to execute a function ("}],["$","code",null,{"className":"code_root__5JLV_","children":"myFunction;"}],["$","span","2",{"children":" instead of"}],["$","code",null,{"className":"code_root__5JLV_","children":"myFunction();"}],["$","span","4",{"children":"),"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"abnormal return or break instruction,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"bad logic,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"undefined identifiers,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"etc..."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Those mistakes are leading most of the time to better performances since some parts of the code aren't executed."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Another way to detect bad tests is to look at later revisions, it sometimes add some tests but often fix them. All in all, if you do not want to spend time checking if a test is right, you can look after JavaScript Rockstars tests (Addy Osmani, John Resig, ...)."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Avoid creating bad test"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#avoid-creating-bad-test","className":"anchored_icon__N5Sem","id":"avoid-creating-bad-test","title":"Lien vers cette section","children":["$","span",null,{"children":"ðŸ”—"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Anyone can create a bad test, but there are some good practices to reduce the riskÂ :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"if you're a noobÂ : "}],["$","strong",null,{"className":"strong_root__kOzFq","children":[["$","span","0",{"children":"don't write perf tests,"}]]}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"read your code many times before submitting,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"test your code in the JavaScript console first,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"if you made shit, mark it as shit (comment with a link to the modified revisions),"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"if someone mark it as shit, don't be hurt. Testing is not about you, "}],["$","strong",null,{"className":"strong_root__kOzFq","children":[["$","span","0",{"children":"it's about truth"}]]}],["$","span","2",{"children":"."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"That's it, this post is over. If you've got some other good practices or another way to detect bad tests let me know!"}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","jeudi 6 juin 2013 Ã  18:21:50","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Comment and share"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$Lf",null,{"href":"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fjsperf_use_with_caution","className":"a_root__WEPS7","title":"Comment on Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$Lf",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fjsperf_use_with_caution&text=Detecting%20Bad%20JavaScript%20Performance%20Tests%20On%20JSPerf&via=nfroidure","className":"a_root__WEPS7","title":"Comment on Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$Lf",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Answer via email","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Email"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Similar posts"}],["$","p",null,{"className":"p_root__SHE_W","children":["In the categories"," ","JavaScript and Performances","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","revisiting_js_singleton_pattern",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//revisiting_js_singleton_pattern","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Read this blog post","target":"_self","children":[null,"Revisiting The JavaScript Singleton Pattern"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["JavaScript design patterns are quite good examples to sharp your JavaScript skills. Let's take a look to the singleton pattern."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//revisiting_js_singleton_pattern","className":"a_root__WEPS7","title":"Read this blog post","target":"_self","children":[null,"Read the full post"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","jeudi 30 mai 2013 Ã  09:38:19","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","fifo_lifo_javascript",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//fifo_lifo_javascript","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Read this blog post","target":"_self","children":[null,"Easily Implement Stacks (Fifo) And Queues (Lifo) With JavaScript"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["I'm currently reviewing Javascript basis for a personnal project and it appears I often use stacks and queues implicitly. Let's make it explicit and easyer to debug/use."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//fifo_lifo_javascript","className":"a_root__WEPS7","title":"Read this blog post","target":"_self","children":[null,"Read the full post"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","mardi 9 avril 2013 Ã  11:50:52","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","markdown_ast_to_react",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//markdown_ast_to_react","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Read this blog post","target":"_self","children":[null,"Print your Markdown content with React through AST"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["A journey to printing my blog Markdown contents with my custom components."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//markdown_ast_to_react","className":"a_root__WEPS7","title":"Read this blog post","target":"_self","children":[null,"Read the full post"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","mercredi 1 dÃ©cembre 2021 Ã  23:00:00","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Detecting Bad JavaScript Performance Tests On JSPerf - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"JSPerf gives us a simple way to write JavaScript performance tests.Unfortunately, tests found aren't always well designed. Here's how to detect and avoid them."}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/en/blog/jsperf_use_with_caution"}],["$","meta","9",{"property":"og:title","content":"Detecting Bad JavaScript Performance Tests On JSPerf - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"JSPerf gives us a simple way to write JavaScript performance tests.Unfortunately, tests found aren't always well designed. Here's how to detect and avoid them."}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/en/blog/jsperf_use_with_caution"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"en_US"}],["$","meta","14",{"property":"og:image:alt","content":"Website banner"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Detecting Bad JavaScript Performance Tests On JSPerf - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"JSPerf gives us a simple way to write JavaScript performance tests.Unfortunately, tests found aren't always well designed. Here's how to detect and avoid them."}],["$","meta","22",{"name":"twitter:image:alt","content":"Website banner"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
