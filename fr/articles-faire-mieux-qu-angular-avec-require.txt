3:I[5613,[],""]
6:I[1778,[],""]
4:["locale","fr","d"]
5:["slug","articles-faire-mieux-qu-angular-avec-require","oc"]
8:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
9:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
a:{"display":"inline-block"}
b:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["0iMe3vHKCcHPUIZbS85nF",[[["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":[["slug","articles-faire-mieux-qu-angular-avec-require","oc"],{"children":["__PAGE__?{\"locale\":\"fr\",\"slug\":[\"articles-faire-mieux-qu-angular-avec-require\"]}",{}]}]},"$undefined","$undefined",true]}]}],["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":[["slug","articles-faire-mieux-qu-angular-avec-require","oc"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children","$5","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/cd8d1ff5c688cf4d.css","precedence":"next","crossOrigin":""}]]}]]},[null,"$L7",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/655a273f6fe37552.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$8","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$9","children":"404"}],["$","div",null,{"style":"$a","children":["$","h2",null,{"style":"$b","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]],[null,"$Lc"]]]]
d:"$Sreact.strict_mode"
e:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
f:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
7:["$","$d",null,{"children":["$","html",null,{"lang":"fr","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/fr","title":"Retour à l’accueil","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"Logo d’InsertAfter"}]}]}]}]}],["$","$Le",null,{"locale":"fr","dictionary":{"home":{"label":"Accueil","title":"Retour à l’accueil"},"blog":{"label":"Blog","title":"Retour à l’index du blog"},"projects":{"label":"Projets","title":"Découvrir mes divers projets"},"about":{"label":"À propos","title":"En savoir plus à mon sujet"}}}],["$","$Lf",null,{"locale":"fr"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$L10","notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/719d59f1b635ba1d.css","precedence":"next","crossOrigin":""}]],"styles":null}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Me suivre sur Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Me suivre sur Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Me suivre sur Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"Voir mes projets sur GitHub","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Voir mon compte NPM","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"Voir mon profil LinkedIn","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Me suivre sur Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/fr/blog/index.atom","title":"S’abonner au flux RSS","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"Flux RSS"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
10:["$","section",null,{"className":"contentBlock_root__802UK","children":[["$","h1",null,{"className":"h1_root__VPXQG","children":"Page not found"}],["$","p",null,{"className":"not-found_p__fvcGn","children":[["$","img",null,{"className":"not-found_img__IT2jY","src":"https://media.giphy.com/media/12mPcp41D9a1i0/giphy.gif","alt":"404.png"}],["$","p",null,{"className":"p_root__SHE_W","children":"It seems that the page you look for doesn't exist."}]]}]]}]
11:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","790","static/chunks/790-a194f74901d33197.js","730","static/chunks/app/(withLocale)/%5Blocale%5D/%5B%5B...slug%5D%5D/page-992952bac383cfc2.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Faire mieux qu'AngularJS avec require()"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Lors de "}],["$","$L11",null,{"href":"https://www.youtube.com/watch?v=n8nvHFfEFC4","className":"a_root__WEPS7","title":"Voir la présentation sur YouTube","target":"_blank","children":[null,[["$","span","0",{"children":"ma dernière présentation"}]]]}],["$","span","2",{"children":" pour "}],["$","$L11",null,{"href":"http://chtijs.francejs.org/archives/2015-02-05/index.html","className":"a_root__WEPS7","title":"Voir le résumé de cette édition","target":"_blank","children":[null,[["$","span","0",{"children":"#ChtiJS10"}]]]}],["$","span","4",{"children":", j'ai cédé au troll à propos du système de modules d'AngularJS. En effet, bien qu'il m'ait paru plutôt smart au début, j'ai vite compris ses limites."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"En effet, le fait de devoir wrapper le moindre code JavaScript d'une série de lignes qui peuvent sembler un peu déroutante pour un non initié est particulièrement ennuyeux. De plus, la création de builds pour AngularJS est très fastidieux du fait de l'usage de bower pour les récupérer."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Bref, à côté de la simplicité et de l'efficacité de NPM et des modules CommonJS ce système fait pâle figure. La question est donc, peut-on faire les même choses avec "}],["$","code",null,{"className":"code_root__5JLV_","children":"require()"}],["$","span","2",{"children":" qu'avec le système de gestion de modules d'Angular ? La réponse est oui et voici comment !"}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Service simple"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#service-simple","className":"anchored_icon__N5Sem","id":"service-simple","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si vous avez déjà utilisé Angular, vous savez que l'une des bonnes pratiques est de publier votre code sous forme de services. Les services sont une sorte de singleton namespacé et configurables pour votre application :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"angular\n  .module(\"my.app.namespace\", [\"my.dep1.namespace\", \"my.dep2.namespace\"])\n  .service(\"MyService\", [\n    \"dep1\",\n    \"dep2\",\n    function (dep1, dep2) {\n      var _myPrivateVar = \"secret\";\n      var myServiceInstance = {\n        getPrivate: function () {\n          return _myPrivateVar;\n        },\n        myPublicVar: \"hello!\",\n        myPublicFunction: function () {},\n      };\n\n      return myServiceInstance;\n    },\n  ]);"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cette syntaxe a plusieurs buts avoués :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"cloisonner le code en espace de noms (pour éviter les collisions),"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"rendre le code maintenable et réutilisable (grâce à la modularisation),"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"rendre le code testable (grâce à l'injection de dépendances)."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cependant, elle est assez verbeuse. Voici son équivalent sous la forme de module CommonJS (pour NodeJS) :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"var dep1 = require(\"dep1\");\nvar dep2 = require(\"./lib/dep2\");\n\nvar _myPrivateVar = \"secret\";\nvar myServiceInstance = {\n  getPrivate: function () {\n    return _myPrivateVar;\n  },\n  myPublicVar: \"hello!\",\n  myPublicFunction: function () {},\n};\n\nmodule.exports = myServiceInstance;"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Au delà du fait qu'elle est plus concise, cette syntaxe est aussi plus claire. Il n'est pas nécessaire de connaître le fonctionnement de JavaScript pour comprendre ce que fait ce code."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Tout d'abord, il requiert les dépendances dont il a besoin. Ici, les espaces de nom sont gérés d'une façon beaucoup plus intéressante. L'unicité de la dépendance "}],["$","code",null,{"className":"code_root__5JLV_","children":"dep2"}],["$","span","2",{"children":" est assurée par un dépôt centralisé de modules (ici NPM). Celle de la dépendance "}],["$","code",null,{"className":"code_root__5JLV_","children":"dep1"}],["$","span","4",{"children":" quand à elle est assurée par l'arborescence du projet."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, il exporte le contenu de "}],["$","code",null,{"className":"code_root__5JLV_","children":"myServiceInstance"}],["$","span","2",{"children":" comme étant le \"contenu\" du module. Bref, le fonctionnement classique des modules CommonJS, jusqu'ici, rien d'insurmontable."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Service configuré"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#service-configure","className":"anchored_icon__N5Sem","id":"service-configure","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Mais un habitué d'Angular me rétorquera que les services Angular sont configurables, grâce aux service providers. Ce qui en Angular, donne ça :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"// Définition\nangular\n  .module(\"my.app.namespace\", [\"my.dep1.namespace\", \"my.dep2.namespace\"])\n  .provider(\"MyServiceProvider\", [\n    \"dep1\",\n    \"dep2\",\n    function (dep1, dep2) {\n      var _myPrivateVar = \"secret\";\n\n      this.setSecret = function (newSecret) {\n        _myPrivateVar = newSecret;\n      };\n\n      this.$get(function () {\n        var myServiceInstance = {\n          getPrivate: function () {\n            return _myPrivateVar;\n          },\n          myPublicVar: \"hello!\",\n          myPublicFunction: function () {},\n        };\n\n        return myServiceInstance;\n      });\n    },\n  ]);\n\n// Configuration\nmyApp.config(\"MyServiceProvider\", [\n  \"MyServiceProvider\",\n  function (MyServiceProvider) {\n    MyServiceProvider.setSecret(\"kikoo\");\n  },\n]);\n\n// Utilisation par injection dans un controller/module...\n// à la manière de dep1"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ça en fait du code. Je vous laisse voir ça en détail sur la"}],["$","$L11",null,{"href":"https://docs.angularjs.org/guide/providers","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":" documentation d'AngularJS"}]]]}],["$","span","2",{"children":", retenez simplement que l'idée ici est de configurer un singleton global. Chose que l'on réalise comme ceci avec CommonJS :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"// Définition getmyservice.js\nfunction getMyServiceInstance(mySecret) {\n  var dep1 = require(\"dep1\");\n  var dep2 = require(\"./lib/dep2\");\n\n  var _myPrivateVar = \"secret\";\n  var myServiceInstance = {\n    getPrivate: function () {\n      return _myPrivateVar;\n    },\n    myPublicVar: \"hello!\",\n    myPublicFunction: function () {},\n  };\n\n  return myServiceInstance;\n}\n\nmodule.exports = getMyServiceInstance;\n\n// Configuration myservice.js\nmodule.exports = require(\"./getmyservice\")(\"secretdefense\");\n\n// Utilisation par require dans n'importe quel module\nvar myService = require(\"./myservice\");\n\nmyService.myPublicFunction(\"hello!\");"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'idée est de créer un module qui soit simplement le retour d'appel d'une fonction permettant de récupérer une version configurée d'un service donné. De cette façon on peut accéder à celui-ci n'importe où dans le programme par simple appel à require."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cependant, j'ai rarement recours à cette technique car c'est une sorte de singleton et à vrai dire, ce design pattern est de plus en plus décrié car il fait rarement sens."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Services \"wrappés\""}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#services-wrappes","className":"anchored_icon__N5Sem","id":"services-wrappes","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Angular a eu la merveilleuse idée de fournir des services pour les variables globales exposées par le système. Ainsi, pour accéder à "}],["$","code",null,{"className":"code_root__5JLV_","children":"window"}],["$","span","2",{"children":", il suffit d'injecter le service "}],["$","code",null,{"className":"code_root__5JLV_","children":"$$window"}],["$","span","4",{"children":", idem pour "}],["$","code",null,{"className":"code_root__5JLV_","children":"window.location"}],["$","span","6",{"children":" avec "}],["$","code",null,{"className":"code_root__5JLV_","children":"$$location"}],["$","span","8",{"children":" etc."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour le code en lui-même ceci n'a pas d'intérêt, mais pour les tests unitaires cette façon de procéder est essentielle. Ainsi, on peut injecter un service dédié au test mockant les fonctionnalités exposées par le service requis."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Avec "}],["$","code",null,{"className":"code_root__5JLV_","children":"require()"}],["$","span","2",{"children":", appliquer ce principe est également possible. Il suffit de créer le module correspondant. Ici, nous créons un \"service\" fournissant un accès au constructeur "}],["$","code",null,{"className":"code_root__5JLV_","children":"Date"}],["$","span","4",{"children":" :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"// contenu de date.js\nmodule.exports = Date;\n\n// utilisation\nvar Date = require(\"./date\");"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Il ne nous reste plus qu'à mocker les dates lors de nos tests unitaires."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les tests"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#les-tests","className":"anchored_icon__N5Sem","id":"les-tests","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Justement, parlons-en ! Angular a la réputation de faciliter les tests unitaires, en est-il de même pour les modules CommonJS."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"La réponse est non. Ce n'est pas automatique. Là où Angular vous mâche le travail en vous imposant un cadre, avec CommonJS, nous l'avons vu, créer des modules testables est une démarche consciente et non-obligatoire."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cela reste cependant possible grâce au module "}],["$","code",null,{"className":"code_root__5JLV_","children":"mockery"}],["$","span","2",{"children":". Par exemple, pour tester un module qui reposerait sur notre service wrappant "}],["$","code",null,{"className":"code_root__5JLV_","children":"Date"}],["$","span","4",{"children":", il suffirait de procéder ainsi :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"var mockery = require(\"mockery\");\nvar DateMock = require(\"date-mock\");\n\ndescribe(\"myModule\", function () {\n  beforeEach(function () {\n    mockery.enable({ useCleanCache: true });\n    mockery.registerMock(\"./date\", DateMock);\n    DateMock.curTime = 360000;\n  });\n\n  afterEach(function () {\n    mockery.deregisterMock(\"./date\");\n    mockery.disable();\n  });\n\n  it(\"should do stuff\", function () {\n    // Code des tests\n  });\n});"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ici "}],["$","code",null,{"className":"code_root__5JLV_","children":"mockery"}],["$","span","2",{"children":" substitue à la volée le module "}],["$","code",null,{"className":"code_root__5JLV_","children":"./date"}],["$","span","4",{"children":" par du code qui vous permet de simuler le temps. Il est également possible de simplement remplacer la variable globale Date, mais ceci peut avoir d'autres effets par ailleurs, je vous conseille donc plutôt cette technique."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Quel rapport avec le front ?"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#quel-rapport-avec-le-front","className":"anchored_icon__N5Sem","id":"quel-rapport-avec-le-front","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"À ce stade il se peut que vous vous demandiez comment utiliser des modules CommonJS pour vos projets front. Autrefois on "}],["$","$L11",null,{"href":"./utiliser_requirejs","className":"a_root__WEPS7","title":null,"target":"_self","children":[null,[["$","span","0",{"children":"utilisait RequireJS"}]]]}],["$","span","2",{"children":" et on créait ses "}],["$","$L11",null,{"href":"./module_javascript","className":"a_root__WEPS7","title":null,"target":"_self","children":[null,[["$","span","0",{"children":"modules AMD"}]]]}],["$","span","4",{"children":" avec ses p'tites mimines (ne faîtes plus ça !)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Avec "}],["$","$L11",null,{"href":"./browserify","className":"a_root__WEPS7","title":null,"target":"_self","children":[null,[["$","span","0",{"children":"browserify"}]]]}],["$","span","2",{"children":" ou webpack vous pourrez gérer finement la façon dont vous consommerez vos modules CommonJS sans efforts ;)."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"ES6"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#es6","className":"anchored_icon__N5Sem","id":"es6","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les modules ES6 vont bientôt être la règle et vous vous posez sûrement la question. Comment appliquer les préceptes ci-dessus à vos modules ES6 ?"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"À ce jour, vos modules ES6 sont en fait transformés en modules CommonJS et utilisés via "}],["$","code",null,{"className":"code_root__5JLV_","children":"require()"}],["$","span","2",{"children":". La question ne se pose donc pas vraiment."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"À l'avenir, en revanche, nos amis d'ECMA ont tout prévu, notamment une façon d'overrider le comportement du loader de module à la volée. Ça devrait se concrétiser via "}],["$","$L11",null,{"href":"http://babeljs.io/docs/learn-es6/#module-loaders","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":"System"}]]]}],["$","span","2",{"children":". Cette fonctionnalité devrait pouvoir être utilisée comme "}],["$","code",null,{"className":"code_root__5JLV_","children":"mockery"}],["$","span","4",{"children":" pour modifier le comportement de l'injection de dépendance d'ES6."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Voilà, j'espère que ce petit article vous a plût. Pour les angulariens, sachez que Angular 2.0 va supprimer son ancien système de module ce qui n'est pas une mauvaise nouvelles ;)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Petite mise à jour pour ajouter qu'il est possible d'appliquer ceci aux applications Angular également pour simplifier les tests et se passer de Karma, "}],["$","$L11",null,{"href":"https://github.com/SimpliField/angular-sf-load/blob/7ae1467c4ce914fdc8fed940d96a39c6b4cce026/src/load.service.specs.js#L8-L18","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":"voici un exemple"}]]]}],["$","span","2",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Le système d'injection d'Angular reste sympa malgré tout pour gérer les états globaux, mais son principal soucis est d'être trop intrusif sur la façon de gérer le code à mon goût. C'est pourquoi j'ai créé "}],["$","$L11",null,{"href":"https://github.com/nfroidure/knifecycle","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":"Knifecycle"}]]]}],["$","span","2",{"children":" qui reprend ses concepts mais de façon moins intrusive et surtout applicable pour le backend (prise en compte du graceful shutdown)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, le système d'injection d'Angular2 a tiré pas mal de leçons des erreurs précédentes et même si je ne suis pas fan d'Angular2 je reconnais qu'il y a eu des progrès de ce côté."}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","jeudi 12 mars 2015 à 08:49:00","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Commenter et partager"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$L11",null,{"href":"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Ffaire-mieux-qu-angular-avec-require","className":"a_root__WEPS7","title":"Commenter sur Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$L11",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Ffaire-mieux-qu-angular-avec-require&text=Faire%20mieux%20qu'AngularJS%20avec%20require()&via=nfroidure","className":"a_root__WEPS7","title":"Commenter sur Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$L11",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Me répondre par mail","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Courriel"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Articles similaires"}],["$","p",null,{"className":"p_root__SHE_W","children":["Dans les catégories"," ","JavaScript","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","watchdeps",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//watchdeps","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Surveillez les dépendances de vos projets NodeJS"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Avec watchdeps abonnez-vous automatiquement aux dépendences de vos projets NodeJS sur GitHub."," ",["$","br",null,{}],["$","$L11",null,{"href":".//watchdeps","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","dimanche 8 mars 2015 à 11:07:32","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","isomorphisme_par_l_exemple",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//isomorphisme_par_l_exemple","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"L'isomorphisme par l'exemple"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Présentation sur la gestion des droits dans une application JavaScript de façon universelle."," ",["$","br",null,{}],["$","$L11",null,{"href":".//isomorphisme_par_l_exemple","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","mardi 3 février 2015 à 08:08:19","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","retour_experience_gulp",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//retour_experience_gulp","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Gulp : Retour d'expérience"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Comme promis, Gulp revient à l'ordre du jour de ce Blog avec un retour d'expérience sur l'utilisation de Gulp et le développement de plugins."," ",["$","br",null,{}],["$","$L11",null,{"href":".//retour_experience_gulp","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","dimanche 26 janvier 2014 à 09:01:26","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Faire mieux qu'AngularJS avec require() - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"Le système CommonJS-like de NodeJS permet un grand nombre de subtilités. Je vous propose de les découvrir en reproduisant les fonctionnalités du système de modules d'AngularJS."}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/fr/blog/faire-mieux-qu-angular-avec-require"}],["$","meta","9",{"property":"og:title","content":"Faire mieux qu'AngularJS avec require() - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"Le système CommonJS-like de NodeJS permet un grand nombre de subtilités. Je vous propose de les découvrir en reproduisant les fonctionnalités du système de modules d'AngularJS."}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/fr/blog/faire-mieux-qu-angular-avec-require"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"fr_FR"}],["$","meta","14",{"property":"og:image:alt","content":"Bannière du site"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Faire mieux qu'AngularJS avec require() - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"Le système CommonJS-like de NodeJS permet un grand nombre de subtilités. Je vous propose de les découvrir en reproduisant les fonctionnalités du système de modules d'AngularJS."}],["$","meta","22",{"name":"twitter:image:alt","content":"Bannière du site"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
