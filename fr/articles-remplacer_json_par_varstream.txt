3:I[5613,[],""]
6:I[1778,[],""]
4:["locale","fr","d"]
5:["slug","articles-remplacer_json_par_varstream","c"]
8:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
9:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
a:{"display":"inline-block"}
b:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["KvaQf7Occ1_mTQr28YDxi",[[["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":[["slug","articles-remplacer_json_par_varstream","c"],{"children":["__PAGE__?{\"locale\":\"fr\",\"slug\":[\"articles-remplacer_json_par_varstream\"]}",{}]}]},"$undefined","$undefined",true]}]}],["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":[["slug","articles-remplacer_json_par_varstream","c"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children","$5","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/4909000cd2d942cc.css","precedence":"next","crossOrigin":""}]]}]]},[null,"$L7",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/655a273f6fe37552.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$8","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$9","children":"404"}],["$","div",null,{"style":"$a","children":["$","h2",null,{"style":"$b","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]],[null,"$Lc"]]]]
d:"$Sreact.strict_mode"
e:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
f:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
7:["$","$d",null,{"children":["$","html",null,{"lang":"fr","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/fr","title":"Retour à l’accueil","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"Logo d’InsertAfter"}]}]}]}]}],["$","$Le",null,{"locale":"fr","dictionary":{"home":{"label":"Accueil","title":"Retour à l’accueil"},"blog":{"label":"Blog","title":"Retour à l’index du blog"},"projects":{"label":"Projets","title":"Découvrir mes divers projets"},"about":{"label":"À propos","title":"En savoir plus à mon sujet"}}}],["$","$Lf",null,{"locale":"fr"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$L10","notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/09b5c201fbf055fc.css","precedence":"next","crossOrigin":""}]],"styles":null}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Me suivre sur Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Me suivre sur Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Me suivre sur Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"Voir mes projets sur GitHub","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Voir mon compte NPM","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"Voir mon profil LinkedIn","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Me suivre sur Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/fr/blog/index.atom","title":"S’abonner au flux RSS","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"Flux RSS"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
10:["$","section",null,{"className":"contentBlock_root__802UK","children":[["$","h1",null,{"className":"h1_root__VPXQG","children":"Page not found"}],["$","p",null,{"className":"not-found_p__fvcGn","children":[["$","img",null,{"className":"not-found_img__IT2jY","src":"https://media.giphy.com/media/12mPcp41D9a1i0/giphy.gif","alt":"404.png"}],["$","p",null,{"className":"p_root__SHE_W","children":"It seems that the page you look for doesn't exist."}]]}]]}]
11:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","790","static/chunks/790-a194f74901d33197.js","654","static/chunks/app/(withLocale)/%5Blocale%5D/%5B...slug%5D/page-b1c29cb9d5f75cce.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Pourquoi j'ai remplacé JSON par VarStream"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"JSON est très connu et semble bon pour la plupart des utilisations, cependant, par \"hasard\", j'ai créé un format de données que je trouve supérieur et que j'ai décidé d'appeler VarStream."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Aujourd'hui, de nombreux développeurs ont choisi de privilégier JSON à XML pour de nombreuses raisons. Sa légèreté est mise en avant par rapport à la lourdeur de XML. Mais JSON a lui aussi des défauts finalement peu connus, des défauts qui ont fait que j'ai créé VarStream, un autre format d'échange de donnée. Créé pour mon usage personnel, je vous livre aujourd'hui ses principes et espère que certains d'entre vous en tireront avantage."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"L'histoire"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#l-histoire","className":"anchored_icon__N5Sem","id":"l-histoire","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Lorsque j'ai décidé de créer mon propre CMS, JSON n'existait pas ou n'était pas très connu. XML était bien présent, mais je le trouvais un peu compliqué et surtout très lourd. J'avais pourtant besoin d'un format de stockage de valeurs pour deux besoins principalement : la localisation et la configuration."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Influencé par les fichiers de configuration Unix et les fichiers "}],["$","code",null,{"className":"code_root__5JLV_","children":".properties"}],["$","span","2",{"children":" utilisés pour la localisation chez Mozilla, j'ai décidé d'utiliser un format simple de type "}],["$","code",null,{"className":"code_root__5JLV_","children":"cle=valeur"}],["$","span","4",{"children":" suivi d'une nouvelle ligne. Par la suite, j'ai dû ajouter une façon de commenter ces fichiers. Toujours dans le pompage des fichiers de conf Unix, j'ai choisi le "}],["$","code",null,{"className":"code_root__5JLV_","children":"#"}],["$","span","6",{"children":" en début de ligne."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, il m'a fallu trouver un moyen d'insérer des nouvelles lignes et de représenter une arborescence de valeurs ou des tableaux. Au fil de mes améliorations, je suis parvenu à un format qui ne m'apporte que des avantages et c'est pour cela que je souhaite aujourd'hui le proposer à la communauté de développeurs."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour ce faire, je vais vous le présenter dans sa forme actuelle, mettre en lumière ses forces et partager avec vous les bouts de code qui permettent de l'exploiter en PHP et en Javascript."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Le format"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#le-format","className":"anchored_icon__N5Sem","id":"le-format","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Afin d'illustrer ce format, je vous livre un petit exemple de fichier de configuration :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"# Database\ndatabase.type=mysql\ndatabase.hosts.+.domain=mysql1.example.com\ndatabase.hosts._.master=true\ndatabase.hosts.+.domain=mysql2.example.com\ndatabase.hosts._.master=false\ndatabase.hosts.0.master=true\ndatabase.user=root\ndatabase.base=myapp\ndatabase.base=myapp2\n\".base=myapp\n# REST servers\nrest.servers.+.domain=api.example.com\nrest.servers._.auth=basic\nrest.servers._.user=&database.user"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Et aussi un exemple de fichier de langue dans ce format :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"# Date\nl_timezone=Europe/Paris\nl_date_format=l d F Y\nl_day_format=d F\nl_time_format=l d F Y à H:i:s\nl_hour_format=H:i:s\nl_days.monday=Lundi\nl_days.tuesday=Mardi\nl_days.wednesday=Mercredi\nl_days.thursday=Jeudi\nl_days.friday=Vendredi\nl_days.saturday=Samedi\nl_days.sunday=Dimanche\nl_months.january=Janvier\nl_months.february=Février\nl_months.march=Mars\nl_months.april=Avril\nl_months.may=Mai\nl_months.june=Juin\nl_months.july=Juillet\nl_months.august=Août\nl_months.september=Septembre\nl_months.october=Octobre\nl_months.november=Novembre\nl_months.december=Decembre\n# Numbers\nl_number_dec_point=,\nl_number_thousands_sep= # Phone numbers\nl_phone_local_indicator=33\nl_phone_local_format=0\nl_phone_indicator_format=+XXXX (0)\nl_phone_number_format=X XX XX XX XX\n\n# GPS Locations\nl_gps_latitude=N\nl_gps_longitude=O\n\n# Multiline\nl_multiline=I curently have a\nmultiline value.\nIt's great !"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Un bref coup d'œil permet de comprendre que la partie de gauche du signe "}],["$","code",null,{"className":"code_root__5JLV_","children":"="}],["$","span","2",{"children":" représente le nom de la variable, la partie droite sa valeur. Les noms des variables sont séparés par des points délimitant des nœuds permettant de représenter la position de la valeur dans l'arborescence du programme d'une façon linéaire. Un peu comme ce que l'on peut observer dans Javascript."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les nœuds sont soit des noms de variable (ex:database) soit des caractères spéciaux ("}],["$","code",null,{"className":"code_root__5JLV_","children":"\""}],["$","span","2",{"children":", "}],["$","code",null,{"className":"code_root__5JLV_","children":"+"}],["$","span","4",{"children":", "}],["$","code",null,{"className":"code_root__5JLV_","children":"*"}],["$","span","6",{"children":", "}],["$","code",null,{"className":"code_root__5JLV_","children":"!"}],["$","span","8",{"children":"). Le nœud le plus à droite est forcément un nom de variable. Les autres nœuds sont soit des objets, soit des tableaux, soit une ligne d'un tableau. Ceci est déterminé par leur format. Si le nœud est composé de caractères alphanumériques uniquement ou des signes "}],["$","code",null,{"className":"code_root__5JLV_","children":"+"}],["$","span","10",{"children":", "}],["$","code",null,{"className":"code_root__5JLV_","children":"*"}],["$","span","12",{"children":", "}],["$","code",null,{"className":"code_root__5JLV_","children":"!"}],["$","span","14",{"children":", c'est une ligne d'un tableau. Automatiquement, le nœud précédent est un tableau. Sinon, il s'agit d'un objet ("}],["$","code",null,{"className":"code_root__5JLV_","children":"Object"}],["$","span","16",{"children":" en Javascript, "}],["$","code",null,{"className":"code_root__5JLV_","children":"stdClass"}],["$","span","18",{"children":" en PHP)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les tableaux sont initialisés par un nœud numérique, un signe "}],["$","code",null,{"className":"code_root__5JLV_","children":"+"}],["$","span","2",{"children":", un signe "}],["$","code",null,{"className":"code_root__5JLV_","children":"*"}],["$","span","4",{"children":" ou un signe "}],["$","code",null,{"className":"code_root__5JLV_","children":"!"}],["$","span","6",{"children":". Le signe "}],["$","code",null,{"className":"code_root__5JLV_","children":"+"}],["$","span","8",{"children":" quand un tableau existe précise que la variable qui suit doit être ajoutée dans une nouvelle ligne du tableau. Le caractère "}],["$","code",null,{"className":"code_root__5JLV_","children":"*"}],["$","span","10",{"children":" fait référence à la ligne courante du tableau. Le caractère "}],["$","code",null,{"className":"code_root__5JLV_","children":"!"}],["$","span","12",{"children":" signifie que quoiqu'il y ait eu auparavant dans le tableau, il faut le réinitialiser. Enfin, un nœud alphanumérique fait référence au n° de ligne (un "}],["$","code",null,{"className":"code_root__5JLV_","children":"table[n]"}],["$","span","14",{"children":" dans la plupart des langages)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les objets sont initialisés lors de la première référence à ces derniers et on y fait référence par leur nom simplement. On peut ajouter une propriété à un objet sans répéter sa position dans l'arborescence en utilisant le signe "}],["$","code",null,{"className":"code_root__5JLV_","children":"\""}],["$","span","2",{"children":" qui représente alors le chemin de la ligne précédente comme on le ferait naturellement quand on écrit plusieurs lignes à la suite avec un début identique. C'est le cas dans notre fichier de configuration ou j'assigne la valeur "}],["$","code",null,{"className":"code_root__5JLV_","children":"myapp"}],["$","span","4",{"children":" à "}],["$","code",null,{"className":"code_root__5JLV_","children":"database.base"}],["$","span","6",{"children":" pour ensuite y mettre la valeur "}],["$","code",null,{"className":"code_root__5JLV_","children":"myapp2"}],["$","span","8",{"children":" et enfin y remettre la valeur "}],["$","code",null,{"className":"code_root__5JLV_","children":"myapp"}],["$","span","10",{"children":". Cela n'a aucun autre intérêt que d'illustrer le concept mais vous comprendrez par la suite."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les valeurs sont soit du texte, soit des valeurs numériques, soit une valeur booléenne ("}],["$","code",null,{"className":"code_root__5JLV_","children":"true"}],["$","span","2",{"children":" ou "}],["$","code",null,{"className":"code_root__5JLV_","children":"false"}],["$","span","4",{"children":")."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On peut faire référence à une autre variable dans la partie droite de la ligne plutôt que d'y mettre la valeur une seconde fois grâce au signe esperluette ("}],["$","code",null,{"className":"code_root__5JLV_","children":"&"}],["$","span","2",{"children":") comme vous pouvez le voir pour la variable rest."}],["$","code",null,{"className":"code_root__5JLV_","children":"servers.*.user"}],["$","span","4",{"children":". Si la valeur est une variable, la valeur est copié, si c'est un objet, il est référencé."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, pour insérer une valeur contenant plusieurs lignes dans une variable, on termine chaque nouvelle ligne par un backslash ("}],["$","code",null,{"className":"code_root__5JLV_","children":"\\\\"}],["$","span","2",{"children":")."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Vous êtes sûrement entrain de vous dire que c'est bien compliqué, mais en fait, ces règles sont aisément déductibles à la vue d'un fichier de configuration ou de langue dans ce format. Maintenant, laissez-moi vous expliquer pourquoi j'ai fini par utiliser ce format en lieu et place de JSON pour de la communication client-server."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Avantages"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#avantages","className":"anchored_icon__N5Sem","id":"avantages","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ce format de fichier présente de nombreux avantages dans le contexte d'une application web, voici les principaux :"}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Streamable"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#streamable","className":"anchored_icon__N5Sem","id":"streamable","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Un atout majeur. Là où JSON nécessite la lecture complète du contenu pour assurer le fait que le fichier est bien formé, les VarStreams permettent de récupérer les différentes valeurs au flux optimisant ainsi l'espace mémoire utilisé et vidant les tampons au fur et à mesure du traitement."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cette nature streamable permet également de récupérer des données qui seraient fragmentées dans différents fichiers chargés successivement. Par exemple, je m'en sert pour charger différents fichiers de configurations. Le fichier générique utilisé pour toutes les apps. Puis un fichier spécifique à l'application web qui surcharge certaines valeurs. Cela rend les VarStreams mergeable par simple concaténation des fichiers ce qui ne peut être fait aisément avec JSON."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cela peut-être très intéressant dans l'utilisation des web sockets pour mettre à jour un tableau de valeur facilement, ce dernier est synchronisé au flux et la communication est fluide et transparente. On pourrait même imaginer de modifier l'interface au flux grâce à du binding sur certaines valeurs."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Human readable / writeable"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#human-readable-writeable","className":"anchored_icon__N5Sem","id":"human-readable-writeable","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ceux qui ont déjà eu besoin d'écrire ou de lire du JSON le savent bien, avoir un format d'échange facile à lire est important pour le débogage. Dans ce domaine, les VarStreams sont champions."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"De plus, mon expérience prouve que les traducteurs sont à l'aise avec ce type de fichiers, il n'ont pas de caractères spéciaux à échapper, pas de guillemets à ajouter etc... Il n'ont qu'à ajouter un backslash à la fin d'une ligne si la ligne suivante contient la suite de la valeur."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Auto-Référençable"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#auto-referencable","className":"anchored_icon__N5Sem","id":"auto-referencable","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Dans un fichier JSON, vous ne pouvez pas faire référence à une valeur déjà présente car le contenu du fichier ne sera interprété qu'à la fin du fichier. C'est une grosse limitation que les VarStreams outrepassent."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Utilisation"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#utilisation","className":"anchored_icon__N5Sem","id":"utilisation","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour l'instant, j'ai mis le parseur Javascript sur GitHub, mon parseur PHP nécessite d'être revu pour ne plus être dépendant de mon Framework. Utiliser les VarStreams est simple. Il suffit de passer en paramètre d'une fonction, les données puis le contexte. Le contexte doit être un objet. Retrouvez "}],["$","$L11",null,{"href":"https://github.com/nfroidure/VarStream","className":"a_root__WEPS7","title":"Voir le dépôt GitHub","target":"_blank","children":[null,[["$","span","0",{"children":"tout le matériel nécessaire à son utilisation"}]]]}],["$","span","2",{"children":" sur GitHub. Petit exemple :"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"var myScope = {};\nvar myStream = new VarStreamReader(myScope, true);\nmyStream.read(\"\");\nmyStream.read(\"#comment\");\nmyStream.read(\n  \"# Database\" +\n    \"database.type=mysql\\n\" +\n    \"database.hosts.+.domain=mysql1.example.com\\n\" +\n    \"database.hosts._.master=true\\n\" +\n    \"database.hosts.+.domain=mysql2.example.com\\n\" +\n    \"database.hosts._.master=false\\n\",\n);\nconsole.log(myScope.hosts[[0]].domain);"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On peut bien-sûr imaginer utiliser la fonction read comme callback d'une requête Ajax ou d'un WebSocket. Avec NodeJs on peut l'utiliser pour charger dynamiquement un fichier de variables ligne par ligne. A vous d'inventer vos propres cas d'utilisation ;)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Dès que j'en aurai le temps et l'utilité, j'écrirai la fonction d'export correspondante (pour finir je l'ai faîte dans la foulée) que je n'utilise qu'en PHP actuellement."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Conclusion"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#conclusion","className":"anchored_icon__N5Sem","id":"conclusion","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"J'espère que cet article vous a intéressé, n'hésitez pas à me faire des remarques, à donner vos critiques/avis, cela faisait trop longtemps que j’utilisais ce format dans mon coin sans en faire profiter personne !"}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","vendredi 6 juillet 2012 à 10:56:35","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Commenter et partager"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$L11",null,{"href":"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fremplacer_json_par_varstream","className":"a_root__WEPS7","title":"Commenter sur Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$L11",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fremplacer_json_par_varstream&text=Pourquoi%20j'ai%20remplac%C3%A9%20JSON%20par%20VarStream&via=nfroidure","className":"a_root__WEPS7","title":"Commenter sur Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$L11",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Me répondre par mail","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Courriel"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Articles similaires"}],["$","p",null,{"className":"p_root__SHE_W","children":["Dans les catégories"," ","VarStream","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","streamer_donnees",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//streamer_donnees","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Devenez un homme, streamez vos données !"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Peut-être ne le saviez-vous pas, mais XMLHttpRequest Level 2 permet d'accéder vos données avant leur chargement complet grâce à l'écouteur d'évènement onProgress. Il est temps de grandir et de l'utiliser."," ",["$","br",null,{}],["$","$L11",null,{"href":".//streamer_donnees","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","vendredi 23 novembre 2012 à 11:11:41","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","application_des_varstreams_avec_websockipc",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//application_des_varstreams_avec_websockipc","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Exemple de mise en oeuvre des VarStreams avec WebSockIPC et NodeJS"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Afin de mieux mettre en exergue l'intérêt des VarStreams, j'ai créé une petite application NodeJS mettant en oeuvre une communication inter processus avec les WebSockets."," ",["$","br",null,{}],["$","$L11",null,{"href":".//application_des_varstreams_avec_websockipc","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","lundi 9 juillet 2012 à 13:57:39","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Pourquoi j'ai remplacé JSON par VarStream - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"JSON est très connu et semble bon pour la plupart des utilisations, cependant, par \"hasard\", j'ai créé un format de données que je trouve supérieur et que j'ai décidé d'appeler VarStream."}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/fr/blog/remplacer_json_par_varstream"}],["$","meta","9",{"property":"og:title","content":"Pourquoi j'ai remplacé JSON par VarStream - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"JSON est très connu et semble bon pour la plupart des utilisations, cependant, par \"hasard\", j'ai créé un format de données que je trouve supérieur et que j'ai décidé d'appeler VarStream."}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/fr/blog/remplacer_json_par_varstream"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"fr_FR"}],["$","meta","14",{"property":"og:image:alt","content":"Bannière du site"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Pourquoi j'ai remplacé JSON par VarStream - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"JSON est très connu et semble bon pour la plupart des utilisations, cependant, par \"hasard\", j'ai créé un format de données que je trouve supérieur et que j'ai décidé d'appeler VarStream."}],["$","meta","22",{"name":"twitter:image:alt","content":"Bannière du site"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
