<!DOCTYPE html>
<html class="no-js" lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>InsertAfter : Obtenir 4 PR facilement et utilement pour l&#39;Hacktoberfest</title>
  <meta name="description" content="Vous voulez participer à l&#39;Hacktoberfest et gagner un t-shirt, 
 voire mieux, planter un arbre ? Suivez le guide !">
  <link rel="bookmark" href="https://insertafter.com/fr/blog/hacktobefest_4_pr_facilement.html" />
  <link rel="icon" type="image/png" href="/images/favicon.png" />
  <meta name="robots" content="index,follow">
  <link rel="stylesheet" href="/css/main.css">
  <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
  
</head>
<body class="ia-standalone">
  <!--[if lt IE 7]>
  <script>document.location.href=http://browsehappy.com;</script>
  <![endif]-->
  <header class="ia-header">
    <div class="ia-header__title">
      <h1><a href="/fr/index.html" title="Retour à l&#39;accueil"
        class="ia-logo">
        <img src="/images/logo.svg" alt="Logo Insert After" />
      </a></h1>
    </div>
  </header>
  <nav class="ia-languages">
    <a class="ia-flag ia-flag--en" href="/en/index.html"
      title="Back to home">
      <span>Home</span>
    </a>
    <a class="ia-flag ia-flag--fr" href="/fr/index.html"
      title="Retour à l&#39;accueil">
      <span>Accueil</span>
    </a>
  </nav>

  <nav class="ia-menu">
    <ul class="ia-menu__body">
      <li class="ia-menu__item ia-menu__item--index">
        <a href="/fr/index.html"
          title="Retour à l&#39;accueil">Accueil</a>
      </li>
      <li class="ia-menu__item ia-menu__item--index">
        <a href="/fr/blog/index.html"
          title="Retour à l&#39;index du blog"
          class="selected">Blog</a>
      </li>
      <li class="ia-menu__item ia-menu__item--projets">
        <a href="/fr/projets.html"
          title="Découvrez mes divers projets">Projets</a>
      </li>
      <li class="ia-menu__item ia-menu__item--a_propos">
        <a href="/fr/a_propos.html"
          title="Learn more about me">À propos</a>
      </li>
    </ul>
  </nav>

  <section class="ia-main ia-content">
    <div>
    
<article class="ia-main__content">
  

<h2>Un Hacktoberfest facile, mais utile&nbsp;!</h2>
<p>
  Voilà, j'ai terminé mes 4 PR et cette année, je ne vais pas
  planter d'arbre comme l'année dernière. J'ai beaucoup regretté
  de ne pas avoir mon t-shirt et finalement, c'est un geste
  dérisoire au regard de tout ce que je fais déjà pour l'écologie.
  Il faut aussi se faire plaisir dans la vie ;).
</p>
<p>
  Mais bon, comme je suis persuadé que vous avez envie de planter
  des arbres pour l'Hacktoberfest et que pas mal de personnes
  me demandent des conseils pour trouver des PRs simples à mettre
  en oeuvre, je me fends de ce petit tutoriel !
</p>
<p>
  Le principe est simple, les modules NPM sont des packages qui,
  en principe, ne doivent contenir que le code distribué,
  éventuellement des mappings si ce code est transpilé et le
  fichier <code>package.json</code> qui déclare un peu tout ça.
</p>
<p>
  Le fait est que c'est bien souvent pas le cas, puisque le contenu
  du paquet est, par défaut, tout ce qui est dans le dossier, à
  l'exception de ce que votre fichier <code>.gitignore</code> ignore.
  Autant dire, que ça en fait du stockage et du réseau pour des
  données, bien souvent, inutiles.
</p>
<p>
  Un moyen simple et utile, donc, de participer à l'Hacktoberfest est
  de réduire la taille des modules NPM que vous utilisez. Pour ce faire,
  commencez par identifier les marges d'amélioration en allant dans le
  premier projet NodeJS venu et en exécutant la commande suivante&nbps;:<br />
  <code>du -ch -d0 node_modules/*</code><br />
  Pour vous concentrer sur les modules qui prennent des Mo&nbsp;:
  <code>du -ch -d0 node_modules/* | grep M</code>
  </strong>
</p>
<p>
  Du coup, on a une bonne vielle liste de modules bien lourdingues ;).
  Sur l'API de DiagRAMS Technologies, le plus lourd est
  <code>typescript</code> avec 61Mo.<br />
  Pour se rendre sur son dépôt&nbps;:<br />
  <code>npm repo typescript</code>
</p>
<p>
  De là, commence notre investigation. Pourquoi ce module est-il si
  lourd&nbsp;? D'expérience, un module comme celui de TypeScript
  peut-être compliqué à comprendre et, pour le premier, je vous
  conseille d'être un peu moins ambitieux/ses. La plupart des modules
  un peu trop lourds, le sont du simple fait qu'ils n'exploitent pas
  le champ <a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json#files"><code>files</code></a> du fichier
  <code>package.json</code>.
</p>
<p>
  Une fois que vous avez pu identifier avec certitude que le problème
  est bien un manque de déclaration, il vous suffit de forker puis cloner
  le repository, de l'installer, d'ajouter les déclarations et de faire
  une PR&nbsp;:
</p>
<pre>
  # Cloner et installer
  git clone git@github.com:{my_usersame}/{my_fork}.git;
  cd module;
  npm i;

  # Packager le module et mesure sa taille
  npm pack;
  du -h my_fork-x.x.x.tgz

  # Ajouter la déclaration`file` au package.json


  # Packager à nouveau le module et mesure sa taille
  npm pack;
  du -h my_fork-x.x.x.tgz

  # Installer le module dans votre projet et vérifier
  # qu'il fonctionne
  cd my_project;
  npm install my_fork-x.x.x.tgz;
  npm test;
</pre>
<p>
  Et voilà&nbsp;! Vous n'avez plus qu'à soumettre votre pull-request
  en précisant le poids du module avant et après votre modification&nbsp;!
  Simple, écologique et utile, promesse tenue&nbsp!
</p>
</article>
<nav class="ia-main__back">
  <a href="/fr/blog/index.html"
    title="Blog d&#39;un développeur web à Lille">
    &lt; Blog
  </a>
</nav>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'insertafter';
      var disqus_config = function () {
        this.language = "fr";
        this.callbacks.onNewComment = [function() {
          ga('send', 'event', 'interaction', 'comment');
        }];
      };

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
    </div>
  </section>

  <aside class="ia-icons ia-content">
    <nav>
      <a href="https://twitter.com/nfroidure" title="Follow me on Twitter"
        class="ia-social ia-social--twitter">
        <span>Twitter</span>
      </a>
      <a href="https://github.com/nfroidure" title="Follow me on GitHub"
        class="ia-social ia-social--github">
        <span>GitHub</span>
      </a>
      <a href="https://www.npmjs.org/~nfroidure" title="Find NPM modules"
        class="ia-social ia-social--npm">
        <span>NPM</span>
      </a>
      <a href="https://www.linkedin.com/in/nfroidure" title="Find me on LinkedIn"
        class="ia-social ia-social--linkedin">
        <span>LinkedIn</span>
      </a>
      <a href="/fr/blog/index.atom" title="Don't miss my blog posts"
        class="ia-social ia-social--feed">
        <span>ATOM feed</span>
      </a>
    </nav>
  </aside>

  <footer class="ia-footer">
    <p class="ia-footer__content">
      © Nicolas Froidure 2012-2023
    </p>
  </footer>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-21477946-7', 'insertafter.com');
    ga('send', 'pageview');

  </script>
</body>
</html>
