<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo.svg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/nfroidure/knifecycle/main/knifecycle.svg"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/1f9f2e31c0c7b0ad.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/c0794213978ef12b.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://insertafter.com/_next/static/chunks/webpack-e22d0b50184c3e5b.js" crossorigin=""/><script src="https://insertafter.com/_next/static/chunks/fd9d1056-5bc70f044f3cb802.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/938-bf741a2eb8fd4828.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/main-app-2e6280b5273157a5.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/176-0a03be62efe5672b.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/layout-6f34dfcd57f7d3e4.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/876-4c07c683293830f5.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/blog/%5Bid%5D/page-8c92e4ed1884a050.js" async=""></script><meta name="theme-color" content="#3e78b2"/><title>Injection de dÃ©pendances avec NodeJS  - Nicolas Froidure</title><meta name="description" content="PrÃ©sentation donnÃ©e lors du ChtiJS 21 Ã  propos de l&#x27;injection de dÃ©pendances en JavaScript."/><link rel="author" href="https://insertafter.com"/><meta name="author" content="Nicolas Froidure"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://insertafter.com/fr/blog/injection_de_dependance_nodejs"/><meta property="og:title" content="Injection de dÃ©pendances avec NodeJS  - Nicolas Froidure"/><meta property="og:description" content="PrÃ©sentation donnÃ©e lors du ChtiJS 21 Ã  propos de l&#x27;injection de dÃ©pendances en JavaScript."/><meta property="og:url" content="https://insertafter.com/fr/blog/injection_de_dependance_nodejs"/><meta property="og:site_name" content="Nicolas Froidure"/><meta property="og:locale" content="fr_FR"/><meta property="og:image:alt" content="BanniÃ¨re du site"/><meta property="og:image" content="https://insertafter.com/images/banner.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@nfroidure"/><meta name="twitter:creator" content="@nfroidure"/><meta name="twitter:title" content="Injection de dÃ©pendances avec NodeJS  - Nicolas Froidure"/><meta name="twitter:description" content="PrÃ©sentation donnÃ©e lors du ChtiJS 21 Ã  propos de l&#x27;injection de dÃ©pendances en JavaScript."/><meta name="twitter:image:alt" content="BanniÃ¨re du site"/><meta name="twitter:image" content="https://insertafter.com/images/banner.png"/><link rel="icon" href="/images/favicon.svg" type="image/svg+xml" sizes="any"/><link rel="icon" href="/images/favicon-16.png" type="image/png" sizes="16x16"/><link rel="icon" href="/images/favicon-128.png" type="image/png" sizes="128x128"/><script src="https://insertafter.com/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="layout_body__jFZuu"><header class="header_iaHeader__4vCMA"><div><h1><a href="/fr" title="Retour Ã  lâ€™accueil" class="header_iaHeaderLogo__0uNr1"><img src="/images/logo.svg" alt="Logo dâ€™InsertAfter"/></a></h1></div></header><nav class="menu_iaMenu__B_rtj"><ul class="menu_iaMenuBody__0Zveq"><li class="menu_iaMenuItem__rOch4"><a href="/fr" title="Retour Ã  lâ€™accueil" class="">Accueil</a></li><li class="menu_iaMenuItem__rOch4"><a href="/fr/blog" title="Retour Ã  lâ€™index du blog" class="">Blog</a></li><li class="menu_iaMenuItem__rOch4"><a href="/fr/projets" title="DÃ©couvrir mes divers projets" class="">Projets</a></li><li class="menu_iaMenuItem__rOch4"><a href="/fr/a_propos" title="En savoir plus Ã  mon sujet" class="">Ã€ propos</a></li></ul></nav><nav class="languages_iaLanguages__K2J3W"><ul><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagEn__angfJ languages_selected__w1dKv"><a href="/en/blog"><span>en</span></a></li><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagFr__Us5Jb"><a href="/fr/blog"><span>fr</span></a></li></ul></nav><main class="layout_iaMain__6s2gl"><div><section class="contentBlock_root__802UK"><h1 class="h1_root__VPXQG"><span>Injection de dÃ©pendances sans gorille</span></h1><div><span class="img_root__vTZoG img_landscape__qBqfT"><span class="img_picture__pfsl0"><img alt="Knifecycle logo" src="https://raw.githubusercontent.com/nfroidure/knifecycle/main/knifecycle.svg"/></span></span></div><p class="p_root__SHE_W"><span class="markdown_root__U7zrI"><iframe width="560" height="315" src="https://www.youtube.com/embed/qTtwn1J9IXk" title="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen=""></iframe></span></p><p class="p_root__SHE_W"><span>Retranscription de ma prÃ©sentation au dernier ChtiJS sur l&#x27;injection de dÃ©pendances avec NodeJS mais plus gÃ©nÃ©ralement en JavaScriptÂ !</span></p><p class="p_root__SHE_W"><div class="slidesDotCom_root__yd21N"><iframe src="https://slides.com/nfroidure/javascript_dependency_injection/embed" allowFullScreen=""></iframe><noscript><a class="a_root__WEPS7" title="Voir les diapositives de la prÃ©sentation" target="_blank" href="https://slides.com/nfroidure/javascript_dependency_injection"><span>Slides</span></a></noscript></div></p><p class="p_root__SHE_W"><span>Aujourd&#x27;hui, je vais vous parlais d&#x27;injection de dÃ©pendances en JavaScript. J&#x27;ai fait les slides en anglais car je vais les mettre sur mon blog aprÃ¨s mais n&#x27;hÃ©sitez pas Ã  me demander de traduire si vous en ressentez le besoin.</span></p><p class="p_root__SHE_W"><span>J&#x27;ai prÃ©cisÃ© unobtrusive car l&#x27;objectif est que cette derniÃ¨re n&#x27;interfÃ¨re pas avec votre code. L&#x27;idÃ©e c&#x27;est d&#x27;avoir un minimum de code qui qui gÃ¨re Ã§a puisque finalement vous allez voir que ce n&#x27;est pas nÃ©cessaire.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>A propos de moi</span> <small><a class="anchored_icon__N5Sem" id="a-propos-de-moi" title="Lien vers cette section" href="#a-propos-de-moi"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>Faisons d&#x27;abord les prÃ©sentations, je travaille pour Sencrop, vous l&#x27;avez vu tout Ã  l&#x27;heure. Je fais du logiciel pour les startups depuis que JavaScript est un sujet brÃ»lant. Et une fois j&#x27;ai fait un code qui a failli compiler avec Rust. Vous pouvez me retrouver sur mon blog ou via Twitter.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Sencrop recrute</span> <small><a class="anchored_icon__N5Sem" id="sencrop-recrute" title="Lien vers cette section" href="#sencrop-recrute"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>Vous avez peut-Ãªtre entendu parler de la levÃ©e de fond rÃ©cente de Sencrop. Du coup, on va pouvoir augmenter nos ambitions et pour ce faire on recrute des dÃ©veloppeurs back-end, front-end (mais si vous Ãªtes full-stack c&#x27;est bien aussi, des data scientists et des ingÃ©nieurs pour le dÃ©veloppement embarquÃ© car on a une problÃ©matique hardware Ã©galement.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>DÃ©finition</span> <small><a class="anchored_icon__N5Sem" id="definition" title="Lien vers cette section" href="#definition"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>Qui connaÃ®t l&#x27;injection de dÃ©pendancesÂ ? Une bonne partie de la salle lÃ¨ve la main. Qui l&#x27;utilise au quotidienÂ ? Quelques mains se lÃ¨vent. Une personne: &quot;C&#x27;est un peu la mÃªme chose que Spring Boot en JavaÂ ?&quot; Alors, oui, c&#x27;est design pattern donc tu l&#x27;implÃ©mentes comme tu veux, tu peux l&#x27;implÃ©menter en POO ou pas.</span></p><p class="p_root__SHE_W"><span>L&#x27;idÃ©e, en gros, de l&#x27;injection de dÃ©pendance, c&#x27;est que votre code a besoin de faire appel Ã  des Ã©tats externes, donc typiquement Ã§a va Ãªtre les IOs (lire un fichier, enregistrer dans une base de donnÃ©es, faire un appel Ã  un service REST, peu importe...).On va donc chercher Ã  exprimer ces dÃ©pendances de maniÃ¨re dÃ©clarative pour que le code mÃ©tier ne soit pas impactÃ© par toute la tuyauterie.</span></p><p class="p_root__SHE_W"><span>Finalement, on cherche que l&#x27;implÃ©mentation soit complÃ¨tement dÃ©couplÃ©e des dÃ©pendances et de leur initialisation.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>En JavaScript</span> <small><a class="anchored_icon__N5Sem" id="en-javascript" title="Lien vers cette section" href="#en-javascript"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Donc, en JS, qu&#x27;est ce que Ã§a peut donnerÂ ? En fait c&#x27;est trÃ¨s simple, si vous Ãªtes un fan de la POO, vous avez une classe et cette classe finalement vous allez lui injecter les services dont elle a besoin de maniÃ¨re Ã  ce qu&#x27;en son sein, vous puissiez utiliser ces services sans vous soucier de leurs initialisation.</span></p><p class="p_root__SHE_W"><span>Avec les fonctions, c&#x27;est un peu plus simple, vous allez utiliser le passage d&#x27;arguments Ã  vos fonctions et vous allez utiliser, tout bÃªtement, les services que vous avez passÃ© en argument de vos fonctions.</span></p><p class="p_root__SHE_W"><span>C&#x27;est assez simple, en fait, c&#x27;est un mot compliquÃ© pour nommer quelque chose de trÃ¨s simple.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Cycle de vie d&#x27;une application</span> <small><a class="anchored_icon__N5Sem" id="cycle-de-vie-d-une-application" title="Lien vers cette section" href="#cycle-de-vie-d-une-application"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Pourquoi c&#x27;est utileÂ ? (Toute la salle penche la tÃªte pour lire les annotations du schÃ©ma projetÃ©). Oui, je vous vois tourner la tÃªte, mais j&#x27;avais pas de place pour mettre les Ã©criteaux horizontalement.</span></p><p class="p_root__SHE_W"><span>Je vous mets au dÃ©fi de trouver une application qui n&#x27;a pas une phase de dÃ©marrage et une phase d&#x27;arrÃªt, Ã  part le front-end, encore que, parfois, vous pouvez vouloir qu&#x27;il y ait des comportements au sortir de la page qui soient dÃ©clenchÃ©s.</span></p><p class="p_root__SHE_W"><span>Du coup c&#x27;est un truc qui est super rÃ©current et c&#x27;est ce que l&#x27;injection dÃ©pendance adresse. C&#x27;est donc trÃ¨s commun de l&#x27;utiliser.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Les phases de l&#x27;injection de dÃ©pendances</span> <small><a class="anchored_icon__N5Sem" id="les-phases-de-l-injection-de-dependances" title="Lien vers cette section" href="#les-phases-de-l-injection-de-dependances"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Alors, Ã  quoi Ã§a ressemble finalement. Vous avez toutes vos dÃ©pendances (la flÃ¨che, ici, elle veut dire &quot;dÃ©pend de&quot;, donc ce rond lÃ  dÃ©pend de cet autre lÃ ). Chaque nÅ“ud est donc un service et les feuilles c&#x27;est le code mÃ©tier, celui qui exploite vos services.</span></p><p class="p_root__SHE_W"><span>Les dÃ©penses de votre application, c&#x27;est un graphe orientÃ© et l&#x27;idÃ©e, en fait, c&#x27;est finalement qu&#x27;on peut les initialiser d&#x27;une maniÃ¨re optimale. C&#x27;est pas compliquÃ©, vous commencez par instancier les services qui n&#x27;ont pas de dÃ©pendance, puis les services qui dÃ©pendent des services que vous avez initialisÃ©s Ã  la premiÃ¨re itÃ©ration lors de la seconde itÃ©ration et Ã  la troisiÃ¨me itÃ©ration les services qui vous n&#x27;avez pu crÃ©er Ã  la seconde, etc jusqu&#x27;Ã  ce que toute votre application soit initialisÃ©e.</span></p><p class="p_root__SHE_W"><span>Pour l&#x27;extinction, c&#x27;est pareil sauf que lÃ  vos services, ils sont tous up et vous allez les stopper de maniÃ¨re inversÃ©e afin que tous les services soient proprement arrÃªtÃ©s. C&#x27;est le &quot;graceful shutdown&quot; pour ceux qui ne connaissent pas. C&#x27;est un problÃ©matique plutÃ´t back-end mais pourquoi pas en front.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Opinion</span> <small><a class="anchored_icon__N5Sem" id="opinion" title="Lien vers cette section" href="#opinion"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>L&#x27;opinion que j&#x27;ai essayer de dÃ©velopper ce soir est que c&#x27;est le seul design pattern que vous ne regretterez jamais d&#x27;avoir implÃ©menter. PourquoiÂ ? Parce que comme je l&#x27;ai annoncÃ© tout Ã  l&#x27;heure, c&#x27;est rÃ©current, c&#x27;est Ã  dire que Ã§a adresse un problÃ¨me qui existe dans toutes les applications et donc c&#x27;est dommage de ne pas l&#x27;utiliser surtout quand on le connaÃ®t.</span></p><p class="p_root__SHE_W"><span>La deuxiÃ¨me opinion que je vais essayer de dÃ©velopper est que si vous utilisez de la programmation orientÃ©e objet ne blÃ¢mez pas l&#x27;injection de dÃ©pendances parce que c&#x27;est pas de sa faute si vous avez l&#x27;impression que c&#x27;est n&#x27;importe quoi, mais celle de la POO.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>PourquoiÂ ?</span> <small><a class="anchored_icon__N5Sem" id="pourquoi" title="Lien vers cette section" href="#pourquoi"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>Au delÃ  du fait que c&#x27;est un pattern rÃ©current et que Ã§a adresse un problÃ¨me qui est commun (n&#x27;hÃ©sitez pas Ã  proposer lors des questions des applications qui n&#x27;auraient pas besoin de l&#x27;injection de dÃ©pendances).</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Testable</span> <small><a class="anchored_icon__N5Sem" id="testable" title="Lien vers cette section" href="#testable"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Parce que Ã§a rend votre code testable, tout simplement. C&#x27;est beaucoup plus facile de le tester du code qui utilise l&#x27;injection de dÃ©pendances.</span></p><p class="p_root__SHE_W"><span>Je ne sais pas qui utilise mockery, pour mocker des modules, mais enfin c&#x27;est un peu l&#x27;horreur.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Configurable</span> <small><a class="anchored_icon__N5Sem" id="configurable" title="Lien vers cette section" href="#configurable"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>C&#x27;est aussi configurable car comme vous mettez les dÃ©pendances en paramÃ¨tre, finalement, vous mettez ce que vous voulez en paramÃ¨tre, il suffit que vous respectiez l&#x27;interface de vos services pour pouvoir les rÃ©utiliser avec d&#x27;autres services qui seraient conceptuellement la mÃªme chose.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Manageable</span> <small><a class="anchored_icon__N5Sem" id="manageable" title="Lien vers cette section" href="#manageable"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>J&#x27;ai mis Ã§a parce que on en parlait tout Ã  l&#x27;heure mais en fait le dÃ©veloppement principalement c&#x27;est de la charge mentale, de la charge mentale a accumuler. Il faut Ãªtre capable d&#x27;avoir en tÃªte tous les effets de bords possibles que le code vous Ãªtes en train d&#x27;Ã©crire peut gÃ©nÃ©rer et le fait de raisonner justement de maniÃ¨re isolÃ©e, Ã§a aide Ã  comprendre plus de code puisqu&#x27;on a moins de charge mentale.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>RÃ©-utilisable</span> <small><a class="anchored_icon__N5Sem" id="re-utilisable" title="Lien vers cette section" href="#re-utilisable"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Car, de ce fait, vous pouvez facilement rÃ©utiliser des morceaux de code. C&#x27;est plus que la modularisation du code, c&#x27;est aussi, rÃ©utiliser l&#x27;initialisation et l&#x27;arrÃªt de vos services dans toutes vos applications.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Optimal</span> <small><a class="anchored_icon__N5Sem" id="optimal" title="Lien vers cette section" href="#optimal"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Optimal parce que, en fait, le code que vous auriez Ã©crit pour initialiser vos services et pour les dÃ©s-initialiser que vous auriez fait Ã  la mano, ici vous avez la garantie que c&#x27;est optimal car vous utilisez une librairie qui adresse vraiment ce problÃ¨me et qui essaie de le rÃ©soudre de maniÃ¨re optimale donc, a priori, vous avez le meilleur code qui soit pour pouvoir utiliser vos dÃ©penses.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Instrumentable</span> <small><a class="anchored_icon__N5Sem" id="instrumentable" title="Lien vers cette section" href="#instrumentable"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Instrumentable, parce que, du coup Ã§a fait que votre code devient plus un ensemble sur lequel vous pouvez raisonner plutÃ´t que juste du code impÃ©ratif qui ferait les choses sÃ©quentiellement. Mais on va voir cela plus en dÃ©tail tout Ã  l&#x27;heure.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>InconvÃ©nients</span> <small><a class="anchored_icon__N5Sem" id="inconvenients" title="Lien vers cette section" href="#inconvenients"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>Alors, est ce qu&#x27;il ya des inconvÃ©nientsÂ ? Oui il y en a.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>DÃ©bogage</span> <small><a class="anchored_icon__N5Sem" id="debogage" title="Lien vers cette section" href="#debogage"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>l&#x27;inconvÃ©nient c&#x27;est le dÃ©bogage parce qu&#x27;effectivement l&#x27;initialisation des services, si jamais Ã§a marche pas, va falloir mettre les mains dans le cambouis. C&#x27;est plus simple de dÃ©boguer du code qu&#x27;on voit que du code qui fonctionne de maniÃ¨re magique, entre guillemets.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Typage statique</span> <small><a class="anchored_icon__N5Sem" id="typage-statique" title="Lien vers cette section" href="#typage-statique"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Le typage statique, forcÃ©ment, comme tous les services sont initialisÃ©s de maniÃ¨re dynamique, on perd un peu de l&#x27; avantage de la vÃ©rification du code typÃ© par le compilateur.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>DÃ©monstration</span> <small><a class="anchored_icon__N5Sem" id="demonstration" title="Lien vers cette section" href="#demonstration"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>J&#x27;ai crÃ©Ã© une petite application, plutÃ´t, un outil en ligne de commande qui ne fait pas grand chose. Il y a trois ou quatre commandes. Une commande qui montre le temps Unix, une qui envoies un fichier dans un serveur FTP (on voit ici un service docker que j&#x27;ai lancÃ©), il y a une commande qui insÃ¨re des donnÃ©es dans une base de donnÃ©es et, normalement, il y a une commande qui les affiches.</span></p><p class="p_root__SHE_W"><span>VoilÃ  c&#x27;est vraiment tout simple. Je l&#x27;ai fait en TypeScript car je voulais montrer quelque chose qui ne fonctionne que TypeScript mais Ã§a peut fonctionner en JS normal.</span></p><p class="p_root__SHE_W"><span>Donc, qu&#x27;est ce qui se passeÂ ? Par exemple, ici, j&#x27;ai ma commande qui insÃ¨re des des lignes dans la base de donnÃ©es. Alors j&#x27;initialise, je fais Ã§a bÃªtement, j&#x27;initialise la base de donnÃ©es, le serveur FTP (le serveur FTP, au dÃ©but je voulais aller chercher le fichier sur le serveur FTP mais j&#x27;ai pas eu le temps, donc je l&#x27;initialise pour rien, je crois). J&#x27;initialise aussi le systÃ¨me de journalisation et j&#x27;initialise le petit service qui va chercher les arguments.</span></p><p class="p_root__SHE_W"><span>Enfin, j&#x27;ai le code qui, finalement, est tout simple, j&#x27;ai mÃªme directement supprimÃ© la base de donnÃ©es Ã  chaque fois que j&#x27;insÃ¨re des lignes parce que c&#x27;est vraiment que pour l&#x27;exemple. Ici, je prends chaque fichier que j&#x27;ai passÃ© en argument et je lis leur contenu. Il y a un petit parseur CSV des familles et puis, ici, je mets chaque ligne une par une dans la base. J&#x27;ai pas pris le temps de sÃ©parer en sous-fonctions proprement mais j&#x27;espÃ¨re que vous ne m&#x27;en tiendrez pas rigueur.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Les problÃ¨mes</span> <small><a class="anchored_icon__N5Sem" id="les-problemes" title="Lien vers cette section" href="#les-problemes"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Du coup, les problÃ¨mes qui sont posÃ©s de part par le fait de procÃ©der comme Ã§aÂ : on peut pas utiliser le serveur FTP et la base de donnÃ©es plusieurs fois parce que, tout simplement, la base de donnÃ©es, quand elle s&#x27;initialise (j&#x27;ai vraiment pas utilisÃ© l&#x27;injection de dÃ©pendances), en fait, ce qui se passe c&#x27;est qu&#x27;elle va aller chercher sa configuration et que la configuration, finalement, elle est fixÃ©e en dur.</span></p><p class="p_root__SHE_W"><span>C&#x27;est Ã  dire qu&#x27;elle va automatiquement aller chercher la configuration qui a Ã©tÃ© demandÃ©e ici dans ma configuration et, du coup, si j&#x27;ai besoin d&#x27;accÃ©der Ã  deux bases de donnÃ©es diffÃ©rentes, je peux pas. Si je veux pouvoir instancier deux fois le service base de donnÃ©e avec deux serveurs diffÃ©rents, je suis bloquÃ©.</span></p><p class="p_root__SHE_W"><span>Pareil pour les tests, mais on en a dÃ©jÃ  parlÃ©. Ce serait super chiant de tester ce code, il faudra utiliser mockery et tout rÃ©-implÃ©menter from scratch mais avec des stubs. On peut pas remplacer le FTP par S3 facilement et, en plus, c&#x27;est un choix binaire. C&#x27;est Ã  dire que si demain je veux remplacer FTP par S3 seulement dans un environnement, je ne peux pas, je suis obligÃ© d&#x27;utiliser S3 dans tous les environnements.</span></p><p class="p_root__SHE_W"><span>Si jamais j&#x27;ai un service qui demande un refacto ou si je change l&#x27;ordre d&#x27;initialisation des services, il va falloir que change le code un petit peu partout dans l&#x27;application. En fait, c&#x27;est assez compliquÃ© d&#x27;agir sur une telle base de code.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Knifecycle</span> <small><a class="anchored_icon__N5Sem" id="knifecycle" title="Lien vers cette section" href="#knifecycle"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Du coup, je vais vous prÃ©senter un petit module j&#x27;ai rÃ©alisÃ© et dont je me sers souvent. Je sais, Ã§a fait genre, la personne qui vient prÃ©senter son module mais Ã§a m&#x27;aurait embÃªtÃ© d&#x27;illustrer l&#x27;injection de dÃ©pendance avec un autre module ;). Le module que j&#x27;utilise c&#x27;est Knifecycle.</span></p><p class="p_root__SHE_W"><span>Alors qu&#x27;est-ce que ca veut dire &quot;l&#x27;injection dÃ©pendance avec la banane mais sans le gorille et sans la jungle&quot;Â ? Je sais pas si vous connaissez la citation mais en gros, le petit lol sur la POO est que quand vous voulez une banane vous Ãªtes obligÃ© de prendre le gorille et la jungle avec la la banane. Vous n&#x27;avez pas trop le choix.</span></p><p class="p_root__SHE_W"><span>Donc lÃ  l&#x27;idÃ©e c&#x27;est justement de ne pas ouvrir la boÃ®te de pandore avec la POO Ã  l inverse de ce qui se fait en fait beaucoup dans la plupart des frameworks qui utilisent l&#x27;injection de dÃ©pendances.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Refactoring</span> <small><a class="anchored_icon__N5Sem" id="refactoring" title="Lien vers cette section" href="#refactoring"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Donc du coup je vais faire un petit refacto. Il va Ãªtre trÃ¨s simple. Je vais reprendre chacun des services un par un et je vais les dÃ©clarer comme Ã©tant des initializer avec Knifecycle.</span></p><p class="p_root__SHE_W"><span>En fait, c&#x27;est relativement simple pour dÃ©clarer un initializer, j&#x27;ai juste Ã  faire appel aux fonctions utilitaires prÃ©vues Ã  cet effet. Par exemple, le service args est est un simple service qui expose les arguments fournis en ligne de commande donc j&#x27;utilise la function service pour la dÃ©clarer. Je lui donne un nom et c&#x27;est tout car il n&#x27;a pas de dÃ©pendances. On fera peut-Ãªtre du dÃ©bogage, j&#x27;espÃ¨re que non, mais c&#x27;est le risque.</span></p><p class="p_root__SHE_W"><span>La configuration, c&#x27;est pareil, c&#x27;est un service qui va juste charger la configuration dans un fichier en fonction de l&#x27;environnement donc j&#x27;utilise aussi la fonction service. D&#x27;ailleurs, ici, je vais utiliser une petite astuce, la fonction </span><code class="code_root__5JLV_">autoName</code><span> qui va induire le nom du service du nom de la fonction. Quelqu&#x27;un dans la salle: C&#x27;est un peu magiqueÂ ! Oui, il y a une partie de magie effectivement.</span></p><p class="p_root__SHE_W"><span>Ici pour la base de donnÃ©es, pareil, c&#x27;est un service. Ou plutÃ´t, un provider, car non seulement, il fourni le service, mais il gÃ¨re aussi le shutdown du service. C&#x27;est le seul moment oÃ¹ Ã§a devient intrusif dans le code mais en mÃªme temps Ã§a apporte une fonctionnalitÃ© (un problÃ¨me de type avec TypeScript est arrivÃ© durant le refactoring live, le fix a Ã©tÃ© publiÃ© ensuite sur GitHub). Je vais renoncer, vous aurez pas la dÃ©mo avec provider sinon, Ã§a va me prendre trop de temps</span></p><p class="p_root__SHE_W"><span>Pour le ftp, c&#x27;est pareil, c&#x27;est un service. Knifecycle propose tout un tas de fonctions utilitaires, mais ici, je vais rÃ©utiliser la fonction </span><code class="code_root__5JLV_">service</code><span>. D&#x27;ailleurs, je suis en train de faire l&#x27;impasse sur l&#x27;injection de dÃ©pendance, mais je vais y revenir aprÃ¨s.</span></p><p class="p_root__SHE_W"><span>Ici, de mÃªme, pour le logger, c&#x27;est un service, tout comme le timer. Vous avez pu voir que j&#x27;ai mis des interfaces, ce n&#x27;est pas innocent, c&#x27;est parce que je vais en avoir besoin aprÃ¨s et puis je voulais pas que Ã§a prenne trop de temps. Du coup, maintenant tous mes services sont bien configurÃ©s. Passons aux dÃ©pendances.</span></p><p class="p_root__SHE_W"><span>Le serveur FTP dÃ©pend de la configuration donc lÃ  ce que je vais faire c&#x27;est que je vais injecter la configuration dedans et je vais lui rajouter un type. Pourquoi je prÃ©cise le typeÂ ? Parce que, justement, c&#x27;est lÃ  l&#x27;inconvÃ©nient dont je parlais tout Ã  l&#x27;heure. Le compilateur, ici, n&#x27;a aucune idÃ©e de ce que je vais mettre lÃ -dedans. On est obligÃ©s de dÃ©clarer une interface, c&#x27;est un inconvÃ©nient sans vraiment l&#x27;Ãªtre car finalement le fait que je lui dise, la config que je vais te passer va Ãªtre de ce type lÃ , permet d&#x27;avoir une couche d&#x27;abstraction. C&#x27;est cette couche lÃ , aussi, qui fait que je vais pouvoir avoir des interfaces identique pour des services diffÃ©rents et c&#x27;est aussi cette couche lÃ  qui va nous permettre de raisonner d&#x27;une maniÃ¨re un petit peu plus intelligente que de juste dire, je veux rÃ©cupÃ©rer une librairie.</span></p><p class="p_root__SHE_W"><span>Par exemple, si comme nous vous utilisez S3, nous, en fait, on ne l&#x27;utilise pas directement, on a un service de stockage avec des mÃ©thodes get et put et on peut le substituer et par n&#x27;importe quoi. Demain, on dÃ©cide de plus passer par S3 mais le service concurrent dÃ©veloppÃ© par OVH, on peut. Simplement car on a raisonnÃ© en terme de briques fonctionnelles et non en terme de technologies.</span></p><p class="p_root__SHE_W"><span>MÃªme opÃ©ration pour le service de DB. Normalement Ã§a devrait vous rappeler un truc, pour ceux qui ont fait du AngularJS. C&#x27;est vraiment du copier/collÃ© pour le coup, j&#x27;ai vraiment copiÃ© son usage.</span></p><p class="p_root__SHE_W"><span>Maintenant je vais regarder dans mes commandes, du coup, Ã§a va Ãªtre le mÃªme dÃ©lire. Mais Je vais utiliser la fonction </span><code class="code_root__5JLV_">autoService</code><span> qui infÃ¨re le nom du service et de ses dÃ©pendances automatiquement.</span></p><p class="p_root__SHE_W"><span>Une personne dans la salle: Comment tu dÃ©tecte ces valeursÂ ?</span></p><p class="p_root__SHE_W"><span>Sur la signature, en fait, tout simplement, Ã§a fait un </span><code class="code_root__5JLV_">toString</code><span> sur la fonction avec une petite expression rÃ©guliÃ¨re qui rÃ©cupÃ¨re les bons arguments c&#x27;est ce que faisait AngularJS Ã  l&#x27;Ã©poque, j&#x27;ai vraiment pas innovÃ©.</span></p><p class="p_root__SHE_W"><span>Voir toutes les modifications sur le </span><a class="a_root__WEPS7" target="_blank" href="https://github.com/nfroidure/di-test"><span>dÃ©pot GitHub</span></a><span>.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Aller plus loin</span> <small><a class="anchored_icon__N5Sem" id="aller-plus-loin" title="Lien vers cette section" href="#aller-plus-loin"><span>ğŸ”—</span></a></small></span></h2><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Le chargement automatique</span> <small><a class="anchored_icon__N5Sem" id="le-chargement-automatique" title="Lien vers cette section" href="#le-chargement-automatique"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Comme on l&#x27;a vu dans la dÃ©mo, il est possible de charger automatiquement les dÃ©pendances pour un peu plus de magie, je ne vais pas revenir dessus.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>GÃ©nÃ©ration de graphes</span> <small><a class="anchored_icon__N5Sem" id="generation-de-graphes" title="Lien vers cette section" href="#generation-de-graphes"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>On peut gÃ©nÃ©rer des graphes, ici par exemple, c&#x27;est mon petit module jsarch que j&#x27;utilise pour documenter l&#x27;architecture directement dans mes fichiers JS. Pour le crÃ©er, j&#x27;ai utilisÃ© Knifecycle est grÃ¢ce Ã  cela, j&#x27;ai pu gÃ©nÃ©rer un graphe qui rÃ©sume sa structure.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Le build statique</span> <small><a class="anchored_icon__N5Sem" id="le-build-statique" title="Lien vers cette section" href="#le-build-statique"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Knifecycle propose aussi de crÃ©er un build statique. Cela Ã©vite d&#x27;embarquer la librairie dans vos projets, il suffit de gÃ©nÃ©rer un fichier qui crÃ©e pour vous, statiquement, le fichier JS qui va bien pour initialiser vos services.</span></p><p class="p_root__SHE_W"><span>Chez nous, on utilise cela pour builder nos lambdas fonctions chez AWS. Cela permet d&#x27;avoir un build lÃ©ger car on embarque que ce dont on a besoin. Clairement il faut mettre les mains dans le cambouis mais c&#x27;Ã©tait pour montrer que c&#x27;est possible.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>CrÃ©er des serveurs HTTP</span> <small><a class="anchored_icon__N5Sem" id="creer-des-serveurs-http" title="Lien vers cette section" href="#creer-des-serveurs-http"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Nous on utilise Knifecycle principalement pour le back-end. Je vous laisse jeter un Å“il Ã  Whook, le module que nous utilisons conjointement Ã  Knifecycle.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Services commun</span> <small><a class="anchored_icon__N5Sem" id="services-commun" title="Lien vers cette section" href="#services-commun"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Voici une petite liste de services qu&#x27;on a open-sourcÃ© et qui peuvent Ãªtre utilisÃ©s clÃ© en main avec Knifecycle.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>CrÃ©Ã© avec Knifecycle</span> <small><a class="anchored_icon__N5Sem" id="cree-avec-knifecycle" title="Lien vers cette section" href="#cree-avec-knifecycle"><span>ğŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Voici une petite liste de projets qui utilisent Knifecycle.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Questions</span> <small><a class="anchored_icon__N5Sem" id="questions" title="Lien vers cette section" href="#questions"><span>ğŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>VoilÃ , si vous avez des questionsÂ :).</span></p><p class="p_root__SHE_W">Published at<!-- --> <!-- -->samedi 2 fÃ©vrier 2019 Ã  08:00:00<!-- -->.</p></section><section class="contentBlock_root__802UK"><aside class="share_root__Qm_RR"><h2 class="h2_root__Y02lX">Commenter et partager</h2><p class="p_root__SHE_W"><a class="a_root__WEPS7" title="Commenter sur Facebook" target="_blank" href="https://www.facebook.com/dialog/share?display=popup&amp;href=https%3A%2F%2Finsertafter.com%2Fblog%2Finjection_de_dependance_nodejs&amp;redirect_uri=https%3A%2F%2Finsertafter.com"><span class="share_icon__bi4Q3 share_facebook__JKn8d"></span>Facebook</a> - <a class="a_root__WEPS7" title="Commenter sur Twitter" target="_blank" href="https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Finjection_de_dependance_nodejs&amp;text=Injection%20de%20d%C3%A9pendances%20avec%20NodeJS%20&amp;via=nfroidure"><span class="share_icon__bi4Q3 "></span>Twitter</a> - <a class="a_root__WEPS7" title="Me rÃ©pondre par mail" target="_self" href="mailto:nicolas.froidure@gmail.com"><span class="share_icon__bi4Q3 share_mail__yvBDK"></span>Courriel</a></p></aside></section><section class="contentBlock_root__802UK"><aside class="page_linkedEntries__jiPuT"><h2 class="h2_root__Y02lX">Articles similaires</h2><p class="p_root__SHE_W">Dans les catÃ©gories<!-- --> <!-- -->JavaScript, NodeJS et Injection de dÃ©pendances<!-- -->.</p><div class="items_entries__5hkLG"><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//documentation_du_code">Documentation d&#x27;applications en JavaScript</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Documenter son code est parfois fastidieux. Pourtant, c&#x27;est une nÃ©cessitÃ©. Petit retour d&#x27;expÃ©rience sur les techniques et outils que j&#x27;utilise.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//documentation_du_code">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->samedi 11 mars 2017 Ã  19:02:27<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//generation_api_cliente">GÃ©nÃ©ration automatique de clients d&#x27;APIs</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Personne de devrait perdre du temps Ã  Ã©crire du code qui peut Ãªtre gÃ©nÃ©rÃ© automatiquement. Voici comment je m&#x27;y prends pour les clients d&#x27;APIs.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//generation_api_cliente">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->dimanche 19 fÃ©vrier 2017 Ã  16:00:00<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//metapak">MÃ©ta-paquets NPM avec metapak</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">PrÃ©sentation sur metapak, un module d&#x27;aide Ã  la crÃ©ation de mÃ©ta-paquets NPM.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//metapak">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->dimanche 5 fÃ©vrier 2017 Ã  08:46:44<!-- -->.</p><div class="items_clear__3fyGk"></div></div></div></aside></section></div></main><aside class="social_iaSocial__kdR1x"><nav><ul><li><a href="https://mastodon.social/@nfroidure" rel="me" title="Me suivre sur Mastodon" class="social_iaSocialMastodon__MTF6o"><span>Mastodon</span></a></li><li><a href="https://bsky.app/profile/nfroidure.bsky.social" rel="me" title="Me suivre sur Bluesky" class="social_iaSocialBluesky__fKW6M"><span>Bluesky</span></a></li><li><a href="https://twitter.com/nfroidure" title="Me suivre sur Twitter" class="social_iaSocialTwitter__9nU6R"><span>Twitter</span></a></li><li><a href="https://github.com/nfroidure" title="Voir mes projets sur GitHub" class="social_iaSocialGithub__vcU5_"><span>GitHub</span></a></li><li><a href="https://www.npmjs.org/~nfroidure" title="Voir mon compte NPM" class="social_iaSocialNpm__6nku5"><span>NPM</span></a></li><li><a href="https://www.linkedin.com/in/nfroidure/" rel="me" title="Voir mon profil LinkedIn" class="social_iaSocialLinkedin__pWACO"><span>LinkedIn</span></a></li><li><a href="https://facebook.com/nicolas.froidure.douai" rel="me" title="Me suivre sur Facebook" class="social_iaSocialFacebook__w4wfH"><span>Facebook</span></a></li><li><a href="/fr/blog/index.atom" title="Sâ€™abonner au flux RSS" class="social_iaSocialFeed__gEQQ0"><span>Flux RSS</span></a></li></ul></nav></aside><footer class="footer_iaFooter__rhlnQ"><p class="footer_iaFooterContent__VZndF">Â© Nicolas Froidure 2012-<!-- -->2024</p></footer><script src="https://insertafter.com/_next/static/chunks/webpack-e22d0b50184c3e5b.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"0:\"$L1\"\n"])</script><script>self.__next_f.push([1,"2:HL[\"https://insertafter.com/_next/static/css/1f9f2e31c0c7b0ad.css\",\"style\",{\"crossOrigin\":\"\"}]\n3:HL[\"https://insertafter.com/_next/static/css/c0794213978ef12b.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\na:I[1778,[],\"\"]\n11:I[8955,[],\"\"]\n8:[\"locale\",\"fr\",\"d\"]\n9:[\"id\",\"injection_de_dependance_nodejs\",\"d\"]\nc:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"}\nd:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHei"])</script><script>self.__next_f.push([1,"ght\":\"49px\"}\ne:{\"display\":\"inline-block\"}\nf:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n"])</script><script>self.__next_f.push([1,"1:[null,[\"$\",\"$L4\",null,{\"buildId\":\"9fUASsqhclwKyXSiuGa9K\",\"assetPrefix\":\"https://insertafter.com\",\"initialCanonicalUrl\":\"/fr/blog/injection_de_dependance_nodejs\",\"initialTree\":[\"\",{\"children\":[\"(withLocale)\",{\"children\":[[\"locale\",\"fr\",\"d\"],{\"children\":[\"blog\",{\"children\":[[\"id\",\"injection_de_dependance_nodejs\",\"d\"],{\"children\":[\"__PAGE__?{\\\"locale\\\":\\\"fr\\\",\\\"id\\\":\\\"injection_de_dependance_nodejs\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true]}]}],\"initialSeedData\":[\"\",{\"children\":[\"(withLocale)\",{\"children\":[[\"locale\",\"fr\",\"d\"],{\"children\":[\"blog\",{\"children\":[[\"id\",\"injection_de_dependance_nodejs\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withLocale)\",\"children\",\"$8\",\"children\",\"blog\",\"children\",\"$9\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/c0794213978ef12b.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withLocale)\",\"children\",\"$8\",\"children\",\"blog\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,\"$Lb\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withLocale)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/1f9f2e31c0c7b0ad.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$c\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$d\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$e\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$f\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]],\"initialHead\":[false,\"$L10\"],\"globalErrorComponent\":\"$11\"}]]\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.strict_mode\"\n13:I[4630,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"960\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-6f34dfcd57f7d3e4.js\"],\"\"]\n14:I[4341,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"960\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-6f34dfcd57f7d3e4.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"$12\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"fr\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_body__jFZuu\",\"children\":[null,[\"$\",\"header\",null,{\"className\":\"header_iaHeader__4vCMA\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/fr\",\"title\":\"Retour Ã  lâ€™accueil\",\"className\":\"header_iaHeaderLogo__0uNr1\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/logo.svg\",\"alt\":\"Logo dâ€™InsertAfter\"}]}]}]}]}],[\"$\",\"$L13\",null,{\"locale\":\"fr\",\"dictionary\":{\"home\":{\"label\":\"Accueil\",\"title\":\"Retour Ã  lâ€™accueil\"},\"blog\":{\"label\":\"Blog\",\"title\":\"Retour Ã  lâ€™index du blog\"},\"projects\":{\"label\":\"Projets\",\"title\":\"DÃ©couvrir mes divers projets\"},\"about\":{\"label\":\"Ã€ propos\",\"title\":\"En savoir plus Ã  mon sujet\"}}}],[\"$\",\"$L14\",null,{\"locale\":\"fr\"}],[\"$\",\"main\",null,{\"className\":\"layout_iaMain__6s2gl\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withLocale)\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$L15\",\"notFoundStyles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/719d59f1b635ba1d.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],\"styles\":null}]}]}],[\"$\",\"aside\",null,{\"className\":\"social_iaSocial__kdR1x\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@nfroidure\",\"rel\":\"me\",\"title\":\"Me suivre sur Mastodon\",\"className\":\"social_iaSocialMastodon__MTF6o\",\"children\":[\"$\",\"span\",null,{\"children\":\"Mastodon\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://bsky.app/profile/nfroidure.bsky.social\",\"rel\":\"me\",\"title\":\"Me suivre sur Bluesky\",\"className\":\"social_iaSocialBluesky__fKW6M\",\"children\":[\"$\",\"span\",null,{\"children\":\"Bluesky\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://twitter.com/nfroidure\",\"title\":\"Me suivre sur Twitter\",\"className\":\"social_iaSocialTwitter__9nU6R\",\"children\":[\"$\",\"span\",null,{\"children\":\"Twitter\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/nfroidure\",\"title\":\"Voir mes projets sur GitHub\",\"className\":\"social_iaSocialGithub__vcU5_\",\"children\":[\"$\",\"span\",null,{\"children\":\"GitHub\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.org/~nfroidure\",\"title\":\"Voir mon compte NPM\",\"className\":\"social_iaSocialNpm__6nku5\",\"children\":[\"$\",\"span\",null,{\"children\":\"NPM\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/nfroidure/\",\"rel\":\"me\",\"title\":\"Voir mon profil LinkedIn\",\"className\":\"social_iaSocialLinkedin__pWACO\",\"children\":[\"$\",\"span\",null,{\"children\":\"LinkedIn\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://facebook.com/nicolas.froidure.douai\",\"rel\":\"me\",\"title\":\"Me suivre sur Facebook\",\"className\":\"social_iaSocialFacebook__w4wfH\",\"children\":[\"$\",\"span\",null,{\"children\":\"Facebook\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/fr/blog/index.atom\",\"title\":\"Sâ€™abonner au flux RSS\",\"className\":\"social_iaSocialFeed__gEQQ0\",\"children\":[\"$\",\"span\",null,{\"children\":\"Flux RSS\"}]}]}]]}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_iaFooter__rhlnQ\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_iaFooterContent__VZndF\",\"children\":[\"Â© Nicolas Froidure 2012-\",2024]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"15:[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"h1_root__VPXQG\",\"children\":\"Page not found\"}],[\"$\",\"p\",null,{\"className\":\"not-found_p__fvcGn\",\"children\":[[\"$\",\"img\",null,{\"className\":\"not-found_img__IT2jY\",\"src\":\"https://media.giphy.com/media/12mPcp41D9a1i0/giphy.gif\",\"alt\":\"404.png\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":\"It seems that the page you look for doesn't exist.\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"16:I[5250,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"876\",\"static/chunks/876-4c07c683293830f5.js\",\"798\",\"static/chunks/app/(withLocale)/%5Blocale%5D/blog/%5Bid%5D/page-8c92e4ed1884a050.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[[\"$\",\"h1\",null,{\"className\":\"h1_root__VPXQG\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Injection de dÃ©pendances sans gorille\"}]]}],[\"$\",\"div\",\"1\",{\"children\":[\"$\",\"span\",null,{\"className\":\"img_root__vTZoG img_landscape__qBqfT\",\"children\":[[\"$\",\"span\",null,{\"className\":\"img_picture__pfsl0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Knifecycle logo\",\"src\":\"https://raw.githubusercontent.com/nfroidure/knifecycle/main/knifecycle.svg\"}]}],null]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"markdown_root__U7zrI\",\"children\":[\"$\",\"iframe\",null,{\"width\":\"560\",\"height\":\"315\",\"src\":\"https://www.youtube.com/embed/qTtwn1J9IXk\",\"title\":\"\",\"allow\":\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\"allowFullScreen\":true}]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Retranscription de ma prÃ©sentation au dernier ChtiJS sur l'injection de dÃ©pendances avec NodeJS mais plus gÃ©nÃ©ralement en JavaScriptÂ !\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"div\",null,{\"className\":\"slidesDotCom_root__yd21N\",\"children\":[[\"$\",\"iframe\",null,{\"src\":\"https://slides.com/nfroidure/javascript_dependency_injection/embed\",\"allowFullScreen\":true}],[\"$\",\"noscript\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"https://slides.com/nfroidure/javascript_dependency_injection\",\"className\":\"a_root__WEPS7\",\"title\":\"Voir les diapositives de la prÃ©sentation\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Slides\"}]]]}]}]]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Aujourd'hui, je vais vous parlais d'injection de dÃ©pendances en JavaScript. J'ai fait les slides en anglais car je vais les mettre sur mon blog aprÃ¨s mais n'hÃ©sitez pas Ã  me demander de traduire si vous en ressentez le besoin.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"J'ai prÃ©cisÃ© unobtrusive car l'objectif est que cette derniÃ¨re n'interfÃ¨re pas avec votre code. L'idÃ©e c'est d'avoir un minimum de code qui qui gÃ¨re Ã§a puisque finalement vous allez voir que ce n'est pas nÃ©cessaire.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"A propos de moi\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#a-propos-de-moi\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"a-propos-de-moi\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Faisons d'abord les prÃ©sentations, je travaille pour Sencrop, vous l'avez vu tout Ã  l'heure. Je fais du logiciel pour les startups depuis que JavaScript est un sujet brÃ»lant. Et une fois j'ai fait un code qui a failli compiler avec Rust. Vous pouvez me retrouver sur mon blog ou via Twitter.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Sencrop recrute\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#sencrop-recrute\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"sencrop-recrute\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Vous avez peut-Ãªtre entendu parler de la levÃ©e de fond rÃ©cente de Sencrop. Du coup, on va pouvoir augmenter nos ambitions et pour ce faire on recrute des dÃ©veloppeurs back-end, front-end (mais si vous Ãªtes full-stack c'est bien aussi, des data scientists et des ingÃ©nieurs pour le dÃ©veloppement embarquÃ© car on a une problÃ©matique hardware Ã©galement.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"DÃ©finition\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#definition\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"definition\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Qui connaÃ®t l'injection de dÃ©pendancesÂ ? Une bonne partie de la salle lÃ¨ve la main. Qui l'utilise au quotidienÂ ? Quelques mains se lÃ¨vent. Une personne: \\\"C'est un peu la mÃªme chose que Spring Boot en JavaÂ ?\\\" Alors, oui, c'est design pattern donc tu l'implÃ©mentes comme tu veux, tu peux l'implÃ©menter en POO ou pas.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"L'idÃ©e, en gros, de l'injection de dÃ©pendance, c'est que votre code a besoin de faire appel Ã  des Ã©tats externes, donc typiquement Ã§a va Ãªtre les IOs (lire un fichier, enregistrer dans une base de donnÃ©es, faire un appel Ã  un service REST, peu importe...).On va donc chercher Ã  exprimer ces dÃ©pendances de maniÃ¨re dÃ©clarative pour que le code mÃ©tier ne soit pas impactÃ© par toute la tuyauterie.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Finalement, on cherche que l'implÃ©mentation soit complÃ¨tement dÃ©couplÃ©e des dÃ©pendances et de leur initialisation.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"En JavaScript\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#en-javascript\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"en-javascript\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Donc, en JS, qu'est ce que Ã§a peut donnerÂ ? En fait c'est trÃ¨s simple, si vous Ãªtes un fan de la POO, vous avez une classe et cette classe finalement vous allez lui injecter les services dont elle a besoin de maniÃ¨re Ã  ce qu'en son sein, vous puissiez utiliser ces services sans vous soucier de leurs initialisation.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Avec les fonctions, c'est un peu plus simple, vous allez utiliser le passage d'arguments Ã  vos fonctions et vous allez utiliser, tout bÃªtement, les services que vous avez passÃ© en argument de vos fonctions.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"C'est assez simple, en fait, c'est un mot compliquÃ© pour nommer quelque chose de trÃ¨s simple.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Cycle de vie d'une application\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#cycle-de-vie-d-une-application\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"cycle-de-vie-d-une-application\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Pourquoi c'est utileÂ ? (Toute la salle penche la tÃªte pour lire les annotations du schÃ©ma projetÃ©). Oui, je vous vois tourner la tÃªte, mais j'avais pas de place pour mettre les Ã©criteaux horizontalement.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Je vous mets au dÃ©fi de trouver une application qui n'a pas une phase de dÃ©marrage et une phase d'arrÃªt, Ã  part le front-end, encore que, parfois, vous pouvez vouloir qu'il y ait des comportements au sortir de la page qui soient dÃ©clenchÃ©s.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Du coup c'est un truc qui est super rÃ©current et c'est ce que l'injection dÃ©pendance adresse. C'est donc trÃ¨s commun de l'utiliser.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Les phases de l'injection de dÃ©pendances\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#les-phases-de-l-injection-de-dependances\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"les-phases-de-l-injection-de-dependances\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Alors, Ã  quoi Ã§a ressemble finalement. Vous avez toutes vos dÃ©pendances (la flÃ¨che, ici, elle veut dire \\\"dÃ©pend de\\\", donc ce rond lÃ  dÃ©pend de cet autre lÃ ). Chaque nÅ“ud est donc un service et les feuilles c'est le code mÃ©tier, celui qui exploite vos services.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Les dÃ©penses de votre application, c'est un graphe orientÃ© et l'idÃ©e, en fait, c'est finalement qu'on peut les initialiser d'une maniÃ¨re optimale. C'est pas compliquÃ©, vous commencez par instancier les services qui n'ont pas de dÃ©pendance, puis les services qui dÃ©pendent des services que vous avez initialisÃ©s Ã  la premiÃ¨re itÃ©ration lors de la seconde itÃ©ration et Ã  la troisiÃ¨me itÃ©ration les services qui vous n'avez pu crÃ©er Ã  la seconde, etc jusqu'Ã  ce que toute votre application soit initialisÃ©e.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Pour l'extinction, c'est pareil sauf que lÃ  vos services, ils sont tous up et vous allez les stopper de maniÃ¨re inversÃ©e afin que tous les services soient proprement arrÃªtÃ©s. C'est le \\\"graceful shutdown\\\" pour ceux qui ne connaissent pas. C'est un problÃ©matique plutÃ´t back-end mais pourquoi pas en front.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Opinion\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#opinion\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"opinion\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"L'opinion que j'ai essayer de dÃ©velopper ce soir est que c'est le seul design pattern que vous ne regretterez jamais d'avoir implÃ©menter. PourquoiÂ ? Parce que comme je l'ai annoncÃ© tout Ã  l'heure, c'est rÃ©current, c'est Ã  dire que Ã§a adresse un problÃ¨me qui existe dans toutes les applications et donc c'est dommage de ne pas l'utiliser surtout quand on le connaÃ®t.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"La deuxiÃ¨me opinion que je vais essayer de dÃ©velopper est que si vous utilisez de la programmation orientÃ©e objet ne blÃ¢mez pas l'injection de dÃ©pendances parce que c'est pas de sa faute si vous avez l'impression que c'est n'importe quoi, mais celle de la POO.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"PourquoiÂ ?\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#pourquoi\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"pourquoi\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Au delÃ  du fait que c'est un pattern rÃ©current et que Ã§a adresse un problÃ¨me qui est commun (n'hÃ©sitez pas Ã  proposer lors des questions des applications qui n'auraient pas besoin de l'injection de dÃ©pendances).\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Testable\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#testable\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"testable\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Parce que Ã§a rend votre code testable, tout simplement. C'est beaucoup plus facile de le tester du code qui utilise l'injection de dÃ©pendances.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Je ne sais pas qui utilise mockery, pour mocker des modules, mais enfin c'est un peu l'horreur.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Configurable\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#configurable\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"configurable\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"C'est aussi configurable car comme vous mettez les dÃ©pendances en paramÃ¨tre, finalement, vous mettez ce que vous voulez en paramÃ¨tre, il suffit que vous respectiez l'interface de vos services pour pouvoir les rÃ©utiliser avec d'autres services qui seraient conceptuellement la mÃªme chose.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Manageable\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#manageable\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"manageable\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"J'ai mis Ã§a parce que on en parlait tout Ã  l'heure mais en fait le dÃ©veloppement principalement c'est de la charge mentale, de la charge mentale a accumuler. Il faut Ãªtre capable d'avoir en tÃªte tous les effets de bords possibles que le code vous Ãªtes en train d'Ã©crire peut gÃ©nÃ©rer et le fait de raisonner justement de maniÃ¨re isolÃ©e, Ã§a aide Ã  comprendre plus de code puisqu'on a moins de charge mentale.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"RÃ©-utilisable\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#re-utilisable\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"re-utilisable\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Car, de ce fait, vous pouvez facilement rÃ©utiliser des morceaux de code. C'est plus que la modularisation du code, c'est aussi, rÃ©utiliser l'initialisation et l'arrÃªt de vos services dans toutes vos applications.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Optimal\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#optimal\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"optimal\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Optimal parce que, en fait, le code que vous auriez Ã©crit pour initialiser vos services et pour les dÃ©s-initialiser que vous auriez fait Ã  la mano, ici vous avez la garantie que c'est optimal car vous utilisez une librairie qui adresse vraiment ce problÃ¨me et qui essaie de le rÃ©soudre de maniÃ¨re optimale donc, a priori, vous avez le meilleur code qui soit pour pouvoir utiliser vos dÃ©penses.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Instrumentable\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#instrumentable\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"instrumentable\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Instrumentable, parce que, du coup Ã§a fait que votre code devient plus un ensemble sur lequel vous pouvez raisonner plutÃ´t que juste du code impÃ©ratif qui ferait les choses sÃ©quentiellement. Mais on va voir cela plus en dÃ©tail tout Ã  l'heure.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"InconvÃ©nients\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#inconvenients\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"inconvenients\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Alors, est ce qu'il ya des inconvÃ©nientsÂ ? Oui il y en a.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"DÃ©bogage\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#debogage\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"debogage\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"l'inconvÃ©nient c'est le dÃ©bogage parce qu'effectivement l'initialisation des services, si jamais Ã§a marche pas, va falloir mettre les mains dans le cambouis. C'est plus simple de dÃ©boguer du code qu'on voit que du code qui fonctionne de maniÃ¨re magique, entre guillemets.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Typage statique\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#typage-statique\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"typage-statique\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Le typage statique, forcÃ©ment, comme tous les services sont initialisÃ©s de maniÃ¨re dynamique, on perd un peu de l' avantage de la vÃ©rification du code typÃ© par le compilateur.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"DÃ©monstration\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#demonstration\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"demonstration\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"J'ai crÃ©Ã© une petite application, plutÃ´t, un outil en ligne de commande qui ne fait pas grand chose. Il y a trois ou quatre commandes. Une commande qui montre le temps Unix, une qui envoies un fichier dans un serveur FTP (on voit ici un service docker que j'ai lancÃ©), il y a une commande qui insÃ¨re des donnÃ©es dans une base de donnÃ©es et, normalement, il y a une commande qui les affiches.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"VoilÃ  c'est vraiment tout simple. Je l'ai fait en TypeScript car je voulais montrer quelque chose qui ne fonctionne que TypeScript mais Ã§a peut fonctionner en JS normal.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Donc, qu'est ce qui se passeÂ ? Par exemple, ici, j'ai ma commande qui insÃ¨re des des lignes dans la base de donnÃ©es. Alors j'initialise, je fais Ã§a bÃªtement, j'initialise la base de donnÃ©es, le serveur FTP (le serveur FTP, au dÃ©but je voulais aller chercher le fichier sur le serveur FTP mais j'ai pas eu le temps, donc je l'initialise pour rien, je crois). J'initialise aussi le systÃ¨me de journalisation et j'initialise le petit service qui va chercher les arguments.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Enfin, j'ai le code qui, finalement, est tout simple, j'ai mÃªme directement supprimÃ© la base de donnÃ©es Ã  chaque fois que j'insÃ¨re des lignes parce que c'est vraiment que pour l'exemple. Ici, je prends chaque fichier que j'ai passÃ© en argument et je lis leur contenu. Il y a un petit parseur CSV des familles et puis, ici, je mets chaque ligne une par une dans la base. J'ai pas pris le temps de sÃ©parer en sous-fonctions proprement mais j'espÃ¨re que vous ne m'en tiendrez pas rigueur.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Les problÃ¨mes\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#les-problemes\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"les-problemes\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Du coup, les problÃ¨mes qui sont posÃ©s de part par le fait de procÃ©der comme Ã§aÂ : on peut pas utiliser le serveur FTP et la base de donnÃ©es plusieurs fois parce que, tout simplement, la base de donnÃ©es, quand elle s'initialise (j'ai vraiment pas utilisÃ© l'injection de dÃ©pendances), en fait, ce qui se passe c'est qu'elle va aller chercher sa configuration et que la configuration, finalement, elle est fixÃ©e en dur.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"C'est Ã  dire qu'elle va automatiquement aller chercher la configuration qui a Ã©tÃ© demandÃ©e ici dans ma configuration et, du coup, si j'ai besoin d'accÃ©der Ã  deux bases de donnÃ©es diffÃ©rentes, je peux pas. Si je veux pouvoir instancier deux fois le service base de donnÃ©e avec deux serveurs diffÃ©rents, je suis bloquÃ©.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Pareil pour les tests, mais on en a dÃ©jÃ  parlÃ©. Ce serait super chiant de tester ce code, il faudra utiliser mockery et tout rÃ©-implÃ©menter from scratch mais avec des stubs. On peut pas remplacer le FTP par S3 facilement et, en plus, c'est un choix binaire. C'est Ã  dire que si demain je veux remplacer FTP par S3 seulement dans un environnement, je ne peux pas, je suis obligÃ© d'utiliser S3 dans tous les environnements.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Si jamais j'ai un service qui demande un refacto ou si je change l'ordre d'initialisation des services, il va falloir que change le code un petit peu partout dans l'application. En fait, c'est assez compliquÃ© d'agir sur une telle base de code.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Knifecycle\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#knifecycle\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"knifecycle\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Du coup, je vais vous prÃ©senter un petit module j'ai rÃ©alisÃ© et dont je me sers souvent. Je sais, Ã§a fait genre, la personne qui vient prÃ©senter son module mais Ã§a m'aurait embÃªtÃ© d'illustrer l'injection de dÃ©pendance avec un autre module ;). Le module que j'utilise c'est Knifecycle.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Alors qu'est-ce que ca veut dire \\\"l'injection dÃ©pendance avec la banane mais sans le gorille et sans la jungle\\\"Â ? Je sais pas si vous connaissez la citation mais en gros, le petit lol sur la POO est que quand vous voulez une banane vous Ãªtes obligÃ© de prendre le gorille et la jungle avec la la banane. Vous n'avez pas trop le choix.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Donc lÃ  l'idÃ©e c'est justement de ne pas ouvrir la boÃ®te de pandore avec la POO Ã  l inverse de ce qui se fait en fait beaucoup dans la plupart des frameworks qui utilisent l'injection de dÃ©pendances.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Refactoring\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#refactoring\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"refactoring\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Donc du coup je vais faire un petit refacto. Il va Ãªtre trÃ¨s simple. Je vais reprendre chacun des services un par un et je vais les dÃ©clarer comme Ã©tant des initializer avec Knifecycle.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"En fait, c'est relativement simple pour dÃ©clarer un initializer, j'ai juste Ã  faire appel aux fonctions utilitaires prÃ©vues Ã  cet effet. Par exemple, le service args est est un simple service qui expose les arguments fournis en ligne de commande donc j'utilise la function service pour la dÃ©clarer. Je lui donne un nom et c'est tout car il n'a pas de dÃ©pendances. On fera peut-Ãªtre du dÃ©bogage, j'espÃ¨re que non, mais c'est le risque.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"La configuration, c'est pareil, c'est un service qui va juste charger la configuration dans un fichier en fonction de l'environnement donc j'utilise aussi la fonction service. D'ailleurs, ici, je vais utiliser une petite astuce, la fonction \"}],[\"$\",\"code\",null,{\"className\":\"code_root__5JLV_\",\"children\":\"autoName\"}],[\"$\",\"span\",\"2\",{\"children\":\" qui va induire le nom du service du nom de la fonction. Quelqu'un dans la salle: C'est un peu magiqueÂ ! Oui, il y a une partie de magie effectivement.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Ici pour la base de donnÃ©es, pareil, c'est un service. Ou plutÃ´t, un provider, car non seulement, il fourni le service, mais il gÃ¨re aussi le shutdown du service. C'est le seul moment oÃ¹ Ã§a devient intrusif dans le code mais en mÃªme temps Ã§a apporte une fonctionnalitÃ© (un problÃ¨me de type avec TypeScript est arrivÃ© durant le refactoring live, le fix a Ã©tÃ© publiÃ© ensuite sur GitHub). Je vais renoncer, vous aurez pas la dÃ©mo avec provider sinon, Ã§a va me prendre trop de temps\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Pour le ftp, c'est pareil, c'est un service. Knifecycle propose tout un tas de fonctions utilitaires, mais ici, je vais rÃ©utiliser la fonction \"}],[\"$\",\"code\",null,{\"className\":\"code_root__5JLV_\",\"children\":\"service\"}],[\"$\",\"span\",\"2\",{\"children\":\". D'ailleurs, je suis en train de faire l'impasse sur l'injection de dÃ©pendance, mais je vais y revenir aprÃ¨s.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Ici, de mÃªme, pour le logger, c'est un service, tout comme le timer. Vous avez pu voir que j'ai mis des interfaces, ce n'est pas innocent, c'est parce que je vais en avoir besoin aprÃ¨s et puis je voulais pas que Ã§a prenne trop de temps. Du coup, maintenant tous mes services sont bien configurÃ©s. Passons aux dÃ©pendances.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Le serveur FTP dÃ©pend de la configuration donc lÃ  ce que je vais faire c'est que je vais injecter la configuration dedans et je vais lui rajouter un type. Pourquoi je prÃ©cise le typeÂ ? Parce que, justement, c'est lÃ  l'inconvÃ©nient dont je parlais tout Ã  l'heure. Le compilateur, ici, n'a aucune idÃ©e de ce que je vais mettre lÃ -dedans. On est obligÃ©s de dÃ©clarer une interface, c'est un inconvÃ©nient sans vraiment l'Ãªtre car finalement le fait que je lui dise, la config que je vais te passer va Ãªtre de ce type lÃ , permet d'avoir une couche d'abstraction. C'est cette couche lÃ , aussi, qui fait que je vais pouvoir avoir des interfaces identique pour des services diffÃ©rents et c'est aussi cette couche lÃ  qui va nous permettre de raisonner d'une maniÃ¨re un petit peu plus intelligente que de juste dire, je veux rÃ©cupÃ©rer une librairie.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Par exemple, si comme nous vous utilisez S3, nous, en fait, on ne l'utilise pas directement, on a un service de stockage avec des mÃ©thodes get et put et on peut le substituer et par n'importe quoi. Demain, on dÃ©cide de plus passer par S3 mais le service concurrent dÃ©veloppÃ© par OVH, on peut. Simplement car on a raisonnÃ© en terme de briques fonctionnelles et non en terme de technologies.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"MÃªme opÃ©ration pour le service de DB. Normalement Ã§a devrait vous rappeler un truc, pour ceux qui ont fait du AngularJS. C'est vraiment du copier/collÃ© pour le coup, j'ai vraiment copiÃ© son usage.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Maintenant je vais regarder dans mes commandes, du coup, Ã§a va Ãªtre le mÃªme dÃ©lire. Mais Je vais utiliser la fonction \"}],[\"$\",\"code\",null,{\"className\":\"code_root__5JLV_\",\"children\":\"autoService\"}],[\"$\",\"span\",\"2\",{\"children\":\" qui infÃ¨re le nom du service et de ses dÃ©pendances automatiquement.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Une personne dans la salle: Comment tu dÃ©tecte ces valeursÂ ?\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Sur la signature, en fait, tout simplement, Ã§a fait un \"}],[\"$\",\"code\",null,{\"className\":\"code_root__5JLV_\",\"children\":\"toString\"}],[\"$\",\"span\",\"2\",{\"children\":\" sur la fonction avec une petite expression rÃ©guliÃ¨re qui rÃ©cupÃ¨re les bons arguments c'est ce que faisait AngularJS Ã  l'Ã©poque, j'ai vraiment pas innovÃ©.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Voir toutes les modifications sur le \"}],[\"$\",\"$L16\",null,{\"href\":\"https://github.com/nfroidure/di-test\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"dÃ©pot GitHub\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\".\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Aller plus loin\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#aller-plus-loin\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"aller-plus-loin\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Le chargement automatique\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#le-chargement-automatique\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"le-chargement-automatique\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Comme on l'a vu dans la dÃ©mo, il est possible de charger automatiquement les dÃ©pendances pour un peu plus de magie, je ne vais pas revenir dessus.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"GÃ©nÃ©ration de graphes\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#generation-de-graphes\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"generation-de-graphes\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"On peut gÃ©nÃ©rer des graphes, ici par exemple, c'est mon petit module jsarch que j'utilise pour documenter l'architecture directement dans mes fichiers JS. Pour le crÃ©er, j'ai utilisÃ© Knifecycle est grÃ¢ce Ã  cela, j'ai pu gÃ©nÃ©rer un graphe qui rÃ©sume sa structure.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Le build statique\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#le-build-statique\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"le-build-statique\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Knifecycle propose aussi de crÃ©er un build statique. Cela Ã©vite d'embarquer la librairie dans vos projets, il suffit de gÃ©nÃ©rer un fichier qui crÃ©e pour vous, statiquement, le fichier JS qui va bien pour initialiser vos services.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Chez nous, on utilise cela pour builder nos lambdas fonctions chez AWS. Cela permet d'avoir un build lÃ©ger car on embarque que ce dont on a besoin. Clairement il faut mettre les mains dans le cambouis mais c'Ã©tait pour montrer que c'est possible.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"CrÃ©er des serveurs HTTP\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#creer-des-serveurs-http\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"creer-des-serveurs-http\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Nous on utilise Knifecycle principalement pour le back-end. Je vous laisse jeter un Å“il Ã  Whook, le module que nous utilisons conjointement Ã  Knifecycle.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Services commun\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#services-commun\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"services-commun\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Voici une petite liste de services qu'on a open-sourcÃ© et qui peuvent Ãªtre utilisÃ©s clÃ© en main avec Knifecycle.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"CrÃ©Ã© avec Knifecycle\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#cree-avec-knifecycle\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"cree-avec-knifecycle\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Voici une petite liste de projets qui utilisent Knifecycle.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Questions\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L16\",null,{\"href\":\"#questions\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"questions\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ğŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"VoilÃ , si vous avez des questionsÂ :).\"}]]}]],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Published at\",\" \",\"samedi 2 fÃ©vrier 2019 Ã  08:00:00\",\".\"]}]]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"share_root__Qm_RR\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Commenter et partager\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L16\",null,{\"href\":\"https://www.facebook.com/dialog/share?display=popup\u0026href=https%3A%2F%2Finsertafter.com%2Fblog%2Finjection_de_dependance_nodejs\u0026redirect_uri=https%3A%2F%2Finsertafter.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Commenter sur Facebook\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_facebook__JKn8d\"}],\"Facebook\"]]}],\" - \",[\"$\",\"$L16\",null,{\"href\":\"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Finjection_de_dependance_nodejs\u0026text=Injection%20de%20d%C3%A9pendances%20avec%20NodeJS%20\u0026via=nfroidure\",\"className\":\"a_root__WEPS7\",\"title\":\"Commenter sur Twitter\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 \"}],\"Twitter\"]]}],\" - \",[\"$\",\"$L16\",null,{\"href\":\"mailto:nicolas.froidure@gmail.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Me rÃ©pondre par mail\",\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_mail__yvBDK\"}],\"Courriel\"]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"page_linkedEntries__jiPuT\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Articles similaires\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Dans les catÃ©gories\",\" \",\"JavaScript, NodeJS et Injection de dÃ©pendances\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_entries__5hkLG\",\"children\":[[\"$\",\"div\",\"documentation_du_code\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L16\",null,{\"href\":\".//documentation_du_code\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Documentation d'applications en JavaScript\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Documenter son code est parfois fastidieux. Pourtant, c'est une nÃ©cessitÃ©. Petit retour d'expÃ©rience sur les techniques et outils que j'utilise.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L16\",null,{\"href\":\".//documentation_du_code\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"samedi 11 mars 2017 Ã  19:02:27\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"generation_api_cliente\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L16\",null,{\"href\":\".//generation_api_cliente\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"GÃ©nÃ©ration automatique de clients d'APIs\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Personne de devrait perdre du temps Ã  Ã©crire du code qui peut Ãªtre gÃ©nÃ©rÃ© automatiquement. Voici comment je m'y prends pour les clients d'APIs.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L16\",null,{\"href\":\".//generation_api_cliente\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"dimanche 19 fÃ©vrier 2017 Ã  16:00:00\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"metapak\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L16\",null,{\"href\":\".//metapak\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"MÃ©ta-paquets NPM avec metapak\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"PrÃ©sentation sur metapak, un module d'aide Ã  la crÃ©ation de mÃ©ta-paquets NPM.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L16\",null,{\"href\":\".//metapak\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"dimanche 5 fÃ©vrier 2017 Ã  08:46:44\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}]]}]]}]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"content\":\"#3e78b2\"}],[\"$\",\"meta\",\"2\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"3\",{\"children\":\"Injection de dÃ©pendances avec NodeJS  - Nicolas Froidure\"}],[\"$\",\"meta\",\"4\",{\"name\":\"description\",\"content\":\"PrÃ©sentation donnÃ©e lors du ChtiJS 21 Ã  propos de l'injection de dÃ©pendances en JavaScript.\"}],[\"$\",\"link\",\"5\",{\"rel\":\"author\",\"href\":\"https://insertafter.com\"}],[\"$\",\"meta\",\"6\",{\"name\":\"author\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"8\",{\"rel\":\"canonical\",\"href\":\"https://insertafter.com/fr/blog/injection_de_dependance_nodejs\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Injection de dÃ©pendances avec NodeJS  - Nicolas Froidure\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"PrÃ©sentation donnÃ©e lors du ChtiJS 21 Ã  propos de l'injection de dÃ©pendances en JavaScript.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://insertafter.com/fr/blog/injection_de_dependance_nodejs\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"fr_FR\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:alt\",\"content\":\"BanniÃ¨re du site\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:site\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:creator\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:title\",\"content\":\"Injection de dÃ©pendances avec NodeJS  - Nicolas Froidure\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:description\",\"content\":\"PrÃ©sentation donnÃ©e lors du ChtiJS 21 Ã  propos de l'injection de dÃ©pendances en JavaScript.\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:alt\",\"content\":\"BanniÃ¨re du site\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/images/favicon.svg\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/images/favicon-16.png\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"26\",{\"rel\":\"icon\",\"href\":\"/images/favicon-128.png\",\"type\":\"image/png\",\"sizes\":\"128x128\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>