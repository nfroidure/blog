3:I[5613,[],""]
6:I[1778,[],""]
4:["locale","fr","d"]
5:["id","erreurs_javascript","d"]
8:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
9:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
a:{"display":"inline-block"}
b:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["TAeA64I6nSlHSqkZiZ8iQ",[[["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":["blog",{"children":[["id","erreurs_javascript","d"],{"children":["__PAGE__?{\"locale\":\"fr\",\"id\":\"erreurs_javascript\"}",{}]}]}]},"$undefined","$undefined",true]}]}],["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":["blog",{"children":[["id","erreurs_javascript","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children","blog","children","$5","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/b3a30849af1e683f.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,"$L7",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/655a273f6fe37552.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$8","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$9","children":"404"}],["$","div",null,{"style":"$a","children":["$","h2",null,{"style":"$b","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]],[null,"$Lc"]]]]
d:"$Sreact.strict_mode"
e:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
f:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
7:["$","$d",null,{"children":["$","html",null,{"lang":"fr","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/fr","title":"Retour √† l‚Äôaccueil","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"Logo d‚ÄôInsertAfter"}]}]}]}]}],["$","$Le",null,{"locale":"fr","dictionary":{"home":{"label":"Accueil","title":"Retour √† l‚Äôaccueil"},"blog":{"label":"Blog","title":"Retour √† l‚Äôindex du blog"},"projects":{"label":"Projets","title":"D√©couvrir mes divers projets"},"about":{"label":"√Ä propos","title":"En savoir plus √† mon sujet"}}}],["$","$Lf",null,{"locale":"fr"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$L10","notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/719d59f1b635ba1d.css","precedence":"next","crossOrigin":""}]],"styles":null}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Me suivre sur Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Me suivre sur Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Me suivre sur Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"Voir mes projets sur GitHub","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Voir mon compte NPM","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"Voir mon profil LinkedIn","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Me suivre sur Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/fr/blog/index.atom","title":"S‚Äôabonner au flux RSS","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"Flux RSS"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["¬© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
10:["$","section",null,{"className":"contentBlock_root__802UK","children":[["$","h1",null,{"className":"h1_root__VPXQG","children":"Page not found"}],["$","p",null,{"className":"not-found_p__fvcGn","children":[["$","img",null,{"className":"not-found_img__IT2jY","src":"https://media.giphy.com/media/12mPcp41D9a1i0/giphy.gif","alt":"404.png"}],["$","p",null,{"className":"p_root__SHE_W","children":"It seems that the page you look for doesn't exist."}]]}]]}]
11:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","876","static/chunks/876-4c07c683293830f5.js","798","static/chunks/app/(withLocale)/%5Blocale%5D/blog/%5Bid%5D/page-8b95870d35c65aee.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Gestion des erreurs en JavaScript"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"G√©rer les erreurs en JavaScript peut para√Ætre simple, mais il n'est pas toujours √©vident de choisir entre exceptions, retours d'erreurs et callbacks d'erreurs."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Le dernier Ch'tiJS a d√©cid√©ment √©t√© la source de nombreuses r√©flexions. L'une d'entre elle concernait les erreurs. Tout est parti d'une assertion simple¬†: les promises doivent-elles attraper les exceptions et les transformer en erreurs r√©cup√©rables dans un then ou les laisser remonter la pile d'ex√©cution¬†?"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"C'est que fait, par exemple, RSVP.js. La logique du resolver est englob√©e dans "}],["$","$L11",null,{"href":"https://github.com/tildeio/rsvp.js/blob/277eb5eab912a9c3df8228a2647fcab84374615a/lib/rsvp/promise.js#L47","className":"a_root__WEPS7","title":"Voir le code en question","target":"_blank","children":[null,[["$","span","0",{"children":"un bloc try...catch"}]]]}],["$","span","2",{"children":" qui transforme toute exception en erreur qui fait √©chouer la promise. Dans "}],["$","$L11",null,{"href":"promises%5Fjavascript%5Fouvrons%5Fcapot.html","className":"a_root__WEPS7","title":"Voir l'article concernant cette impl√©mentation","target":"_self","children":[null,[["$","span","0",{"children":"mon impl√©mentation des promises"}]]]}],["$","span","4",{"children":", j'ai choisi de ne pas utiliser cette approche afin de pouvoir d√©cider, au cas par cas, d'attraper ou non une exception envoy√©e par le resolver d'une promise."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Typologie des erreurs"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#typologie-des-erreurs","className":"anchored_icon__N5Sem","id":"typologie-des-erreurs","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Avant d'aller plus loin, je voudrais revenir sur la typologie des erreurs que l'on peut rencontrer au cours de l'ex√©cution d'un programme. Pour moi, il existe trois classes d'erreurs¬†:"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les erreurs fatales¬†: ce sont des erreurs qui r√©sultent d'une erreur de programmation. Ces derni√®res ont la particularit√© de ne pas avoir √©t√© pr√©vues par le d√©veloppeur puisqu'elles r√©sultent d'un bug. Elles laissent donc le programme dans un √©tat ind√©termin√©. On pourrait comparer cette erreur aux erreurs HTTP 500+ ;"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les erreurs d'utilisation¬†: elles sont caus√©es par une mauvaise utilisation du programme (mauvaise saisies de l'utilisateur principalement) ;"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les erreurs d'interaction¬†: un programme interagit fr√©quemment avec d'autres composants (le r√©seau, le mat√©riel etc...). Il arrive qu'une interaction se termine de fa√ßon impr√©vue ou incoh√©rente. Un programme se doit d'anticiper ces erreurs et de les g√©rer au mieux."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Attention, certaines erreurs d'interaction peuvent √™tre dues √† une erreur fatale dans un programme avec lequel votre code interagit. C'est le cas quand une requ√™te XHR renvoie une erreur 500. Il faut donc veiller √† ne pas confondre erreurs d'interactions et erreurs fatales. Pour ce faire, il faut bien d√©limiter les erreurs qui sont dues √† votre code."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On pourrait consid√©rer que les erreurs d'utilisation sont des erreurs d'interaction avec l'utilisateur. D'ailleurs, dans l'absolu, l'interaction avec des syst√®me tiers peut aussi induire des entr√©es qui n√©cessitent d'√™tre filtr√©es de la m√™me fa√ßon que les entr√©es utilisateur. Je fais n√©anmoins la diff√©rence ici car la r√©ponse √† ces erreurs sera l√©g√®rement diff√©rente."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"La gestion d'erreur"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#la-gestion-d-erreur","className":"anchored_icon__N5Sem","id":"la-gestion-d-erreur","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"J'imagine que ces types vous √©voquent certaines strat√©gies pour leur gestion. En JavaScript, on compte divers type de gestion d'erreur¬†:"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les exceptions¬†: elles permettent √† une erreur de remonter la pile d'ex√©cution. On peut les attraper √† tout moment √† l'aide d'un bloc "}],["$","code",null,{"className":"code_root__5JLV_","children":"try...catch"}],["$","span","2",{"children":". Si elles ne sont pas attrap√©es, les exceptions finissent par interrompre l'execution de votre JavaScript (plus pr√©cis√©ment de la pile d'ex√©cution JavaScript)."}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les retours d'erreur¬†: il s'agit d'exploiter le retour de fonction pour indiquer qu'une erreur a eu lieu. On peut consid√©rer que si "}],["$","code",null,{"className":"code_root__5JLV_","children":"parseInt"}],["$","span","2",{"children":" retourne "}],["$","code",null,{"className":"code_root__5JLV_","children":"NaN"}],["$","span","4",{"children":" alors on a affaire √† une erreur. Cette approche est tr√®s utilis√©e en C pour les appels syst√®mes."}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"l'approche via une variable globale¬†: tr√®s pr√©sente en C √©galement avec la variable "}],["$","code",null,{"className":"code_root__5JLV_","children":"errno"}],["$","span","2",{"children":". En JavaScript, on √©vite les variables globales, on utilisera donc pas cette approche."}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"l'approche via callback d'erreur¬†: ils sont principalement utilis√©s pour les op√©rations asynchrones, bien que rien n'emp√™che leur utilisation dans du code synchrone. C'est aussi l'approche qui est utilis√©e pour les promises. On passe un callback d'erreur √† la m√©thode then. La diff√©rence est que l'on passe autant de callbacks d'erreur qu'on le souhaite."}]]}]]}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Comment g√©rer chaque type d'erreur¬†?"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#comment-gerer-chaque-type-d-erreur","className":"anchored_icon__N5Sem","id":"comment-gerer-chaque-type-d-erreur","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les erreurs fatales"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#les-erreurs-fatales","className":"anchored_icon__N5Sem","id":"les-erreurs-fatales","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les exceptions sont l'arme ultime pour g√©rer les erreurs fatales. En effet, puisque les erreurs fatales sont des erreurs de programmation, continuer l'ex√©cution du programme est risqu√©. Cela pourrait avoir des r√©percussions d√©sastreuses."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"JavaScript utilise intensivement les exceptions. Les erreurs de syntaxe, les mauvaises utilisations de son API native sont signal√©es dans la grande majorit√© des cas par des exceptions. C'est pourquoi je vous enjoins √† fait de m√™me."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"La plupart du temps, il s'agit de lever une exception si l'une de vos fonctions/l'un de vos constructeurs re√ßoit en param√®tre des arguments erron√©s¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"function repeat(n) {\n  if (n < 0) throw new Error(\"Bad n value.\");\n  //...\n}"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Demander une r√©p√©tition d'une op√©ration avec une nombre n√©gatif de r√©p√©tition n'a pas de sens. Lancer une exception permet d'interrompre l'ex√©cution et de permettre de d√©boguer facilement l'erreur dans le contexte o√π celle-ci est apparue."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"En effet, tous les outils pour d√©veloppeurs permettent de placer un point d'arr√™t √† la lev√©e d'une exception afin de permettre de visualiser les variables √† port√©es, la pile d'ex√©cution et bien d'autres informations tr√®s utiles."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les erreurs d'utilisation"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#les-erreurs-d-utilisation","className":"anchored_icon__N5Sem","id":"les-erreurs-d-utilisation","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les erreurs d'utilisation sont dues √† l'utilisateur. La logique veut donc que l'on traite ces erreurs en signalant celles-cis √† l'utilisateur. C'est donc une r√©ponse par le biais de l'interface utilisateur qui sera privil√©gi√©e."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cependant, pour activer cette r√©ponse, il faut en premier lieu la d√©tecter. Cette d√©tection se fait indiff√©remment par retour de fonction ou par callback d'erreur. D'ailleurs il est tr√®s possible que vous deviez mixer ces deux techniques pour b√¢tir une propagation d'erreur dans la pile d'ex√©cution et annuler certaines actions suite √† une erreur."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'id√©e √† retenir est d'√©viter √† tout prix de g√©rer les erreurs des utilisateurs √† l'aide d'exceptions. En effet, vous prenez le risque de mettre fin √† l'ex√©cution pour une erreur normale dans le cycle de vie d'une application. Les utilisateurs se trompent souvent."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On prendra donc soin de filtrer un entier obtenu gr√¢ce √† une saisie de l'utilisateur avant de l'utiliser comme argument de la fonction "}],["$","code",null,{"className":"code_root__5JLV_","children":"repeat"}],["$","span","2",{"children":" d√©finie ci-dessus."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les erreurs d'interaction"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#les-erreurs-d-interaction","className":"anchored_icon__N5Sem","id":"les-erreurs-d-interaction","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Lorsque votre code interagit avec des √©l√©ments ext√©rieurs, qu'il s'agisse de serveurs distant ou du hardware, le bon sens veut que cela se fasse de mani√®re asynchrone. Les callbacks d'erreur sont donc indiqu√©s pour remplir le job. C'est d'ailleurs de cette fa√ßon que l'API JavaScript vous informe sur le succ√®s ou l'√©chec d'une op√©ration asynchrone."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ce n'est malheureusement pas toujours le cas. Par exemple, une requ√™te XHR synchrone qui √©choue √† cause d'un probl√®me r√©seau lance une exception. Dans ce cas pr√©cis, mieux vaut √™tre au courant afin de placer le bloc "}],["$","code",null,{"className":"code_root__5JLV_","children":"try...catch"}],["$","span","2",{"children":" qui vous permettra de g√©rer ce cas sans mettre en p√©ril l'ex√©cution de votre JavaScript."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Vous vous d√Ætes peut-√™tre qu'il peut arriver qu'une erreur de programmation m√®ne √† la mauvaise utilisation d'une API asynchrone et que dans ce cas, un callback d'erreur sera appel√© pour une erreur fatale. Ce que j'ai totalement contre indiqu√© tout √† l'heure."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour le cas d'une API bien pens√©e, cela ne devrait pas √™tre le cas. Une API asynchrone doit d√©tecter toute mauvaise utilisation et lancer une exception au moment de son lancement. Par exemple, si vous lancez une requ√™te XHR vers une origine diff√©rente de votre site, c'est une erreur de programmation. Une exception doit √™tre lanc√©e imm√©diatement."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'astuce pour √©viter tout effet de bord est de lancer l'op√©ration asynchrone avant d'assigner les callbacks ou √©couteurs d'√©v√®nements. De cette fa√ßon vous √™tes certains que ces derniers ne seront jamais appel√©s en cas de lev√©e d'une exception."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Retour sur les promises"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#retour-sur-les-promises","className":"anchored_icon__N5Sem","id":"retour-sur-les-promises","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Avec cette toile de fond en t√™te, il appara√Æt donc √©vident que les exceptions ne doivent pas √™tre attrap√©es au sein des promises. En effet, au del√† de l'avantage d'une gestion au cas par cas, on voit aussi que cela pourrait compromettre la d√©tection d'une erreur fatale causant la continuation de l'ex√©cution √† partir d'un √©tat non-pr√©vu donc ind√©termin√©."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On pourrait penser √©pargner l'utilisateur d'erreurs fatales qui en d√©finitive mettent fin √† l'ex√©cution, mais au final, on rend les erreurs de programmation plus difficiles √† d√©tecter et les bugs plus sournois."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Il faut comprendre que les erreurs fatales doivent √™tre exceptionnelles. Un programme qui arrive en production doit √™tre d√©nu√© d'erreurs fatales dans l'absolu. Malheureusement, dans le monde r√©el, ces erreurs peuvent survenir en production."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Devons nous laisser les utilisateurs face √† une application qui ne fonctionne plus¬†? S√ªrement pas. L'approche correcte pour g√©rer les erreurs fatales est finalement assez simple. Il suffit d'utiliser un callback d'erreur g√©n√©rique, d'informer l'utilisateur d'une erreur anormale et de red√©marrer l'application. On peut aussi imaginer r√©cup√©rer ces erreurs fatales gr√¢ce √† une requ√™te XHR et de cr√©er directement une issue sur GitHub. Un simple exemple¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"window.onerror = function (msg, url, line) {\n  //demande de d√©tails\n  var details = prompt(\n    \"Une erreur fatale a eu lieu, vous pouvez donner quelques d√©tails pour aider le webmaster¬†:\",\n  );\n  // envoi des d√©tails via XHR puis rafra√Æchissement de la page\n  document.location.refresh();\n};"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ici, j'ai volontairement simplifi√©. Dans la pratique, on placera un timeout pour laisser le temps √† toutes les erreurs cons√©cutives d'√™tre lev√©es avant de demander du feedback et de red√©marrer l'application. On peut aussi donner le temps √† l'utilisateur de r√©cup√©rer certains contenus (un formulaire √† moiti√© rempli, par exemple) avant le rafra√Æchissement."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'avantage de cette approche est qu'on informe l'utilisateur d'un probl√®me plut√¥t que vouloir le lui cacher quitte √† ce que ce dernier provoque un effet papillon plus difficile √† d√©tecter."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Voil√†, j'esp√®re que cet article vous a donn√© envie de g√©rer les erreurs de vos applications. Je vous propose de lire ce billet sur l'"}],["$","$L11",null,{"href":"bugmeback.html","className":"a_root__WEPS7","title":"Voir le billet sur BugMeBack","target":"_self","children":[null,[["$","span","0",{"children":"extension BugMeBack"}]]]}],["$","span","2",{"children":" qui propose une gestion int√©ressante des erreurs pour vos applications."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Petit ajout¬†: J'ai √©crit "}],["$","$L11",null,{"href":"erreurs%5Fjavascript%5Fameliorees.html","className":"a_root__WEPS7","title":"Lire l'article","target":"_self","children":[null,[["$","span","0",{"children":"un autre article sur les erreurs en JS"}]]]}],["$","span","2",{"children":" mais cette fois avec des exemples concrets."}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","mardi 30 juillet 2013 √† 15:18:42","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Commenter et partager"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$L11",null,{"href":"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Ferreurs_javascript","className":"a_root__WEPS7","title":"Commenter sur Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$L11",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Ferreurs_javascript&text=Gestion%20des%20erreurs%20en%20JavaScript&via=nfroidure","className":"a_root__WEPS7","title":"Commenter sur Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$L11",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Me r√©pondre par mail","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Courriel"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Articles similaires"}],["$","p",null,{"className":"p_root__SHE_W","children":["Dans les cat√©gories"," ","JavaScript et Gestion des erreurs","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","choisir_module_nodejs",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//choisir_module_nodejs","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Bien choisir ses modules NodeJS¬†: ma m√©thode"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Hier √† la troisi√®me √©dition de ChtiJS, un question a √©t√© soulev√©e sur la confiance que l'on pouvait avoir dans les modules NodeJS. Je vous d√©voile donc ma m√©thode pour trancher entre npm install et npm remove ;)."," ",["$","br",null,{}],["$","$L11",null,{"href":".//choisir_module_nodejs","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","vendredi 26 juillet 2013 √† 16:04:25","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","utiliser_requirejs",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//utiliser_requirejs","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Astuces pour utiliser pleinement RequireJS"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Pour un projet dont je vous reparlerai bient√¥t, j'ai utilis√© RequireJS pour la premi√®re fois en production. J'en profite pour vous faire un petit retour d'exp√©rience avec quelques astuces de mon cru ;)."," ",["$","br",null,{}],["$","$L11",null,{"href":".//utiliser_requirejs","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","jeudi 11 juillet 2013 √† 11:57:45","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","promises_javascript_ouvrons_capot",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//promises_javascript_ouvrons_capot","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Les promises avec JavaScript¬†: ouvrons le capot¬†!"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Dans le petit monde de JavaScript les promises font l'actualit√©. Je vous propose de comprendre les promises par l'impl√©mentation."," ",["$","br",null,{}],["$","$L11",null,{"href":".//promises_javascript_ouvrons_capot","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","samedi 8 juin 2013 √† 12:04:17","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Gestion des erreurs en JavaScript - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"G√©rer les erreurs en JavaScript peut para√Ætre simple, mais il n'est pas toujours √©vident de choisir entre exceptions, retours d'erreurs et callbacks d'erreurs."}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/fr/blog/erreurs_javascript"}],["$","meta","9",{"property":"og:title","content":"Gestion des erreurs en JavaScript - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"G√©rer les erreurs en JavaScript peut para√Ætre simple, mais il n'est pas toujours √©vident de choisir entre exceptions, retours d'erreurs et callbacks d'erreurs."}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/fr/blog/erreurs_javascript"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"fr_FR"}],["$","meta","14",{"property":"og:image:alt","content":"Banni√®re du site"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Gestion des erreurs en JavaScript - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"G√©rer les erreurs en JavaScript peut para√Ætre simple, mais il n'est pas toujours √©vident de choisir entre exceptions, retours d'erreurs et callbacks d'erreurs."}],["$","meta","22",{"name":"twitter:image:alt","content":"Banni√®re du site"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
