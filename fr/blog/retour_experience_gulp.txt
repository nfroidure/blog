3:I[5613,[],""]
6:I[1778,[],""]
4:["locale","fr","d"]
5:["id","retour_experience_gulp","d"]
8:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
9:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
a:{"display":"inline-block"}
b:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["KvaQf7Occ1_mTQr28YDxi",[[["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":["blog",{"children":[["id","retour_experience_gulp","d"],{"children":["__PAGE__?{\"locale\":\"fr\",\"id\":\"retour_experience_gulp\"}",{}]}]}]},"$undefined","$undefined",true]}]}],["",{"children":["(withLocale)",{"children":[["locale","fr","d"],{"children":["blog",{"children":[["id","retour_experience_gulp","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children","blog","children","$5","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/b3a30849af1e683f.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,"$L7",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/655a273f6fe37552.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$8","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$9","children":"404"}],["$","div",null,{"style":"$a","children":["$","h2",null,{"style":"$b","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]],[null,"$Lc"]]]]
d:"$Sreact.strict_mode"
e:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
f:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js"],""]
7:["$","$d",null,{"children":["$","html",null,{"lang":"fr","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/fr","title":"Retour √† l‚Äôaccueil","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"Logo d‚ÄôInsertAfter"}]}]}]}]}],["$","$Le",null,{"locale":"fr","dictionary":{"home":{"label":"Accueil","title":"Retour √† l‚Äôaccueil"},"blog":{"label":"Blog","title":"Retour √† l‚Äôindex du blog"},"projects":{"label":"Projets","title":"D√©couvrir mes divers projets"},"about":{"label":"√Ä propos","title":"En savoir plus √† mon sujet"}}}],["$","$Lf",null,{"locale":"fr"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(withLocale)","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$L10","notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/09b5c201fbf055fc.css","precedence":"next","crossOrigin":""}]],"styles":null}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Me suivre sur Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Me suivre sur Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Me suivre sur Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"Voir mes projets sur GitHub","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Voir mon compte NPM","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"Voir mon profil LinkedIn","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Me suivre sur Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/fr/blog/index.atom","title":"S‚Äôabonner au flux RSS","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"Flux RSS"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["¬© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
10:["$","section",null,{"className":"contentBlock_root__802UK","children":[["$","h1",null,{"className":"h1_root__VPXQG","children":"Page not found"}],["$","p",null,{"className":"not-found_p__fvcGn","children":[["$","img",null,{"className":"not-found_img__IT2jY","src":"https://media.giphy.com/media/12mPcp41D9a1i0/giphy.gif","alt":"404.png"}],["$","p",null,{"className":"p_root__SHE_W","children":"It seems that the page you look for doesn't exist."}]]}]]}]
11:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","790","static/chunks/790-a194f74901d33197.js","798","static/chunks/app/(withLocale)/%5Blocale%5D/blog/%5Bid%5D/page-8524fb70a93a8de3.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Gulp¬†: Retour d'exp√©rience"}]]}],["$","hr",null,{"className":"hr_root__iMEe9"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"‚ö† Attention: Cet article est ancien et n'est conserv√© que pour des raisons historiques. Gulp n'est plus tr√®s utilis√© de nos jours et je ne conseillerai pas de d√©marrer un projet avec maintenant."}]]}],["$","hr",null,{"className":"hr_root__iMEe9"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Comme promis, Gulp revient √† l'ordre du jour de ce Blog avec un retour d'exp√©rience sur l'utilisation de Gulp et le d√©veloppement de plugins."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Suite √† la "}],["$","$L11",null,{"href":"gulp%5Fvs%5Fgrunt.html","className":"a_root__WEPS7","title":"Voir le billet de blog sur les diff√©rences entre GulpJS et GruntJS","target":"_self","children":[null,[["$","span","0",{"children":"comparaison entre Gulp et Grunt"}]]]}],["$","span","2",{"children":", vous avez peut-√™tre envie d'aller plus loin dans l'utilisation de Gulp. Dans ce billet, je reviendrais sur les fondamentaux de Gulp, les bonnes pratiques et aussi la cr√©ation de plugins."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Installation"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#installation","className":"anchored_icon__N5Sem","id":"installation","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour commencer √† utiliser Gulp, deux petites actions doivent √™tre r√©alis√©es. Premi√®rement, l'installation de Gulp de mani√®re globale¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"npm install -g gulp"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ceci nous permettra de d√©marrer Gulp, quelque soit le dossier dans lequel on se trouve. Ensuite, nous devons installer Gulp localement √† chaque projet pour lequel on souhaite l'utiliser."}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"cd monprojet && npm install gulp --save-dev"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Nous sommes pr√™ts √† commencer √† cr√©er nos t√¢ches Gulp dans le fichier gulpfile.js qui est par convention, le fichier qui doit les contenir¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"touch gulpfile.js && vim gulpfile.js"}]}]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Principe de Gulp"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#principe-de-gulp","className":"anchored_icon__N5Sem","id":"principe-de-gulp","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les t√¢ches"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#les-taches","className":"anchored_icon__N5Sem","id":"les-taches","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Le principe de Gulp est tr√®s simple. Le fichier gulpfile.js contient la d√©claration de t√¢ches. Ces derni√®res sont d√©clar√©es de la mani√®re suivante¬†:"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cette t√¢che est nomm√©e "}],["$","code",null,{"className":"code_root__5JLV_","children":"clean"}],["$","span","2",{"children":" et √©quivaut √† une commande "}],["$","code",null,{"className":"code_root__5JLV_","children":"rm -rf"}],["$","span","4",{"children":" (d'o√π le nom du module). Une fois d√©clar√©e, notre t√¢che pourra √™tre appel√©e √† tout moment depuis la console gr√¢ce √† la commande suivante¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"gulp clean"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Il est aussi possible de l'appeler directement dans une autre t√¢che avec la m√©thode "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.run"}],["$","span","2",{"children":"¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"gulp.run('clean', function() { console.log('Termin√©') };"}]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Cependant, je ne vous conseille pas l'utilisation de cette m√©thode car elle est encore un peu bogu√©e et "}],["$","$L11",null,{"href":"https://github.com/robrich/orchestrator/issues/15","className":"a_root__WEPS7","title":"Voir l'issue concernant ce souci","target":"_blank","children":[null,[["$","span","0",{"children":"ne fonctionne pas comme on pourrait s'y attendre"}]]]}],["$","span","2",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"En r√©alit√©, il est pr√©f√©rable d'utiliser les d√©pendances qui peuvent √™tre d√©clar√©es au niveau de la d√©claration d'une t√¢che comme "}],["$","$L11",null,{"href":"https://github.com/ChtiJS/chtijs.francejs.org/blob/baf3a4d690fa99a5b2e2be7143864f38adda9cef/gulpfile.js#L160","className":"a_root__WEPS7","title":"Voir le gulpfile de ChtiJS","target":"_blank","children":[null,[["$","span","0",{"children":"ici pour le gulpfile de ChtiJS"}]]]}],["$","span","2",{"children":"."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les streams"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#les-streams","className":"anchored_icon__N5Sem","id":"les-streams","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Passons maintenant √† la v√©ritable particularit√© de Gulp. La plupart des t√¢ches dont on a besoin pour un projet sont en r√©alit√© des t√¢ches qui sont appliqu√©es sur un ensemble de fichiers contenus dans une r√©pertoire donn√©."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'id√©e de Gulp est de cr√©er un stream d'objets repr√©sentant chacun de ces fichiers (avec "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.src"}],["$","span","2",{"children":") que l'on pourra modifier au travers de divers plugins. Ces plugins sont en fait des streams d'objets de type "}],["$","code",null,{"className":"code_root__5JLV_","children":"Stream.Transform"}],["$","span","4",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les plugins op√®rent des modifications sur le contenu des fichiers et/ou sur leur propri√©t√©s (chemin, nom de fichier et/ou extension)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"√Ä l'autre bout de la cha√Æne, on peut utiliser "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.dest"}],["$","span","2",{"children":" pour sauvegarder les modifications effectu√©es. Un \"pipeline\" typique avec Gulp donne ceci¬†:"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Il est possible de subordonner un plugin √† une condition particuli√®re avec "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.env"}],["$","span","2",{"children":" et "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp-if"}],["$","span","4",{"children":". Ici, selon la valeur de "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.env.prod"}],["$","span","6",{"children":", on minifie ou non les CSS et on utilise Livereload ou non."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Via la ligne de commande, il nous suffira d'ajouter le param√®tre suivant pour que "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.env.prod"}],["$","span","2",{"children":" soit vrai¬†:"}]]}],["$","div",null,{"className":"code_root__5JLV_","children":["$","code",null,{"children":["$","pre",null,{"children":"gulp css --prod"}]}]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Contenu¬†: Buffer ou streams¬†?"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#contenu-buffer-ou-streams","className":"anchored_icon__N5Sem","id":"contenu-buffer-ou-streams","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Il existe deux modes diff√©rents pour le contenu des fichiers. Le mode buffer comme son nom l'indique traite le contenu du fichier comme un unique buffer (c'est √† dire, une zone contig√ºe de la m√©moire virtuelle, ou encore, un objet contenu dans la zone Heap du processus)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"En mode buffer, la plupart des transformations sur le contenu des fichiers sont r√©alis√©es de mani√®re synchrone et on ne peut pas traiter des fichiers trop volumineux sans une d√©gradation tr√®s importante des performances."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Je ne suis personnellement pas fan du mode buffer, bien qu'il soit activ√© par d√©faut. √Ä vrai dire, pour ma part, j'aurais pr√©f√©r√© que les objets pass√©s aux plugins soient en r√©alit√© directement des streams qui, par convention, auraient une propri√©t√© r√©serv√©e aux m√©ta-donn√©es (chemin, nom de fichier, r√©pertoire courant etc.)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ce qui nous am√®ne au mode stream, celui que j'affectionne le plus. Le contenu des fichiers y est trait√© cette fois de mani√®re plus fluide, par morceaux. L'avantage de ce mode est qu'il est enti√®rement asynchrone. Les donn√©es sont trait√©es au fur et √† mesure des retours des appels syst√®me de lecture et d'√©criture sur le disque."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Gr√¢ce √† la nouvelle API des streams de Node (parfois appel√©e Streams2, dont je parlerais en d√©tail dans un futur billet), les traitements sont ordonnanc√©s selon la disponibilit√© des ressources (concept de backpressure). Ainsi, th√©oriquement, il n'y a aucune limite dans la taille des fichiers trait√©s ou dans leur nombre."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Malheureusement, il y a une certaine incompr√©hension/difficult√© avec l'utilisation des streams. Ainsi, peu de d√©veloppeurs de plugins impl√©mentent le support de ces derniers. De plus, l'utilisation de "}],["$","code",null,{"className":"code_root__5JLV_","children":"event-stream"}],["$","span","2",{"children":" est conseill√©e malgr√© l'utilisation de l'√©v√®nement "}],["$","code",null,{"className":"code_root__5JLV_","children":"data"}],["$","span","4",{"children":" qui dans la nouvelle version de Node n'est pas conseill√©e."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Le choix du mode buffer ou stream se fait au niveau de "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.src"}],["$","span","2",{"children":" ou tout autre plugin devant g√©n√©rer de nouveaux fichiers sans qu'il soit possible de d√©tecter le mode courant. Pour utiliser les streams avec "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp.src"}],["$","span","4",{"children":", il suffit de passer en deuxi√®me param√®tre un objet d'options contenant une propri√©t√© "}],["$","code",null,{"className":"code_root__5JLV_","children":"buffer"}],["$","span","6",{"children":" valant "}],["$","code",null,{"className":"code_root__5JLV_","children":"false"}],["$","span","8",{"children":"."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Quelques plugins utiles"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#quelques-plugins-utiles","className":"anchored_icon__N5Sem","id":"quelques-plugins-utiles","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Voici une petite liste de plugins qui vous seront bien utile¬†:"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","code",null,{"className":"code_root__5JLV_","children":"gulp-if"}],["$","span","1",{"children":"¬†: conditionner l'utilisation d'un plugin"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","code",null,{"className":"code_root__5JLV_","children":"gulp-rename"}],["$","span","1",{"children":"¬†: Permet de renommer les fichier en tout point d'un pipeline de fichier"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","code",null,{"className":"code_root__5JLV_","children":"gulp-stream"}],["$","span","1",{"children":"¬†: Permet de transformer en stream le contenu des fichiers en entr√©e. Pratique quand un plugin accepte les streams en entr√©e, mais retourne un buffer (ce qui est le cas de gulp-browserify, j'ai une "}],["$","$L11",null,{"href":"https://github.com/deepak1556/gulp-browserify/pull/10","className":"a_root__WEPS7","title":"Voir la PR","target":"_blank","children":[null,[["$","span","0",{"children":"PR en attente"}]]]}],["$","span","3",{"children":" √† ce sujet)."}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","code",null,{"className":"code_root__5JLV_","children":"gulp-streamify"}],["$","span","1",{"children":"¬†: Un plugin que j'ai cr√©√© pour wrapper un plugin qui ne supporte pas les streams afin qu'il ne casse pas le pipeline et que le mode stream soit donc quand m√™me utilisable."}]]}]]}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Cr√©er un plug-in Gulp"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#creer-un-plug-in-gulp","className":"anchored_icon__N5Sem","id":"creer-un-plug-in-gulp","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"√âtant donn√© le faible nombre de plugins Gulp, il est fort probable que vous souhaitiez en cr√©er un. Voici donc quelques conseils que je vais illustrer avec le code de "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp-cat"}],["$","span","2",{"children":" et "}],["$","code",null,{"className":"code_root__5JLV_","children":"gulp-svg2ttf"}],["$","span","4",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Tout d'abord, un plugin est un "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L7","className":"a_root__WEPS7","title":"Voir la ligne concern√©e","target":"_blank","children":[null,[["$","span","0",{"children":"module NPM qui exporte une fonction"}]]]}],["$","span","2",{"children":" qui "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L27","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"retourne"}]]]}],["$","span","4",{"children":" un "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L8","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"stream d'objets"}]]]}],["$","span","6",{"children":". Id√©alement, cette fonction "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L32","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"doit √™tre nomm√©e"}]]]}],["$","span","8",{"children":" pour faciliter le d√©bogage."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Selon moi, il tr√®s important d'h√©riter des interface "}],["$","code",null,{"className":"code_root__5JLV_","children":"Stream.*"}],["$","span","2",{"children":" de NodeJS plut√¥t que d'utiliser des modules comme "}],["$","code",null,{"className":"code_root__5JLV_","children":"event-stream"}],["$","span","4",{"children":" ou "}],["$","code",null,{"className":"code_root__5JLV_","children":"event-map"}],["$","span","6",{"children":". C'est certes, un peu plus verbeux, mais ces interfaces ont √©t√© pens√©es pour conserver les b√©n√©fices de l'usage des streams. La plupart du temps, vous utiliserez une instance de l'interface "}],["$","code",null,{"className":"code_root__5JLV_","children":"Stream.Transform"}],["$","span","8",{"children":" qui doit √™tre augment√©e d'une "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L40","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"m√©thode _transform"}]]]}],["$","span","10",{"children":" qui comme son nom l'indique g√®re la transformation du contenu du stream (ici, les fichiers) et d'une m√©thode "}],["$","code",null,{"className":"code_root__5JLV_","children":"_flush"}],["$","span","12",{"children":", optionnelle, dans le cas o√π vous souhaiteriez faire une action particuli√®re √† la fin du flux d'objets."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Au sein de la m√©thode de transformation des fichiers, dans la plupart des cas, les fichier dont le contenu est nul "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L42","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"seront ignor√©s"}]]]}],["$","span","2",{"children":". Puis, selon que le contenu du fichier est "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L60","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"un buffer"}]]]}],["$","span","4",{"children":" ou "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L68","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"un stream"}]]]}],["$","span","6",{"children":", on "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L62","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"modifiera le buffer"}]]]}],["$","span","8",{"children":" ou, on "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L70","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"pipera le stream dans un nouveau stream de transformation"}]]]}],["$","span","10",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si l'on souhaite uniquement lire les donn√©es, pour le buffer, il suffit d'acc√©der √† la "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L18","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"propri√©t√© contents"}]]]}],["$","span","2",{"children":" pour en lire le contenu. Pour un stream, il faudra "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L20","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"le d√©doubler"}]]]}],["$","span","4",{"children":" via une instance de "}],["$","code",null,{"className":"code_root__5JLV_","children":"Stream.PassThrough"}],["$","span","6",{"children":" afin de garantir aux autre plugins un acc√®s √† toute les donn√©es du stream."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, une fois le buffer transform√© ou le stream du contenu du fichier \"pip√©\", on "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L24","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"passe l'objet repr√©sentant le fichier"}]]]}],["$","span","2",{"children":" au plugin suivant et on "}],["$","$L11",null,{"href":"https://github.com/ben-eb/gulp-cat/blob/6479a502f42f76e8378ce3bd5c2b2165990f2b8b/index.js#L25","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"appelle le callback"}]]]}],["$","span","4",{"children":" re√ßu en argument de la m√©thode "}],["$","code",null,{"className":"code_root__5JLV_","children":"_transform"}],["$","span","6",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si durant ce processus, vous ne traitez que les fichiers d'un genre particulier, il peut-√™tre utile de "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L48","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"tester l'extension du fichier"}]]]}],["$","span","2",{"children":" et de passer directement au plugin suivant tout fichier ne correspondant pas aux crit√®res souhait√©s."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"De la m√™me fa√ßon, une option permettant de "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L53","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"cloner les fichiers"}]]]}],["$","span","2",{"children":" avant de les transformer peut √™tre tr√®s utile pour "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-iconfont/commit/58f0f61c1a829eb316759b5bf26a3423e8795404","className":"a_root__WEPS7","title":"Voir un commit illustrant cette facilit√© d'usage","target":"_blank","children":[null,[["$","span","0",{"children":"faciliter l'usage d'un plugin"}]]]}],["$","span","4",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Bien-s√ªr, si une transformation d'un fichier, implique le changement de type de ce dernier, il est de votre responsabilit√© de "}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L57","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"changer l'extension de ce dernier"}]]]}],["$","span","2",{"children":"."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, toute erreur doit √™tre signal√©e par l'"}],["$","$L11",null,{"href":"https://github.com/nfroidure/gulp-svg2ttf/blob/bc06b3dd0a91f6442a64256105dfed37e9c9a327/src/index.js#L64","className":"a_root__WEPS7","title":"Voir la ligne","target":"_blank","children":[null,[["$","span","0",{"children":"√©mission d'un √©v√®nement"}]]]}],["$","span","2",{"children":"."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Supportez les streams¬†!"}]]," ",["$","small",null,{"children":["$","$L11",null,{"href":"#supportez-les-streams","className":"anchored_icon__N5Sem","id":"supportez-les-streams","title":"Lien vers cette section","children":["$","span",null,{"children":"üîó"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Bien-s√ªr, cr√©er une API streamable n'est pas la solution de facilit√©. Mais je vous encourage grandement √† le faire. Qui peut le plus, peut le moins. J'ai bien √©cris trois fois cette maxime sur ce blog, mais en la mati√®re mieux vaut trop que pas assez."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si vous pensez que votre API ne peut pas utiliser les streams, je vous enjoint √† regarder le code de Browserify. Si ils ont r√©ussi √† tirer parti des streams pour un module aussi complexe, il y a fort √† parier que votre format XML peut le faire √©galement."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si cependant, vous n'avez pas la main sur la biblioth√®que wrapp√©e par votre plugin, utilisez "}],["$","$L11",null,{"href":"https://npmjs.org/package/bufferstreams","className":"a_root__WEPS7","title":"Voir le module","target":"_blank","children":[null,[["$","span","0",{"children":"BufferStreams"}]]]}],["$","span","2",{"children":" en attendant et cr√©er une issue, ou mieux, fa√Ætes une PR¬†!"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Voil√†, c'est tout pour aujourd'hui¬†! Vos retours ou questions sont les bienvenues¬†:)."}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","dimanche 26 janvier 2014 √† 09:01:26","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Commenter et partager"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$L11",null,{"href":"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fretour_experience_gulp","className":"a_root__WEPS7","title":"Commenter sur Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$L11",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fretour_experience_gulp&text=Gulp%C2%A0%3A%20Retour%20d'exp%C3%A9rience&via=nfroidure","className":"a_root__WEPS7","title":"Commenter sur Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$L11",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Me r√©pondre par mail","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Courriel"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Articles similaires"}],["$","p",null,{"className":"p_root__SHE_W","children":["Dans les cat√©gories"," ","NodeJS, JavaScript et Gulp","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","gulp_vs_grunt",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//gulp_vs_grunt","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Gulp remplacera-t-il Grunt¬†?"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Gulp est un concurrent de Grunt qui se targue d'exploiter les capacit√©s des streams NodeJS. Petit passage en revue de cet outil."," ",["$","br",null,{}],["$","$L11",null,{"href":".//gulp_vs_grunt","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","lundi 23 d√©cembre 2013 √† 23:25:29","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","browserify",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//browserify","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Browserify¬†: Partager le code JavaScript entre front et back end"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Ex√©cuter du JavaScript aussi bien c√¥t√© serveur que dans le navigateur de vos clients devient possible gr√¢ce √† Browserify."," ",["$","br",null,{}],["$","$L11",null,{"href":".//browserify","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","lundi 16 d√©cembre 2013 √† 13:23:52","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","gruntjs_font_icons",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$L11",null,{"href":".//gruntjs_font_icons","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"G√©n√©rer des fontes d'ic√¥nes avec GruntJS"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Cette semaine, je me suis pench√© sur la g√©n√©ration de fontes automatiquement avec GruntJS. Compte rendu de mes d√©couvertes et des d√©veloppements qui les ont suivies."," ",["$","br",null,{}],["$","$L11",null,{"href":".//gruntjs_font_icons","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","samedi 9 novembre 2013 √† 15:25:29","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Gulp¬†: Retour d'exp√©rience - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"Comme promis, Gulp revient √† l'ordre du jour de ce Blog avec un retour d'exp√©rience sur l'utilisation de Gulp et le d√©veloppement de plugins."}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/fr/blog/retour_experience_gulp"}],["$","meta","9",{"property":"og:title","content":"Gulp¬†: Retour d'exp√©rience - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"Comme promis, Gulp revient √† l'ordre du jour de ce Blog avec un retour d'exp√©rience sur l'utilisation de Gulp et le d√©veloppement de plugins."}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/fr/blog/retour_experience_gulp"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"fr_FR"}],["$","meta","14",{"property":"og:image:alt","content":"Banni√®re du site"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Gulp¬†: Retour d'exp√©rience - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"Comme promis, Gulp revient √† l'ordre du jour de ce Blog avec un retour d'exp√©rience sur l'utilisation de Gulp et le d√©veloppement de plugins."}],["$","meta","22",{"name":"twitter:image:alt","content":"Banni√®re du site"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
