<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo.svg"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/655a273f6fe37552.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/bd3e0138d7b84072.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://insertafter.com/_next/static/chunks/webpack-0fb79efa18faaf55.js" crossorigin=""/><script src="https://insertafter.com/_next/static/chunks/fd9d1056-5bc70f044f3cb802.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/938-bf741a2eb8fd4828.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/main-app-2e6280b5273157a5.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/176-0a03be62efe5672b.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/876-4c07c683293830f5.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withoutLocale)/%5Blocale%5D/page-0e78a7ab96f67f67.js" async=""></script><meta name="theme-color" content="#3e78b2"/><title>Match IE8 With Rework And Gulp! - Nicolas Froidure</title><meta name="description" content="Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let&#x27;s improve you IE8 compatibility with it."/><link rel="author" href="https://insertafter.com"/><meta name="author" content="Nicolas Froidure"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://insertafter.com/en/blog/match_ie8_with_gulp_and_rework"/><meta property="og:title" content="Match IE8 With Rework And Gulp! - Nicolas Froidure"/><meta property="og:description" content="Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let&#x27;s improve you IE8 compatibility with it."/><meta property="og:url" content="https://insertafter.com/en/blog/match_ie8_with_gulp_and_rework"/><meta property="og:site_name" content="Nicolas Froidure"/><meta property="og:locale" content="en_US"/><meta property="og:image:alt" content="Website banner"/><meta property="og:image" content="https://insertafter.com/images/banner.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@nfroidure"/><meta name="twitter:creator" content="@nfroidure"/><meta name="twitter:title" content="Match IE8 With Rework And Gulp! - Nicolas Froidure"/><meta name="twitter:description" content="Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let&#x27;s improve you IE8 compatibility with it."/><meta name="twitter:image:alt" content="Website banner"/><meta name="twitter:image" content="https://insertafter.com/images/banner.png"/><link rel="icon" href="/images/favicon.svg" type="image/svg+xml" sizes="any"/><link rel="icon" href="/images/favicon-16.png" type="image/png" sizes="16x16"/><link rel="icon" href="/images/favicon-128.png" type="image/png" sizes="128x128"/><script src="https://insertafter.com/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="layout_body__jFZuu"><header class="header_iaHeader__4vCMA"><div><h1><a href="/en" title="Go back to home page" class="header_iaHeaderLogo__0uNr1"><img src="/images/logo.svg" alt="InsertAfter&#x27;s Logo"/></a></h1></div></header><nav class="menu_iaMenu__B_rtj"><ul class="menu_iaMenuBody__0Zveq"><li class="menu_iaMenuItem__rOch4"><a href="/en" title="Go back to home page" class="">Home</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/blog" title="Read my blog posts" class="">Blog</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/projects" title="Discover my projects" class="">Projects</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/about" title="Read more about me" class="">About me</a></li></ul></nav><nav class="languages_iaLanguages__K2J3W"><ul><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagEn__angfJ"><a href="/en"><span>en</span></a></li><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagFr__Us5Jb languages_selected__w1dKv"><a href="/fr"><span>fr</span></a></li></ul></nav><main class="layout_iaMain__6s2gl"><div><section class="contentBlock_root__802UK"><h1 class="h1_root__VPXQG"><span>Match IE8 With Rework And Gulp!</span></h1><hr class="hr_root__iMEe9"/><p class="p_root__SHE_W"><strong class="strong_root__kOzFq"><span>Retrospective note:</span></strong></p><p class="p_root__SHE_W"><span>This article is outdated and here for historical reasons, do not use the tools or approach it describes currently.</span></p><hr class="hr_root__iMEe9"/><p class="p_root__SHE_W"><span>Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let&#x27;s improve you IE8 compatibility with it.</span></p><p class="p_root__SHE_W"><span>I discovered </span><a class="a_root__WEPS7" title="Visit the rework repository" target="_blank" href="https://github.com/reworkcss/rework"><span>Rework</span></a><span> recently thanks to the </span><a class="a_root__WEPS7" title="Read his blog post" target="_blank" href="http://nicolasgallagher.com/custom-css-preprocessing/"><span>Nicolas Gallagher recent blog post</span></a><span>. It made me think about the recent ChtiJS build migration from Grunt to Gulp. One thing I did with our Grunt build was to </span><a class="a_root__WEPS7" title="See the concerned code" target="_blank" href="https://github.com/ChtiJS/chtijs.francejs.org/blob/223ba7bbce89d46ed08dd329dcf520ce92f812d1/grunt-config/website%5Fbuild/build%5Ffront-tasks.js#L3"><span>create a IE8 specific CSS file</span></a><span> by removing each rem units and replacing them with px units. It worked well but wasn&#x27;t perfect since it didn&#x27;t took in count the CSS syntax and could have lead to bugs for complex stylesheets.</span></p><p class="p_root__SHE_W"><span>On the other hand, give up rem units just for IE8 support is a bad idea. The rem unit system is really </span><a class="a_root__WEPS7" title="Look at this excellent article on font sizing with rem" target="_blank" href="http://snook.ca/archives/html%5Fand%5Fcss/font-size-with-rem"><span>powerful</span></a><span> when you want to size your contents. It gives you the em advantages without the well know nested em problems.</span></p><p class="p_root__SHE_W"><span>So I decided to create a Rework plugin in order to reproduce this behavior more safely. I called it </span><a class="a_root__WEPS7" title="See the public repository" target="_blank" href="https://github.com/nfroidure/rework-rem2px"><span>rework-rem2px</span></a><span> and you can already find it on NPM. It works well, but the IE specific stylesheet were still containing some extra code, especially media queries that old IE version doesn&#x27;t understand.</span></p><p class="p_root__SHE_W"><span>Thanks to the community, something already exists. </span><a class="a_root__WEPS7" title="See the queryless repository" target="_blank" href="https://github.com/iamdustan/queryless"><span>css-queryless</span></a><span> remove media queries from a CSS file and also allows you to specify some expressions for wich you want to keep the media queries content in place that matches.</span></p><p class="p_root__SHE_W"><span>Ended up with this </span><a class="a_root__WEPS7" title="Look at the ChtiJS gulp build" target="_blank" href="https://github.com/ChtiJS/chtijs.francejs.org/blob/09c02aa9ab71fd324c61f917b907aafb706398ff/gulpfile.js#L127"><span>Gulp task</span></a><span>:</span></p><div class="code_root__5JLV_"><code><pre>// CSS
gulp.task(&quot;build_styles&quot;, function (cb) {
  var keepmatches = [&quot;screen and (min-width: 61rem)&quot;, &quot;print&quot;];

  gulp
    .src(conf.src.less + &quot;/main.less&quot;)
    .pipe(g.less())
    .pipe(g.autoprefixer())
    .pipe(gulp.dest(conf.build.css))
    .pipe(g.rework(queryless(keepmatches), rem2px(16)))
    .pipe(
      g.rename({
        suffix: &quot;-ie&quot;,
      }),
    )
    .pipe(gulp.dest(conf.build.css))
    .once(&quot;end&quot;, cb);
});</pre></code></div><p class="p_root__SHE_W"><span>Let me know you own tips to write modern CSS that work on IE8!</span></p><p class="p_root__SHE_W">Published at<!-- --> <!-- -->samedi 15 mars 2014 à 16:05:01<!-- -->.</p></section><section class="contentBlock_root__802UK"><aside class="share_root__Qm_RR"><h2 class="h2_root__Y02lX">Comment and share</h2><p class="p_root__SHE_W"><a class="a_root__WEPS7" title="Comment on Facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fmatch_ie8_with_gulp_and_rework"><span class="share_icon__bi4Q3 share_facebook__JKn8d"></span>Facebook</a> - <a class="a_root__WEPS7" title="Comment on Twitter" target="_blank" href="https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fmatch_ie8_with_gulp_and_rework&amp;text=Match%20IE8%20With%20Rework%20And%20Gulp!&amp;via=nfroidure"><span class="share_icon__bi4Q3 "></span>Twitter</a> - <a class="a_root__WEPS7" title="Answer via email" target="_self" href="mailto:nicolas.froidure@gmail.com"><span class="share_icon__bi4Q3 share_mail__yvBDK"></span>Email</a></p></aside></section><section class="contentBlock_root__802UK"></section></div></main><aside class="social_iaSocial__kdR1x"><nav><ul><li><a href="https://mastodon.social/@nfroidure" rel="me" title="Follow me on Mastodon" class="social_iaSocialMastodon__MTF6o"><span>Mastodon</span></a></li><li><a href="https://bsky.app/profile/nfroidure.bsky.social" rel="me" title="Follow me on Bluesky" class="social_iaSocialBluesky__fKW6M"><span>Bluesky</span></a></li><li><a href="https://twitter.com/nfroidure" title="Follow me on Twitter" class="social_iaSocialTwitter__9nU6R"><span>Twitter</span></a></li><li><a href="https://github.com/nfroidure" title="See my GitHub projects" class="social_iaSocialGithub__vcU5_"><span>GitHub</span></a></li><li><a href="https://www.npmjs.org/~nfroidure" title="Check my NPM modules" class="social_iaSocialNpm__6nku5"><span>NPM</span></a></li><li><a href="https://www.linkedin.com/in/nfroidure/" rel="me" title="See my LinkedIn profile" class="social_iaSocialLinkedin__pWACO"><span>LinkedIn</span></a></li><li><a href="https://facebook.com/nicolas.froidure.douai" rel="me" title="Follow me on Facebook" class="social_iaSocialFacebook__w4wfH"><span>Facebook</span></a></li><li><a href="/en/blog/index.atom" title="Subscribe to my RSS feed" class="social_iaSocialFeed__gEQQ0"><span>RSS Feed</span></a></li></ul></nav></aside><footer class="footer_iaFooter__rhlnQ"><p class="footer_iaFooterContent__VZndF">© Nicolas Froidure 2012-<!-- -->2024</p></footer><script src="https://insertafter.com/_next/static/chunks/webpack-0fb79efa18faaf55.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"0:\"$L1\"\n"])</script><script>self.__next_f.push([1,"2:HL[\"https://insertafter.com/_next/static/css/655a273f6fe37552.css\",\"style\",{\"crossOrigin\":\"\"}]\n3:HL[\"https://insertafter.com/_next/static/css/bd3e0138d7b84072.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\nc:I[8955,[],\"\"]\n8:[\"locale\",\"blog-match_ie8_with_gulp_and_rework\",\"d\"]\n"])</script><script>self.__next_f.push([1,"1:[null,[\"$\",\"$L4\",null,{\"buildId\":\"TAeA64I6nSlHSqkZiZ8iQ\",\"assetPrefix\":\"https://insertafter.com\",\"initialCanonicalUrl\":\"/blog-match_ie8_with_gulp_and_rework\",\"initialTree\":[\"\",{\"children\":[\"(withoutLocale)\",{\"children\":[[\"locale\",\"blog-match_ie8_with_gulp_and_rework\",\"d\"],{\"children\":[\"__PAGE__?{\\\"locale\\\":\\\"blog-match_ie8_with_gulp_and_rework\\\"}\",{}]}]},\"$undefined\",\"$undefined\",true]}],\"initialSeedData\":[\"\",{\"children\":[\"(withoutLocale)\",{\"children\":[[\"locale\",\"blog-match_ie8_with_gulp_and_rework\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withoutLocale)\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/bd3e0138d7b84072.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,\"$La\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/655a273f6fe37552.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]],\"initialHead\":[false,\"$Lb\"],\"globalErrorComponent\":\"$c\"}]]\n"])</script><script>self.__next_f.push([1,"d:\"$Sreact.strict_mode\"\ne:I[4630,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"960\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js\"],\"\"]\nf:I[4341,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"960\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js\"],\"\"]\n10:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems"])</script><script>self.__next_f.push([1,"\":\"center\",\"justifyContent\":\"center\"}\n11:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\n12:{\"display\":\"inline-block\"}\n13:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"$d\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_body__jFZuu\",\"children\":[null,[\"$\",\"header\",null,{\"className\":\"header_iaHeader__4vCMA\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/en\",\"title\":\"Go back to home page\",\"className\":\"header_iaHeaderLogo__0uNr1\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/logo.svg\",\"alt\":\"InsertAfter's Logo\"}]}]}]}]}],[\"$\",\"$Le\",null,{\"locale\":\"en\",\"dictionary\":{\"home\":{\"label\":\"Home\",\"title\":\"Go back to home page\"},\"blog\":{\"label\":\"Blog\",\"title\":\"Read my blog posts\"},\"projects\":{\"label\":\"Projects\",\"title\":\"Discover my projects\"},\"about\":{\"label\":\"About me\",\"title\":\"Read more about me\"}}}],[\"$\",\"$Lf\",null,{\"locale\":\"en\"}],[\"$\",\"main\",null,{\"className\":\"layout_iaMain__6s2gl\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withoutLocale)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$10\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$11\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$12\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$13\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"aside\",null,{\"className\":\"social_iaSocial__kdR1x\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@nfroidure\",\"rel\":\"me\",\"title\":\"Follow me on Mastodon\",\"className\":\"social_iaSocialMastodon__MTF6o\",\"children\":[\"$\",\"span\",null,{\"children\":\"Mastodon\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://bsky.app/profile/nfroidure.bsky.social\",\"rel\":\"me\",\"title\":\"Follow me on Bluesky\",\"className\":\"social_iaSocialBluesky__fKW6M\",\"children\":[\"$\",\"span\",null,{\"children\":\"Bluesky\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://twitter.com/nfroidure\",\"title\":\"Follow me on Twitter\",\"className\":\"social_iaSocialTwitter__9nU6R\",\"children\":[\"$\",\"span\",null,{\"children\":\"Twitter\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/nfroidure\",\"title\":\"See my GitHub projects\",\"className\":\"social_iaSocialGithub__vcU5_\",\"children\":[\"$\",\"span\",null,{\"children\":\"GitHub\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.org/~nfroidure\",\"title\":\"Check my NPM modules\",\"className\":\"social_iaSocialNpm__6nku5\",\"children\":[\"$\",\"span\",null,{\"children\":\"NPM\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/nfroidure/\",\"rel\":\"me\",\"title\":\"See my LinkedIn profile\",\"className\":\"social_iaSocialLinkedin__pWACO\",\"children\":[\"$\",\"span\",null,{\"children\":\"LinkedIn\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://facebook.com/nicolas.froidure.douai\",\"rel\":\"me\",\"title\":\"Follow me on Facebook\",\"className\":\"social_iaSocialFacebook__w4wfH\",\"children\":[\"$\",\"span\",null,{\"children\":\"Facebook\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/en/blog/index.atom\",\"title\":\"Subscribe to my RSS feed\",\"className\":\"social_iaSocialFeed__gEQQ0\",\"children\":[\"$\",\"span\",null,{\"children\":\"RSS Feed\"}]}]}]]}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_iaFooter__rhlnQ\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_iaFooterContent__VZndF\",\"children\":[\"© Nicolas Froidure 2012-\",2024]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"14:I[5250,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"876\",\"static/chunks/876-4c07c683293830f5.js\",\"770\",\"static/chunks/app/(withoutLocale)/%5Blocale%5D/page-0e78a7ab96f67f67.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[[\"$\",\"h1\",null,{\"className\":\"h1_root__VPXQG\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Match IE8 With Rework And Gulp!\"}]]}],[\"$\",\"hr\",null,{\"className\":\"hr_root__iMEe9\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"strong_root__kOzFq\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Retrospective note:\"}]]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"This article is outdated and here for historical reasons, do not use the tools or approach it describes currently.\"}]]}],[\"$\",\"hr\",null,{\"className\":\"hr_root__iMEe9\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let's improve you IE8 compatibility with it.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I discovered \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/reworkcss/rework\",\"className\":\"a_root__WEPS7\",\"title\":\"Visit the rework repository\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Rework\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" recently thanks to the \"}],[\"$\",\"$L14\",null,{\"href\":\"http://nicolasgallagher.com/custom-css-preprocessing/\",\"className\":\"a_root__WEPS7\",\"title\":\"Read his blog post\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Nicolas Gallagher recent blog post\"}]]]}],[\"$\",\"span\",\"4\",{\"children\":\". It made me think about the recent ChtiJS build migration from Grunt to Gulp. One thing I did with our Grunt build was to \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/ChtiJS/chtijs.francejs.org/blob/223ba7bbce89d46ed08dd329dcf520ce92f812d1/grunt-config/website%5Fbuild/build%5Ffront-tasks.js#L3\",\"className\":\"a_root__WEPS7\",\"title\":\"See the concerned code\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"create a IE8 specific CSS file\"}]]]}],[\"$\",\"span\",\"6\",{\"children\":\" by removing each rem units and replacing them with px units. It worked well but wasn't perfect since it didn't took in count the CSS syntax and could have lead to bugs for complex stylesheets.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"On the other hand, give up rem units just for IE8 support is a bad idea. The rem unit system is really \"}],[\"$\",\"$L14\",null,{\"href\":\"http://snook.ca/archives/html%5Fand%5Fcss/font-size-with-rem\",\"className\":\"a_root__WEPS7\",\"title\":\"Look at this excellent article on font sizing with rem\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"powerful\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" when you want to size your contents. It gives you the em advantages without the well know nested em problems.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"So I decided to create a Rework plugin in order to reproduce this behavior more safely. I called it \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/nfroidure/rework-rem2px\",\"className\":\"a_root__WEPS7\",\"title\":\"See the public repository\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"rework-rem2px\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" and you can already find it on NPM. It works well, but the IE specific stylesheet were still containing some extra code, especially media queries that old IE version doesn't understand.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Thanks to the community, something already exists. \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/iamdustan/queryless\",\"className\":\"a_root__WEPS7\",\"title\":\"See the queryless repository\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"css-queryless\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" remove media queries from a CSS file and also allows you to specify some expressions for wich you want to keep the media queries content in place that matches.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Ended up with this \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/ChtiJS/chtijs.francejs.org/blob/09c02aa9ab71fd324c61f917b907aafb706398ff/gulpfile.js#L127\",\"className\":\"a_root__WEPS7\",\"title\":\"Look at the ChtiJS gulp build\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Gulp task\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\":\"}]]}],[\"$\",\"div\",null,{\"className\":\"code_root__5JLV_\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"pre\",null,{\"children\":\"// CSS\\ngulp.task(\\\"build_styles\\\", function (cb) {\\n  var keepmatches = [\\\"screen and (min-width: 61rem)\\\", \\\"print\\\"];\\n\\n  gulp\\n    .src(conf.src.less + \\\"/main.less\\\")\\n    .pipe(g.less())\\n    .pipe(g.autoprefixer())\\n    .pipe(gulp.dest(conf.build.css))\\n    .pipe(g.rework(queryless(keepmatches), rem2px(16)))\\n    .pipe(\\n      g.rename({\\n        suffix: \\\"-ie\\\",\\n      }),\\n    )\\n    .pipe(gulp.dest(conf.build.css))\\n    .once(\\\"end\\\", cb);\\n});\"}]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Let me know you own tips to write modern CSS that work on IE8!\"}]]}]],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Published at\",\" \",\"samedi 15 mars 2014 à 16:05:01\",\".\"]}]]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"share_root__Qm_RR\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Comment and share\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L14\",null,{\"href\":\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fmatch_ie8_with_gulp_and_rework\",\"className\":\"a_root__WEPS7\",\"title\":\"Comment on Facebook\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_facebook__JKn8d\"}],\"Facebook\"]]}],\" - \",[\"$\",\"$L14\",null,{\"href\":\"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fmatch_ie8_with_gulp_and_rework\u0026text=Match%20IE8%20With%20Rework%20And%20Gulp!\u0026via=nfroidure\",\"className\":\"a_root__WEPS7\",\"title\":\"Comment on Twitter\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 \"}],\"Twitter\"]]}],\" - \",[\"$\",\"$L14\",null,{\"href\":\"mailto:nicolas.froidure@gmail.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Answer via email\",\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_mail__yvBDK\"}],\"Email\"]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":null}]]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"content\":\"#3e78b2\"}],[\"$\",\"meta\",\"2\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"3\",{\"children\":\"Match IE8 With Rework And Gulp! - Nicolas Froidure\"}],[\"$\",\"meta\",\"4\",{\"name\":\"description\",\"content\":\"Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let's improve you IE8 compatibility with it.\"}],[\"$\",\"link\",\"5\",{\"rel\":\"author\",\"href\":\"https://insertafter.com\"}],[\"$\",\"meta\",\"6\",{\"name\":\"author\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"8\",{\"rel\":\"canonical\",\"href\":\"https://insertafter.com/en/blog/match_ie8_with_gulp_and_rework\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Match IE8 With Rework And Gulp! - Nicolas Froidure\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let's improve you IE8 compatibility with it.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://insertafter.com/en/blog/match_ie8_with_gulp_and_rework\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:alt\",\"content\":\"Website banner\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:site\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:creator\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:title\",\"content\":\"Match IE8 With Rework And Gulp! - Nicolas Froidure\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:description\",\"content\":\"Rework is a very powerful tool. It allows working with CSS contents in a friendly manner. Let's improve you IE8 compatibility with it.\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:alt\",\"content\":\"Website banner\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/images/favicon.svg\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/images/favicon-16.png\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"26\",{\"rel\":\"icon\",\"href\":\"/images/favicon-128.png\",\"type\":\"image/png\",\"sizes\":\"128x128\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>