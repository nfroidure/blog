<!DOCTYPE html><html lang="articles-accelerometre_casse_briques"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo.svg"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/82572465af7cf95c.css" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/9a850f764b370999.css" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://insertafter.com/_next/static/chunks/webpack-0cf58a546aefb656.js"/><script src="https://insertafter.com/_next/static/chunks/4bd1b696-9839e50bf4426210.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/684-1da9a03c34d82cdf.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/main-app-da17a98a2bb76af6.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/874-f855e4232fadb1a1.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withRedirects)/%5Blocale%5D/layout-b1f0ddb92ec3d214.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/96-3883dbab65ddc99f.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withRedirects)/%5Blocale%5D/page-00d946cd9e61b4bf.js" async=""></script><meta name="theme-color" content="#3e78b2"/><title>Utilisation de l&#x27;accéléromètre dans le Casse Brique - Nicolas Froidure</title><meta name="description" content="HTML5 expose via l&#x27;API accelerometer des information sur l&#x27;inclinaison de l&#x27;appareil en fonction des trois axes de l&#x27;espace, utilisons les pour notre Casse brique."/><link rel="author" href="https://insertafter.com"/><meta name="author" content="Nicolas Froidure"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://insertafter.com/fr/blog/accelerometre_casse_briques"/><meta property="og:title" content="Utilisation de l&#x27;accéléromètre dans le Casse Brique - Nicolas Froidure"/><meta property="og:description" content="HTML5 expose via l&#x27;API accelerometer des information sur l&#x27;inclinaison de l&#x27;appareil en fonction des trois axes de l&#x27;espace, utilisons les pour notre Casse brique."/><meta property="og:url" content="https://insertafter.com/fr/blog/accelerometre_casse_briques"/><meta property="og:site_name" content="Nicolas Froidure"/><meta property="og:locale" content="fr_FR"/><meta property="og:image:alt" content="Bannière du site"/><meta property="og:image" content="https://insertafter.com/images/banner.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Utilisation de l&#x27;accéléromètre dans le Casse Brique - Nicolas Froidure"/><meta name="twitter:description" content="HTML5 expose via l&#x27;API accelerometer des information sur l&#x27;inclinaison de l&#x27;appareil en fonction des trois axes de l&#x27;espace, utilisons les pour notre Casse brique."/><meta name="twitter:image:alt" content="Bannière du site"/><meta name="twitter:image" content="https://insertafter.com/images/banner.png"/><link rel="icon" href="/images/favicon.svg" type="image/svg+xml" sizes="any"/><link rel="icon" href="/images/favicon-16.png" type="image/png" sizes="16x16"/><link rel="icon" href="/images/favicon-128.png" type="image/png" sizes="128x128"/><script src="https://insertafter.com/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="layout_body__jFZuu"><header class="header_iaHeader__4vCMA"><div><h1><a href="/articles-accelerometre_casse_briques" title="Go back to home page" class="header_iaHeaderLogo__0uNr1"><img src="/images/logo.svg" alt="InsertAfter&#x27;s Logo"/></a></h1></div></header><nav class="menu_iaMenu__B_rtj"><ul class="menu_iaMenuBody__0Zveq"><li class="menu_iaMenuItem__rOch4"><a href="/articles-accelerometre_casse_briquesundefined" title="Go back to home page" class="">Home</a></li><li class="menu_iaMenuItem__rOch4"><a href="/articles-accelerometre_casse_briquesundefined" title="Read my blog posts" class="">Blog</a></li><li class="menu_iaMenuItem__rOch4"><a href="/articles-accelerometre_casse_briquesundefined" title="Discover my projects" class="">Projects</a></li><li class="menu_iaMenuItem__rOch4"><a href="/articles-accelerometre_casse_briquesundefined" title="Read more about me" class="">About me</a></li></ul></nav><nav class="languages_iaLanguages__K2J3W"><ul><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagEn__angfJ languages_selected__w1dKv"><a href="/en"><span>en</span></a></li><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagFr__Us5Jb languages_selected__w1dKv"><a href="/fr"><span>fr</span></a></li></ul></nav><main class="layout_iaMain__6s2gl"><div><section class="contentBlock_root__802UK"><h1 class="h1_root__VPXQG"><span>Utilisation de l&#x27;accéléromètre dans le Casse Brique</span></h1><hr class="hr_root__iMEe9"/><p class="p_root__SHE_W"><span>⚠ Attention : cet article est périmé et présent uniquement pour mémoire.</span></p><hr class="hr_root__iMEe9"/><p class="p_root__SHE_W"><span>HTML5 expose via l&#x27;API Accelerometer des informations sur l&#x27;inclinaison de l&#x27;appareil en fonction des trois axes de l&#x27;espace, utilisons les pour notre casse brique.</span></p><p class="p_root__SHE_W"><span>En effet, il pourrait être intéressant de faire bouger la barre du casse brique en fonction des mouvements du téléphone.</span></p><p class="p_root__SHE_W"><span>Je me suis donc mis à l&#x27;ouvrage et j&#x27;ai commencé à explorer l&#x27;API Accelerometer </span><a class="a_root__WEPS7" title="Voir les détails de l&#x27;API" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Detecting%5Fdevice%5Forientation"><span>très bien documentée</span></a><span> par le Mozilla Developer Network.</span></p><p class="p_root__SHE_W"><span>Obtenir les coordonnées de l&#x27;accéléromètre est assez simple. Il suffit d&#x27;ajouter un écouteur d&#x27;évènement sur l&#x27;objet </span><code class="code_root__5JLV_">window</code><span>. On récupère ainsi dans la fonction passée en paramètre les évènements relatifs au changement d&#x27;orientation du téléphone ou autre appareil contenant un accéléromètre.</span></p><div class="code_root__5JLV_"><code><pre>window.addEventListener(
  &quot;deviceorientation&quot;,
  this.orientationHandler.bind(this),
  true,
);</pre></code></div><p class="p_root__SHE_W"><span>En revanche, il est plus compliqué d&#x27;interpréter ces coordonnées. En effet, en fonction de la valeur de `event.absolute``, le référentiel peut varier. Soit ce dernier est relatif à la position de la terre, soit le référentiel est arbitraire (a priori, relatif au périphérique lui même voire à la position initiale ou à la gravité vu que c&#x27;est un peu le principe de l’accéléromètre).</span></p><p class="p_root__SHE_W"><span>Les deux coordonnées qui m&#x27;intéressent sont les rotations de gauche à droite (pour guider la barre) et l&#x27;inclinaison d&#x27;avant en arrière (pour utiliser le tir laser ou fusil). Seulement, celles-ci changent selon que le périphérique est en mode paysage ou en mode portrait. J&#x27;ai donc du passer par une détection du mode via les media queries et la fonction bien pratique matchMedia.</span></p><p class="p_root__SHE_W"><span>Ainsi, en mode portrait, la valeur e.beta désigne l&#x27;orientation de gauche à droite et la valeur e.gamma celle d&#x27;avant en arrière et inversement en mode paysage.</span></p><p class="p_root__SHE_W"><span>J&#x27;aurai pu utiliser l&#x27;axe e.alpha pour déterminer l&#x27;orientation de l&#x27;appareil, mais il semble que tous les navigateurs ont leurs propres coordonnées limites et cela pose donc un problème évident de détection. Voilà ma fonction finale que vous retrouvez </span><a class="a_root__WEPS7" title="Voir le commit" target="_blank" href="https://github.com/nfroidure/Breakit/commit/3fa71a35035a7289d2a67baf1786a81a0d13a4bc"><span>dans ce commit</span></a><span> :</span></p><div class="code_root__5JLV_"><code><pre>orientationHandler: function(e) {
 var portrait=(window.matchMedia&amp;&amp;window.matchMedia(&#x27;(orientation: portrait)&#x27;).matches);
 if((portrait&amp;&amp;e.beta&lt;50)||((!portrait)&amp;&amp;(e.gamma&lt;0&amp;&amp;e.gamma&gt;-50)))
 this.bar.fire();
 if((portrait&amp;&amp;e.gamma&lt;-15)||((!portrait)&amp;&amp;e.beta&lt;-10))
 this.bar.setDirection(-1);
 else if((portrait&amp;&amp;e.gamma&gt;15)||((!portrait)&amp;&amp;e.beta&gt;10))
 this.bar.setDirection(1);
 else
 this.bar.setDirection(0);
 },</pre></code></div><p class="p_root__SHE_W"><span>Cette dernière se contente de modifier la direction prise par la barre en fonction de l&#x27;orientation. Elle fonctionne bien sur mon Galaxy S3 mais je n&#x27;ai pas d&#x27;autre appareil pour tester la compatibilité sur d&#x27;autres périphériques. N&#x27;hésitez donc pas à me relater vos éventuels problèmes voire à proposer vos commits. </span><a class="a_root__WEPS7" title="Jouer au Casse Brique" target="_blank" href="http://breakit.insertafter.com/index.html"><span>Bon jeu !</span></a></p><p class="p_root__SHE_W"><span>J&#x27;oubliais, puisqu&#x27;un malheur n&#x27;arrive jamais seul, j&#x27;ai ajouté un goodie qui inverse les contrôles (et donc l&#x27;accéléromètre), attention de bien éviter ce dernier, à moins que vous n&#x27;aimiez la difficulté ;). Tout est </span><a class="a_root__WEPS7" title="Voir le commit d&#x27;inversion des contrôles" target="_blank" href="https://github.com/nfroidure/Breakit/commit/413b87edbd35e75b8b7101021ab0126be0678c52"><span>dans ce commit</span></a><span>.</span></p><p class="p_root__SHE_W">Published at<!-- --> <!-- -->jeudi 9 août 2012 à 14:14:36<!-- -->.</p></section><section class="contentBlock_root__802UK"><aside class="share_root__Qm_RR"><h2 class="h2_root__Y02lX">Commenter et partager</h2><p class="p_root__SHE_W"><a class="a_root__WEPS7" title="Commenter sur Facebook" target="_blank" href="https://www.facebook.com/dialog/share?display=popup&amp;href=https%3A%2F%2Finsertafter.com%2Fblog%2Faccelerometre_casse_briques&amp;redirect_uri=https%3A%2F%2Finsertafter.com"><span class="share_icon__bi4Q3 share_facebook__JKn8d"></span>Facebook</a> - <a class="a_root__WEPS7" title="Commenter sur Bluesky" target="_blank" href="https://bsky.app/intent/compose?text=https%3A%2F%2Finsertafter.com%2Fblog%2Faccelerometre_casse_briques"><span class="share_icon__bi4Q3 share_bluesky__ahvrM"></span>Bluesky</a> - <a class="a_root__WEPS7" title="Me répondre par mail" target="_self" href="mailto:nicolas.froidure@gmail.com?subject=Utilisation%20de%20l&#x27;acc%C3%A9l%C3%A9rom%C3%A8tre%20dans%20le%20Casse%20Brique"><span class="share_icon__bi4Q3 share_mail__yvBDK"></span>Courriel</a></p></aside></section><section class="contentBlock_root__802UK"><aside class="page_linkedEntries__jiPuT"><h2 class="h2_root__Y02lX">Articles similaires</h2><p class="p_root__SHE_W">Dans les catégories<!-- --> <!-- -->Jeux HTML5<!-- -->.</p><div class="items_entries__5hkLG"><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//request_animation_frame">Utilisation de requestAnimationFrame pour les jeux HTML5</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Une nouvelle spécification permet d&#x27;optimiser l&#x27;affichage des jeux HTML5 en synchronisant ces derniers avec le moteur graphique du navigateur. Petit exemple de mise en oeuvre avec notre casse brique.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//request_animation_frame">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->jeudi 26 juillet 2012 à 10:13:35<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//tank_arena_html5">Jeux HTML5 : Défi Tank Arena</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Si vous avez déjà joué à Tank Arena, alors vous savez que c&#x27;est un excellent jeu. Malheureusement, il n&#x27;existe que pour Windows. Relevons le défi d&#x27;en faire un jeu HTML5 !<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//tank_arena_html5">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->samedi 9 juin 2012 à 16:20:22<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Lire cet article de blog" target="_self" href=".//html5_casse_brique">Jeux HTML5 : Développement d&#x27;un casse brique</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Créer un jeu en HTML5 est simple. Cependant, il faut respecter quelques bonnes pratiques pour éviter que cela tourne au cauchemar.<!-- --> <br/><a class="a_root__WEPS7" title="Lire cet article de blog" target="_self" href=".//html5_casse_brique">Lire la suite</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->vendredi 11 mai 2012 à 10:51:19<!-- -->.</p><div class="items_clear__3fyGk"></div></div></div></aside></section></div></main><aside class="social_iaSocial__kdR1x"><nav><ul><li><a href="https://mastodon.social/@nfroidure" rel="me" title="Follow me on Mastodon" class="social_iaSocialMastodon__MTF6o"><span>Mastodon</span></a></li><li><a href="https://bsky.app/profile/nfroidure.bsky.social" rel="me" title="Follow me on Bluesky" class="social_iaSocialBluesky__fKW6M"><span>Bluesky</span></a></li><li><a href="https://github.com/nfroidure" title="See my GitHub projects" class="social_iaSocialGithub__vcU5_"><span>GitHub</span></a></li><li><a href="https://www.npmjs.org/~nfroidure" title="Check my NPM modules" class="social_iaSocialNpm__6nku5"><span>NPM</span></a></li><li><a href="https://www.linkedin.com/in/nfroidure/" rel="me" title="See my LinkedIn profile" class="social_iaSocialLinkedin__pWACO"><span>LinkedIn</span></a></li><li><a href="https://facebook.com/nicolas.froidure.douai" rel="me" title="Follow me on Facebook" class="social_iaSocialFacebook__w4wfH"><span>Facebook</span></a></li><li><a href="/articles-accelerometre_casse_briques/blog/index.atom" title="Subscribe to my RSS feed" class="social_iaSocialFeed__gEQQ0"><span>RSS Feed</span></a></li></ul></nav></aside><footer class="footer_iaFooter__rhlnQ"><p class="footer_iaFooterContent__VZndF">© Nicolas Froidure 2012-<!-- -->2025</p></footer><script src="https://insertafter.com/_next/static/chunks/webpack-0cf58a546aefb656.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n9:I[9665,[],\"ViewportBoundary\"]\nb:I[9665,[],\"MetadataBoundary\"]\nd:I[6614,[],\"\"]\n:HL[\"https://insertafter.com/_next/static/css/82572465af7cf95c.css\",\"style\"]\n:HL[\"https://insertafter.com/_next/static/css/9a850f764b370999.css\",\"style\"]\n:HL[\"https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"DAkb_7D-Elg46Gs6CsWRY\",\"p\":\"https://insertafter.com\",\"c\":[\"\",\"articles-accelerometre_casse_briques\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(withRedirects)\",{\"children\":[[\"locale\",\"articles-accelerometre_casse_briques\",\"d\"],{\"children\":[\"__PAGE__\",{}]},\"$undefined\",\"$undefined\",true]}]}],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(withRedirects)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"locale\",\"articles-accelerometre_casse_briques\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/82572465af7cf95c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],\"$L4\"]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",\"$undefined\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/9a850f764b370999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/2b26a2222cb58ac3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",\"$L8\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"LuVuG5gMSqfTfc5hcoYm8\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null]}],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:\"$Sreact.strict_mode\"\nf:I[8873,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"875\",\"static/chunks/app/(withRedirects)/%5Blocale%5D/layout-b1f0ddb92ec3d214.js\"],\"default\"]\n10:I[2489,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"875\",\"static/chunks/app/(withRedirects)/%5Blocale%5D/layout-b1f0ddb92ec3d214.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$e\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"articles-accelerometre_casse_briques\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_body__jFZuu\",\"children\":[null,[\"$\",\"header\",null,{\"className\":\"header_iaHeader__4vCMA\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/articles-accelerometre_casse_briques\",\"title\":\"Go back to home page\",\"className\":\"header_iaHeaderLogo__0uNr1\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/logo.svg\",\"alt\":\"InsertAfter's Logo\"}]}]}]}]}],[\"$\",\"$Lf\",null,{\"locale\":\"articles-accelerometre_casse_briques\",\"dictionary\":{\"home\":{\"label\":\"Home\",\"title\":\"Go back to home page\"},\"blog\":{\"label\":\"Blog\",\"title\":\"Read my blog posts\"},\"projects\":{\"label\":\"Projects\",\"title\":\"Discover my projects\"},\"about\":{\"label\":\"About me\",\"title\":\"Read more about me\"}}}],[\"$\",\"$L10\",null,{\"locale\":\"articles-accelerometre_casse_briques\"}],[\"$\",\"main\",null,{\"className\":\"layout_iaMain__6s2gl\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"aside\",null,{\"className\":\"social_iaSocial__kdR1x\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@nfroidure\",\"rel\":\"me\",\"title\":\"Follow me on Mastodon\",\"className\":\"social_iaSocialMastodon__MTF6o\",\"children\":[\"$\",\"span\",null,{\"children\":\"Mastodon\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://bsky.app/profile/nfroidure.bsky.social\",\"rel\":\"me\",\"title\":\"Follow me on Bluesky\",\"className\":\"social_iaSocialBluesky__fKW6M\",\"children\":[\"$\",\"span\",null,{\"children\":\"Bluesky\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/nfroidure\",\"title\":\"See my GitHub projects\",\"className\":\"social_iaSocialGithub__vcU5_\",\"children\":[\"$\",\"span\",null,{\"children\":\"GitHub\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.org/~nfroidure\",\"title\":\"Check my NPM modules\",\"className\":\"social_iaSocialNpm__6nku5\",\"children\":[\"$\",\"span\",null,{\"children\":\"NPM\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/nfroidure/\",\"rel\":\"me\",\"title\":\"See my LinkedIn profile\",\"className\":\"social_iaSocialLinkedin__pWACO\",\"children\":[\"$\",\"span\",null,{\"children\":\"LinkedIn\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://facebook.com/nicolas.froidure.douai\",\"rel\":\"me\",\"title\":\"Follow me on Facebook\",\"className\":\"social_iaSocialFacebook__w4wfH\",\"children\":[\"$\",\"span\",null,{\"children\":\"Facebook\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/articles-accelerometre_casse_briques/blog/index.atom\",\"title\":\"Subscribe to my RSS feed\",\"className\":\"social_iaSocialFeed__gEQQ0\",\"children\":[\"$\",\"span\",null,{\"children\":\"RSS Feed\"}]}]}]]}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_iaFooter__rhlnQ\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_iaFooterContent__VZndF\",\"children\":[\"© Nicolas Froidure 2012-\",2025]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"content\":\"#3e78b2\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"11:I[6874,[\"874\",\"static/chunks/874-f855e4232fadb1a1.js\",\"96\",\"static/chunks/96-3883dbab65ddc99f.js\",\"248\",\"static/chunks/app/(withRedirects)/%5Blocale%5D/page-00d946cd9e61b4bf.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[[\"$\",\"h1\",\"0\",{\"className\":\"h1_root__VPXQG\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Utilisation de l'accéléromètre dans le Casse Brique\"}]]}],[\"$\",\"hr\",\"1\",{\"className\":\"hr_root__iMEe9\"}],[\"$\",\"p\",\"2\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"⚠ Attention : cet article est périmé et présent uniquement pour mémoire.\"}]]}],[\"$\",\"hr\",\"3\",{\"className\":\"hr_root__iMEe9\"}],[\"$\",\"p\",\"4\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"HTML5 expose via l'API Accelerometer des informations sur l'inclinaison de l'appareil en fonction des trois axes de l'espace, utilisons les pour notre casse brique.\"}]]}],[\"$\",\"p\",\"5\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"En effet, il pourrait être intéressant de faire bouger la barre du casse brique en fonction des mouvements du téléphone.\"}]]}],[\"$\",\"p\",\"6\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Je me suis donc mis à l'ouvrage et j'ai commencé à explorer l'API Accelerometer \"}],[\"$\",\"$L11\",\"1\",{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/API/Detecting%5Fdevice%5Forientation\",\"className\":\"a_root__WEPS7\",\"title\":\"Voir les détails de l'API\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"très bien documentée\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" par le Mozilla Developer Network.\"}]]}],[\"$\",\"p\",\"7\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Obtenir les coordonnées de l'accéléromètre est assez simple. Il suffit d'ajouter un écouteur d'évènement sur l'objet \"}],[\"$\",\"code\",\"1\",{\"className\":\"code_root__5JLV_\",\"children\":\"window\"}],[\"$\",\"span\",\"2\",{\"children\":\". On récupère ainsi dans la fonction passée en paramètre les évènements relatifs au changement d'orientation du téléphone ou autre appareil contenant un accéléromètre.\"}]]}],[\"$\",\"div\",\"8\",{\"className\":\"code_root__5JLV_\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"pre\",null,{\"children\":\"window.addEventListener(\\n  \\\"deviceorientation\\\",\\n  this.orientationHandler.bind(this),\\n  true,\\n);\"}]}]}],[\"$\",\"p\",\"9\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"En revanche, il est plus compliqué d'interpréter ces coordonnées. En effet, en fonction de la valeur de `event.absolute``, le référentiel peut varier. Soit ce dernier est relatif à la position de la terre, soit le référentiel est arbitraire (a priori, relatif au périphérique lui même voire à la position initiale ou à la gravité vu que c'est un peu le principe de l’accéléromètre).\"}]]}],[\"$\",\"p\",\"10\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Les deux coordonnées qui m'intéressent sont les rotations de gauche à droite (pour guider la barre) et l'inclinaison d'avant en arrière (pour utiliser le tir laser ou fusil). Seulement, celles-ci changent selon que le périphérique est en mode paysage ou en mode portrait. J'ai donc du passer par une détection du mode via les media queries et la fonction bien pratique matchMedia.\"}]]}],[\"$\",\"p\",\"11\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Ainsi, en mode portrait, la valeur e.beta désigne l'orientation de gauche à droite et la valeur e.gamma celle d'avant en arrière et inversement en mode paysage.\"}]]}],[\"$\",\"p\",\"12\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"J'aurai pu utiliser l'axe e.alpha pour déterminer l'orientation de l'appareil, mais il semble que tous les navigateurs ont leurs propres coordonnées limites et cela pose donc un problème évident de détection. Voilà ma fonction finale que vous retrouvez \"}],[\"$\",\"$L11\",\"1\",{\"href\":\"https://github.com/nfroidure/Breakit/commit/3fa71a35035a7289d2a67baf1786a81a0d13a4bc\",\"className\":\"a_root__WEPS7\",\"title\":\"Voir le commit\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"dans ce commit\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\" :\"}]]}],[\"$\",\"div\",\"13\",{\"className\":\"code_root__5JLV_\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"pre\",null,{\"children\":\"orientationHandler: function(e) {\\n var portrait=(window.matchMedia\u0026\u0026window.matchMedia('(orientation: portrait)').matches);\\n if((portrait\u0026\u0026e.beta\u003c50)||((!portrait)\u0026\u0026(e.gamma\u003c0\u0026\u0026e.gamma\u003e-50)))\\n this.bar.fire();\\n if((portrait\u0026\u0026e.gamma\u003c-15)||((!portrait)\u0026\u0026e.beta\u003c-10))\\n this.bar.setDirection(-1);\\n else if((portrait\u0026\u0026e.gamma\u003e15)||((!portrait)\u0026\u0026e.beta\u003e10))\\n this.bar.setDirection(1);\\n else\\n this.bar.setDirection(0);\\n },\"}]}]}],[\"$\",\"p\",\"14\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Cette dernière se contente de modifier la direction prise par la barre en fonction de l'orientation. Elle fonctionne bien sur mon Galaxy S3 mais je n'ai pas d'autre appareil pour tester la compatibilité sur d'autres périphériques. N'hésitez donc pas à me relater vos éventuels problèmes voire à proposer vos commits. \"}],[\"$\",\"$L11\",\"1\",{\"href\":\"http://breakit.insertafter.com/index.html\",\"className\":\"a_root__WEPS7\",\"title\":\"Jouer au Casse Brique\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Bon jeu !\"}]]]}]]}],[\"$\",\"p\",\"15\",{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"J'oubliais, puisqu'un malheur n'arrive jamais seul, j'ai ajouté un goodie qui inverse les contrôles (et donc l'accéléromètre), attention de bien éviter ce dernier, à moins que vous n'aimiez la difficulté ;). Tout est \"}],[\"$\",\"$L11\",\"1\",{\"href\":\"https://github.com/nfroidure/Breakit/commit/413b87edbd35e75b8b7101021ab0126be0678c52\",\"className\":\"a_root__WEPS7\",\"title\":\"Voir le commit d'inversion des contrôles\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"dans ce commit\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\".\"}]]}]],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Published at\",\" \",\"jeudi 9 août 2012 à 14:14:36\",\".\"]}]]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"share_root__Qm_RR\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Commenter et partager\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L11\",null,{\"href\":\"https://www.facebook.com/dialog/share?display=popup\u0026href=https%3A%2F%2Finsertafter.com%2Fblog%2Faccelerometre_casse_briques\u0026redirect_uri=https%3A%2F%2Finsertafter.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Commenter sur Facebook\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_facebook__JKn8d\"}],\"Facebook\"]]}],\" - \",[\"$\",\"$L11\",null,{\"href\":\"https://bsky.app/intent/compose?text=https%3A%2F%2Finsertafter.com%2Fblog%2Faccelerometre_casse_briques\",\"className\":\"a_root__WEPS7\",\"title\":\"Commenter sur Bluesky\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_bluesky__ahvrM\"}],\"Bluesky\"]]}],\" - \",[\"$\",\"$L11\",null,{\"href\":\"mailto:nicolas.froidure@gmail.com?subject=Utilisation%20de%20l'acc%C3%A9l%C3%A9rom%C3%A8tre%20dans%20le%20Casse%20Brique\",\"className\":\"a_root__WEPS7\",\"title\":\"Me répondre par mail\",\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_mail__yvBDK\"}],\"Courriel\"]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"page_linkedEntries__jiPuT\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Articles similaires\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Dans les catégories\",\" \",\"Jeux HTML5\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_entries__5hkLG\",\"children\":[[\"$\",\"div\",\"request_animation_frame\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L11\",null,{\"href\":\".//request_animation_frame\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Utilisation de requestAnimationFrame pour les jeux HTML5\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Une nouvelle spécification permet d'optimiser l'affichage des jeux HTML5 en synchronisant ces derniers avec le moteur graphique du navigateur. Petit exemple de mise en oeuvre avec notre casse brique.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L11\",null,{\"href\":\".//request_animation_frame\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"jeudi 26 juillet 2012 à 10:13:35\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"tank_arena_html5\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L11\",null,{\"href\":\".//tank_arena_html5\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Jeux HTML5 : Défi Tank Arena\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Si vous avez déjà joué à Tank Arena, alors vous savez que c'est un excellent jeu. Malheureusement, il n'existe que pour Windows. Relevons le défi d'en faire un jeu HTML5 !\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L11\",null,{\"href\":\".//tank_arena_html5\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"samedi 9 juin 2012 à 16:20:22\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"html5_casse_brique\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L11\",null,{\"href\":\".//html5_casse_brique\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Jeux HTML5 : Développement d'un casse brique\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Créer un jeu en HTML5 est simple. Cependant, il faut respecter quelques bonnes pratiques pour éviter que cela tourne au cauchemar.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L11\",null,{\"href\":\".//html5_casse_brique\",\"className\":\"a_root__WEPS7\",\"title\":\"Lire cet article de blog\",\"target\":\"_self\",\"children\":[null,\"Lire la suite\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"vendredi 11 mai 2012 à 10:51:19\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}]]}]]}]}]]\n"])</script><script>self.__next_f.push([1,"8:null\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"title\",\"0\",{\"children\":\"Utilisation de l'accéléromètre dans le Casse Brique - Nicolas Froidure\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"HTML5 expose via l'API accelerometer des information sur l'inclinaison de l'appareil en fonction des trois axes de l'espace, utilisons les pour notre Casse brique.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://insertafter.com\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"4\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://insertafter.com/fr/blog/accelerometre_casse_briques\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Utilisation de l'accéléromètre dans le Casse Brique - Nicolas Froidure\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"HTML5 expose via l'API accelerometer des information sur l'inclinaison de l'appareil en fonction des trois axes de l'espace, utilisons les pour notre Casse brique.\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://insertafter.com/fr/blog/accelerometre_casse_briques\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"fr_FR\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:alt\",\"content\":\"Bannière du site\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:title\",\"content\":\"Utilisation de l'accéléromètre dans le Casse Brique - Nicolas Froidure\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:description\",\"content\":\"HTML5 expose via l'API accelerometer des information sur l'inclinaison de l'appareil en fonction des trois axes de l'espace, utilisons les pour notre Casse brique.\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image:alt\",\"content\":\"Bannière du site\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"link\",\"19\",{\"rel\":\"icon\",\"href\":\"/images/favicon.svg\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"20\",{\"rel\":\"icon\",\"href\":\"/images/favicon-16.png\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/images/favicon-128.png\",\"type\":\"image/png\",\"sizes\":\"128x128\"}]]\n"])</script></body></html>