<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo.svg"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/655a273f6fe37552.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="https://insertafter.com/_next/static/css/4909000cd2d942cc.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://insertafter.com/_next/static/chunks/webpack-f65a69f5b063a746.js" crossorigin=""/><script src="https://insertafter.com/_next/static/chunks/fd9d1056-5bc70f044f3cb802.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/938-bf741a2eb8fd4828.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/main-app-2e6280b5273157a5.js" async="" crossorigin=""></script><script src="https://insertafter.com/_next/static/chunks/176-0a03be62efe5672b.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/790-a194f74901d33197.js" async=""></script><script src="https://insertafter.com/_next/static/chunks/app/(withoutLocale)/%5Blocale%5D/page-6e49227023738746.js" async=""></script><meta name="theme-color" content="#3e78b2"/><title>Project Webservices at 7Digital - Nicolas Froidure</title><meta name="description" content="A sum-up of my last 6 months working at 7Digital."/><link rel="author" href="https://insertafter.com"/><meta name="author" content="Nicolas Froidure"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://insertafter.com/en/blog/webservices_at_7digital"/><meta property="og:title" content="Project Webservices at 7Digital - Nicolas Froidure"/><meta property="og:description" content="A sum-up of my last 6 months working at 7Digital."/><meta property="og:url" content="https://insertafter.com/en/blog/webservices_at_7digital"/><meta property="og:site_name" content="Nicolas Froidure"/><meta property="og:locale" content="en_US"/><meta property="og:image:alt" content="Website banner"/><meta property="og:image" content="https://insertafter.com/images/banner.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@nfroidure"/><meta name="twitter:creator" content="@nfroidure"/><meta name="twitter:title" content="Project Webservices at 7Digital - Nicolas Froidure"/><meta name="twitter:description" content="A sum-up of my last 6 months working at 7Digital."/><meta name="twitter:image:alt" content="Website banner"/><meta name="twitter:image" content="https://insertafter.com/images/banner.png"/><link rel="icon" href="/images/favicon.svg" type="image/svg+xml" sizes="any"/><link rel="icon" href="/images/favicon-16.png" type="image/png" sizes="16x16"/><link rel="icon" href="/images/favicon-128.png" type="image/png" sizes="128x128"/><script src="https://insertafter.com/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="layout_body__jFZuu"><header class="header_iaHeader__4vCMA"><div><h1><a href="/en" title="Go back to home page" class="header_iaHeaderLogo__0uNr1"><img src="/images/logo.svg" alt="InsertAfter&#x27;s Logo"/></a></h1></div></header><nav class="menu_iaMenu__B_rtj"><ul class="menu_iaMenuBody__0Zveq"><li class="menu_iaMenuItem__rOch4"><a href="/en" title="Go back to home page" class="">Home</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/blog" title="Read my blog posts" class="">Blog</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/projects" title="Discover my projects" class="">Projects</a></li><li class="menu_iaMenuItem__rOch4"><a href="/en/about" title="Read more about me" class="">About me</a></li></ul></nav><nav class="languages_iaLanguages__K2J3W"><ul><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagEn__angfJ"><a href="/en"><span>en</span></a></li><li class="languages_iaLanguagesFlag__ruQ4j languages_iaLanguagesFlagFr__Us5Jb languages_selected__w1dKv"><a href="/fr"><span>fr</span></a></li></ul></nav><main class="layout_iaMain__6s2gl"><div><section class="contentBlock_root__802UK"><h1 class="h1_root__VPXQG"><span>Project Webservices at 7Digital</span></h1><p class="p_root__SHE_W"><span>A presentation I gave about the refactoring I made at 7Digital.</span></p><p class="p_root__SHE_W"><div class="slidesDotCom_root__yd21N"><iframe src="https://slides.com/nfroidure/projects-webservices-7digital/embed" allowFullScreen=""></iframe><noscript><a class="a_root__WEPS7" title="See the presentation slides" target="_blank" href="https://slides.com/nfroidure/projects-webservices-7digital"><span>Slides</span></a></noscript></div></p><p class="p_root__SHE_W"><strong class="strong_root__kOzFq"><span>Script of the presentation:</span></strong></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>A bit of context</span> <small><a class="anchored_icon__N5Sem" id="a-bit-of-context" title="Lien vers cette section" href="#a-bit-of-context"><span>ðŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>As you may have noticed, the project team at 7 Digital has a very different way to ship software than the product team.</span><br/><span>Indeed, what make us working so differently is mainly timelines. We have to ship features on a regular basis in order to get feedback from our partners.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Custom projects</span> <small><a class="anchored_icon__N5Sem" id="custom-projects" title="Lien vers cette section" href="#custom-projects"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Our customer projects require us to slightly change our webservices behavior. From custom APIs to third party integrations. We need to be able to build several custom platforms at the same time without degrading our service&#x27;s quality.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Transitioning</span> <small><a class="anchored_icon__N5Sem" id="transitioning" title="Lien vers cette section" href="#transitioning"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>All of it has to be done gradually, implying a lot of backward compatibility considerations on an old codebase with no tests at all.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Contractors</span> <small><a class="anchored_icon__N5Sem" id="contractors" title="Lien vers cette section" href="#contractors"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>We also have to manage relationship with contractors and keep sure we can provide them the environment quick enough to be sure they won&#x27;t be stuck on their working days.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Project oriented</span> <small><a class="anchored_icon__N5Sem" id="project-oriented" title="Lien vers cette section" href="#project-oriented"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>We&#x27;re building projects over a product. It sometimes enforce us to implement features that will then ship into our core features.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Modularization</span> <small><a class="anchored_icon__N5Sem" id="modularization" title="Lien vers cette section" href="#modularization"><span>ðŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>To address our projects specificities we had to create an highly modular codebase thanks to a few common patterns.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>One repository per concern</span> <small><a class="anchored_icon__N5Sem" id="one-repository-per-concern" title="Lien vers cette section" href="#one-repository-per-concern"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>First of all, we created several normalized repositories: infrastructure, webservices, frontends. Each repository of the same category shares the same CLI/directory tree interface to avoid having to figure out what is where for each project.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>A docker image per repository</span> <small><a class="anchored_icon__N5Sem" id="a-docker-image-per-repository" title="Lien vers cette section" href="#a-docker-image-per-repository"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>The subsequent fact of it is that each repository&#x27;s goal is to contain the recipe to build a single Docker container.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Modularization issues</span> <small><a class="anchored_icon__N5Sem" id="modularization-issues" title="Lien vers cette section" href="#modularization-issues"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>But the modularization comes with its own costs and we had to automate their evolution to avoid falling into a messy codebase with disparate configurations for each project/microservice.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>An automated update process</span> <small><a class="anchored_icon__N5Sem" id="an-automated-update-process" title="Lien vers cette section" href="#an-automated-update-process"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Basically, what we&#x27;re doing is maintaining a set of versioned macros that applies to a project once the module containing them is updated.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Automatically Customized Documentation</span> <small><a class="anchored_icon__N5Sem" id="automatically-customized-documentation" title="Lien vers cette section" href="#automatically-customized-documentation"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Since building customer projects is like picking features in an existing toolbox plus creating specific ones, we automated the documentation in a way that allows us to spend 0 time on bundling it or on already documented features. We just focus on new features.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Code Architecture</span> <small><a class="anchored_icon__N5Sem" id="code-architecture" title="Lien vers cette section" href="#code-architecture"><span>ðŸ”—</span></a></small></span></h2><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Dependency Injection with Inversion of Control</span> <small><a class="anchored_icon__N5Sem" id="dependency-injection-with-inversion-of-control" title="Lien vers cette section" href="#dependency-injection-with-inversion-of-control"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>We&#x27;re using an open-source tool I made that implement Dependency Injection with Inversion of Control and looks similar to what&#x27;s done in Angular. There is a small difference though, since it also handle service shutdown. Indeed, to ensure high availability we must shutdown services like PostgreSQL only when every connections to the HTTP server where closed.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Pure functions for the win</span> <small><a class="anchored_icon__N5Sem" id="pure-functions-for-the-win" title="Lien vers cette section" href="#pure-functions-for-the-win"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>A side effect of using services to enclose global states is that we can use pure functions everywhere else. I won&#x27;t cover functional programming here but you should really have a look at its patterns.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Documentation Driven APIs</span> <small><a class="anchored_icon__N5Sem" id="documentation-driven-apis" title="Lien vers cette section" href="#documentation-driven-apis"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Like any developer, I prefer write code than documentation. But I also prefer using documented code. To conciliate those two paradoxical needs, I managed to tie documentation and code. By writing the documentation, you create (</span><a class="a_root__WEPS7" target="_blank" href="https://github.com/nfroidure/siso"><span>routing</span></a><span>, </span><a class="a_root__WEPS7" target="_blank" href="https://github.com/nfroidure/strict-qs"><span>input filtering</span></a><span>, </span><a class="a_root__WEPS7" target="_blank" href="https://github.com/nfroidure/asttpl/blob/master/src/realworld.mocha.js"><span>clients API</span></a><span>, ...).</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Workflow oriented controller</span> <small><a class="anchored_icon__N5Sem" id="workflow-oriented-controller" title="Lien vers cette section" href="#workflow-oriented-controller"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>I am not an MVC fan. Indeed, experience proves that answering to an HTTP request is often more a unique workflow specific to a given endpoint. I would say I am using a Workflow Stages Service pattern where Workflow is a bunch of asynchronous sequential operation, Stages is about running pure functions or services functions and Service is just dealing with system&#x27;s or third party global states.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Cache ready</span> <small><a class="anchored_icon__N5Sem" id="cache-ready" title="Lien vers cette section" href="#cache-ready"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>I think enforcing URLs uniqueness in the stricter manner possible is a very important thing. It makes caching strategy efficient. What&#x27;s the point of taking trains to go to the office if your code is wasting resources? I want to code green and URI unicity is maybe the best improvement you can achieve for that matter.</span></p><p class="p_root__SHE_W"><span>It can be less convenient for frontends that are forced to follow a strict pattern when using the API but since we are generating the client API they don&#x27;t even know that those restrictions exists ;).</span></p><p class="p_root__SHE_W"><span>Some old URIs contents are still varying but fortunately when frontends will all use the generated client API we will be able to change URIs transparently.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Still a work in progress</span> <small><a class="anchored_icon__N5Sem" id="still-a-work-in-progress" title="Lien vers cette section" href="#still-a-work-in-progress"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Which leads us to the fact there is still some work in progress under the hoods. From JSONSchema definition to the RESTful shift, the road is long.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Deployment</span> <small><a class="anchored_icon__N5Sem" id="deployment" title="Lien vers cette section" href="#deployment"><span>ðŸ”—</span></a></small></span></h2><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>One repository to rule them all</span> <small><a class="anchored_icon__N5Sem" id="one-repository-to-rule-them-all" title="Lien vers cette section" href="#one-repository-to-rule-them-all"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Building and deploying several projects at the same time requires to be rigorous and rely on single sources of truth. To handle this, every single utility script, deployment configuration lies in a single centralized repository per project.</span></p><p class="p_root__SHE_W"><span>Every repositories involved in a project are embedded into the infrastructure repository as a Git submodule in order to be able to setup the development environment by cloning a single repository.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Cloud Hosting Powers</span> <small><a class="anchored_icon__N5Sem" id="cloud-hosting-powers" title="Lien vers cette section" href="#cloud-hosting-powers"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>We managed to create scripts that aggregate each webservices/frontends definitions and output a platform agnostic project definition we can then convert for many targets: AWS, Google Cloud Engine or even a simple instance running Docker or PM2 if necessary.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Back to the future</span> <small><a class="anchored_icon__N5Sem" id="back-to-the-future" title="Lien vers cette section" href="#back-to-the-future"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>Since each project has its own hosting budget, traffic expectations, we want to provide more targets for deployments to precisely fit needs at the better cost.</span></p><h3 class="h3_root__kVaqq"><span class="anchored_root__HWi6K"><span>Quality Insurance</span> <small><a class="anchored_icon__N5Sem" id="quality-insurance" title="Lien vers cette section" href="#quality-insurance"><span>ðŸ”—</span></a></small></span></h3><p class="p_root__SHE_W"><span>There is a lot of checks before shipping to UAT or production dramatically reducing risks to deploy non working versions. Most of the BDD tests I made also helped to ensure backward compatibility with the old APIs.</span></p><h2 class="h2_root__Y02lX"><span class="anchored_root__HWi6K"><span>Thanks</span> <small><a class="anchored_icon__N5Sem" id="thanks" title="Lien vers cette section" href="#thanks"><span>ðŸ”—</span></a></small></span></h2><p class="p_root__SHE_W"><span>Thanks you for your attention. If you have any question, please ask ;).</span></p><p class="p_root__SHE_W">Published at<!-- --> <!-- -->mardi 7 fÃ©vrier 2017 Ã  14:09:30<!-- -->.</p></section><section class="contentBlock_root__802UK"><aside class="share_root__Qm_RR"><h2 class="h2_root__Y02lX">Comment and share</h2><p class="p_root__SHE_W"><a class="a_root__WEPS7" title="Comment on Facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fwebservices_at_7digital"><span class="share_icon__bi4Q3 share_facebook__JKn8d"></span>Facebook</a> - <a class="a_root__WEPS7" title="Comment on Twitter" target="_blank" href="https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fwebservices_at_7digital&amp;text=Project%20Webservices%20at%207Digital&amp;via=nfroidure"><span class="share_icon__bi4Q3 "></span>Twitter</a> - <a class="a_root__WEPS7" title="Answer via email" target="_self" href="mailto:nicolas.froidure@gmail.com"><span class="share_icon__bi4Q3 share_mail__yvBDK"></span>Email</a></p></aside></section><section class="contentBlock_root__802UK"><aside class="page_linkedEntries__jiPuT"><h2 class="h2_root__Y02lX">Similar posts</h2><p class="p_root__SHE_W">In the categories<!-- --> <!-- -->Web Services<!-- -->.</p><div class="items_entries__5hkLG"><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Read this blog post" target="_self" href=".//http_rest_apis_with_nodejs">Designing HTTP REST APIs with NodeJS</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">Designing good HTTP services is still a hard thing despite the many tools you can find to make them with NodeJS. I&#x27;m trying to define a formal approach to architecture them by embracing the HTTP protocol nature and the RESTful principles.<!-- --> <br/><a class="a_root__WEPS7" title="Read this blog post" target="_self" href=".//http_rest_apis_with_nodejs">Read the full post</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->samedi 12 novembre 2016 Ã  10:50:52<!-- -->.</p><div class="items_clear__3fyGk"></div></div><div class="items_entry_item__GWeg7"><h2 class="h2_root__Y02lX items_entry_title__vJ_8h"><a class="a_root__WEPS7 items_entry_link__EtVod" title="Read this blog post" target="_self" href=".//reaccess">REST API access control with reaccess</a></h2><p class="p_root__SHE_W items_entry_description__ZWt9y">A presentation introducing reaccess an its use on a MEAN stack.<!-- --> <br/><a class="a_root__WEPS7" title="Read this blog post" target="_self" href=".//reaccess">Read the full post</a></p><p class="p_root__SHE_W items_entry_time__iNrot">Published at<!-- --> <!-- -->mercredi 1 octobre 2014 Ã  13:44:58<!-- -->.</p><div class="items_clear__3fyGk"></div></div></div></aside></section></div></main><aside class="social_iaSocial__kdR1x"><nav><ul><li><a href="https://mastodon.social/@nfroidure" rel="me" title="Follow me on Mastodon" class="social_iaSocialMastodon__MTF6o"><span>Mastodon</span></a></li><li><a href="https://bsky.app/profile/nfroidure.bsky.social" rel="me" title="Follow me on Bluesky" class="social_iaSocialBluesky__fKW6M"><span>Bluesky</span></a></li><li><a href="https://twitter.com/nfroidure" title="Follow me on Twitter" class="social_iaSocialTwitter__9nU6R"><span>Twitter</span></a></li><li><a href="https://github.com/nfroidure" title="See my GitHub projects" class="social_iaSocialGithub__vcU5_"><span>GitHub</span></a></li><li><a href="https://www.npmjs.org/~nfroidure" title="Check my NPM modules" class="social_iaSocialNpm__6nku5"><span>NPM</span></a></li><li><a href="https://www.linkedin.com/in/nfroidure/" rel="me" title="See my LinkedIn profile" class="social_iaSocialLinkedin__pWACO"><span>LinkedIn</span></a></li><li><a href="https://facebook.com/nicolas.froidure.douai" rel="me" title="Follow me on Facebook" class="social_iaSocialFacebook__w4wfH"><span>Facebook</span></a></li><li><a href="/en/blog/index.atom" title="Subscribe to my RSS feed" class="social_iaSocialFeed__gEQQ0"><span>RSS Feed</span></a></li></ul></nav></aside><footer class="footer_iaFooter__rhlnQ"><p class="footer_iaFooterContent__VZndF">Â© Nicolas Froidure 2012-<!-- -->2024</p></footer><script src="https://insertafter.com/_next/static/chunks/webpack-f65a69f5b063a746.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"0:\"$L1\"\n"])</script><script>self.__next_f.push([1,"2:HL[\"https://insertafter.com/_next/static/css/655a273f6fe37552.css\",\"style\",{\"crossOrigin\":\"\"}]\n3:HL[\"https://insertafter.com/_next/static/css/4909000cd2d942cc.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\nc:I[8955,[],\"\"]\n8:[\"locale\",\"blog-webservices_at_7digital\",\"d\"]\n"])</script><script>self.__next_f.push([1,"1:[null,[\"$\",\"$L4\",null,{\"buildId\":\"KvaQf7Occ1_mTQr28YDxi\",\"assetPrefix\":\"https://insertafter.com\",\"initialCanonicalUrl\":\"/blog-webservices_at_7digital\",\"initialTree\":[\"\",{\"children\":[\"(withoutLocale)\",{\"children\":[[\"locale\",\"blog-webservices_at_7digital\",\"d\"],{\"children\":[\"__PAGE__?{\\\"locale\\\":\\\"blog-webservices_at_7digital\\\"}\",{}]}]},\"$undefined\",\"$undefined\",true]}],\"initialSeedData\":[\"\",{\"children\":[\"(withoutLocale)\",{\"children\":[[\"locale\",\"blog-webservices_at_7digital\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withoutLocale)\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/4909000cd2d942cc.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,\"$La\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://insertafter.com/_next/static/css/655a273f6fe37552.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]],\"initialHead\":[false,\"$Lb\"],\"globalErrorComponent\":\"$c\"}]]\n"])</script><script>self.__next_f.push([1,"d:\"$Sreact.strict_mode\"\ne:I[4630,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"960\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js\"],\"\"]\nf:I[4341,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"960\",\"static/chunks/app/(withLocale)/%5Blocale%5D/layout-3730889d272dc34b.js\"],\"\"]\n10:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems"])</script><script>self.__next_f.push([1,"\":\"center\",\"justifyContent\":\"center\"}\n11:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\n12:{\"display\":\"inline-block\"}\n13:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"$d\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_body__jFZuu\",\"children\":[null,[\"$\",\"header\",null,{\"className\":\"header_iaHeader__4vCMA\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/en\",\"title\":\"Go back to home page\",\"className\":\"header_iaHeaderLogo__0uNr1\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/logo.svg\",\"alt\":\"InsertAfter's Logo\"}]}]}]}]}],[\"$\",\"$Le\",null,{\"locale\":\"en\",\"dictionary\":{\"home\":{\"label\":\"Home\",\"title\":\"Go back to home page\"},\"blog\":{\"label\":\"Blog\",\"title\":\"Read my blog posts\"},\"projects\":{\"label\":\"Projects\",\"title\":\"Discover my projects\"},\"about\":{\"label\":\"About me\",\"title\":\"Read more about me\"}}}],[\"$\",\"$Lf\",null,{\"locale\":\"en\"}],[\"$\",\"main\",null,{\"className\":\"layout_iaMain__6s2gl\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(withoutLocale)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$10\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$11\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$12\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$13\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"aside\",null,{\"className\":\"social_iaSocial__kdR1x\",\"children\":[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@nfroidure\",\"rel\":\"me\",\"title\":\"Follow me on Mastodon\",\"className\":\"social_iaSocialMastodon__MTF6o\",\"children\":[\"$\",\"span\",null,{\"children\":\"Mastodon\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://bsky.app/profile/nfroidure.bsky.social\",\"rel\":\"me\",\"title\":\"Follow me on Bluesky\",\"className\":\"social_iaSocialBluesky__fKW6M\",\"children\":[\"$\",\"span\",null,{\"children\":\"Bluesky\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://twitter.com/nfroidure\",\"title\":\"Follow me on Twitter\",\"className\":\"social_iaSocialTwitter__9nU6R\",\"children\":[\"$\",\"span\",null,{\"children\":\"Twitter\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/nfroidure\",\"title\":\"See my GitHub projects\",\"className\":\"social_iaSocialGithub__vcU5_\",\"children\":[\"$\",\"span\",null,{\"children\":\"GitHub\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.org/~nfroidure\",\"title\":\"Check my NPM modules\",\"className\":\"social_iaSocialNpm__6nku5\",\"children\":[\"$\",\"span\",null,{\"children\":\"NPM\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/nfroidure/\",\"rel\":\"me\",\"title\":\"See my LinkedIn profile\",\"className\":\"social_iaSocialLinkedin__pWACO\",\"children\":[\"$\",\"span\",null,{\"children\":\"LinkedIn\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://facebook.com/nicolas.froidure.douai\",\"rel\":\"me\",\"title\":\"Follow me on Facebook\",\"className\":\"social_iaSocialFacebook__w4wfH\",\"children\":[\"$\",\"span\",null,{\"children\":\"Facebook\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/en/blog/index.atom\",\"title\":\"Subscribe to my RSS feed\",\"className\":\"social_iaSocialFeed__gEQQ0\",\"children\":[\"$\",\"span\",null,{\"children\":\"RSS Feed\"}]}]}]]}]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_iaFooter__rhlnQ\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_iaFooterContent__VZndF\",\"children\":[\"Â© Nicolas Froidure 2012-\",2024]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"14:I[5250,[\"176\",\"static/chunks/176-0a03be62efe5672b.js\",\"790\",\"static/chunks/790-a194f74901d33197.js\",\"770\",\"static/chunks/app/(withoutLocale)/%5Blocale%5D/page-6e49227023738746.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[[[\"$\",\"h1\",null,{\"className\":\"h1_root__VPXQG\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Project Webservices at 7Digital\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"A presentation I gave about the refactoring I made at 7Digital.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"div\",null,{\"className\":\"slidesDotCom_root__yd21N\",\"children\":[[\"$\",\"iframe\",null,{\"src\":\"https://slides.com/nfroidure/projects-webservices-7digital/embed\",\"allowFullScreen\":true}],[\"$\",\"noscript\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"https://slides.com/nfroidure/projects-webservices-7digital\",\"className\":\"a_root__WEPS7\",\"title\":\"See the presentation slides\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"Slides\"}]]]}]}]]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"strong_root__kOzFq\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Script of the presentation:\"}]]}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"A bit of context\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#a-bit-of-context\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"a-bit-of-context\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"As you may have noticed, the project team at 7 Digital has a very different way to ship software than the product team.\"}],[\"$\",\"br\",\"1\",{}],[\"$\",\"span\",\"2\",{\"children\":\"Indeed, what make us working so differently is mainly timelines. We have to ship features on a regular basis in order to get feedback from our partners.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Custom projects\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#custom-projects\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"custom-projects\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Our customer projects require us to slightly change our webservices behavior. From custom APIs to third party integrations. We need to be able to build several custom platforms at the same time without degrading our service's quality.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Transitioning\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#transitioning\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"transitioning\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"All of it has to be done gradually, implying a lot of backward compatibility considerations on an old codebase with no tests at all.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Contractors\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#contractors\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"contractors\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"We also have to manage relationship with contractors and keep sure we can provide them the environment quick enough to be sure they won't be stuck on their working days.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Project oriented\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#project-oriented\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"project-oriented\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"We're building projects over a product. It sometimes enforce us to implement features that will then ship into our core features.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Modularization\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#modularization\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"modularization\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"To address our projects specificities we had to create an highly modular codebase thanks to a few common patterns.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"One repository per concern\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#one-repository-per-concern\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"one-repository-per-concern\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"First of all, we created several normalized repositories: infrastructure, webservices, frontends. Each repository of the same category shares the same CLI/directory tree interface to avoid having to figure out what is where for each project.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"A docker image per repository\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#a-docker-image-per-repository\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"a-docker-image-per-repository\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"The subsequent fact of it is that each repository's goal is to contain the recipe to build a single Docker container.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Modularization issues\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#modularization-issues\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"modularization-issues\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"But the modularization comes with its own costs and we had to automate their evolution to avoid falling into a messy codebase with disparate configurations for each project/microservice.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"An automated update process\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#an-automated-update-process\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"an-automated-update-process\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Basically, what we're doing is maintaining a set of versioned macros that applies to a project once the module containing them is updated.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Automatically Customized Documentation\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#automatically-customized-documentation\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"automatically-customized-documentation\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Since building customer projects is like picking features in an existing toolbox plus creating specific ones, we automated the documentation in a way that allows us to spend 0 time on bundling it or on already documented features. We just focus on new features.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Code Architecture\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#code-architecture\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"code-architecture\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Dependency Injection with Inversion of Control\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#dependency-injection-with-inversion-of-control\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"dependency-injection-with-inversion-of-control\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"We're using an open-source tool I made that implement Dependency Injection with Inversion of Control and looks similar to what's done in Angular. There is a small difference though, since it also handle service shutdown. Indeed, to ensure high availability we must shutdown services like PostgreSQL only when every connections to the HTTP server where closed.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Pure functions for the win\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#pure-functions-for-the-win\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"pure-functions-for-the-win\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"A side effect of using services to enclose global states is that we can use pure functions everywhere else. I won't cover functional programming here but you should really have a look at its patterns.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Documentation Driven APIs\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#documentation-driven-apis\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"documentation-driven-apis\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Like any developer, I prefer write code than documentation. But I also prefer using documented code. To conciliate those two paradoxical needs, I managed to tie documentation and code. By writing the documentation, you create (\"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/nfroidure/siso\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"routing\"}]]]}],[\"$\",\"span\",\"2\",{\"children\":\", \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/nfroidure/strict-qs\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"input filtering\"}]]]}],[\"$\",\"span\",\"4\",{\"children\":\", \"}],[\"$\",\"$L14\",null,{\"href\":\"https://github.com/nfroidure/asttpl/blob/master/src/realworld.mocha.js\",\"className\":\"a_root__WEPS7\",\"title\":null,\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",\"0\",{\"children\":\"clients API\"}]]]}],[\"$\",\"span\",\"6\",{\"children\":\", ...).\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Workflow oriented controller\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#workflow-oriented-controller\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"workflow-oriented-controller\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I am not an MVC fan. Indeed, experience proves that answering to an HTTP request is often more a unique workflow specific to a given endpoint. I would say I am using a Workflow Stages Service pattern where Workflow is a bunch of asynchronous sequential operation, Stages is about running pure functions or services functions and Service is just dealing with system's or third party global states.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Cache ready\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#cache-ready\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"cache-ready\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"I think enforcing URLs uniqueness in the stricter manner possible is a very important thing. It makes caching strategy efficient. What's the point of taking trains to go to the office if your code is wasting resources? I want to code green and URI unicity is maybe the best improvement you can achieve for that matter.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"It can be less convenient for frontends that are forced to follow a strict pattern when using the API but since we are generating the client API they don't even know that those restrictions exists ;).\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Some old URIs contents are still varying but fortunately when frontends will all use the generated client API we will be able to change URIs transparently.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Still a work in progress\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#still-a-work-in-progress\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"still-a-work-in-progress\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Which leads us to the fact there is still some work in progress under the hoods. From JSONSchema definition to the RESTful shift, the road is long.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Deployment\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#deployment\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"deployment\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"One repository to rule them all\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#one-repository-to-rule-them-all\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"one-repository-to-rule-them-all\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Building and deploying several projects at the same time requires to be rigorous and rely on single sources of truth. To handle this, every single utility script, deployment configuration lies in a single centralized repository per project.\"}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Every repositories involved in a project are embedded into the infrastructure repository as a Git submodule in order to be able to setup the development environment by cloning a single repository.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Cloud Hosting Powers\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#cloud-hosting-powers\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"cloud-hosting-powers\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"We managed to create scripts that aggregate each webservices/frontends definitions and output a platform agnostic project definition we can then convert for many targets: AWS, Google Cloud Engine or even a simple instance running Docker or PM2 if necessary.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Back to the future\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#back-to-the-future\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"back-to-the-future\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Since each project has its own hosting budget, traffic expectations, we want to provide more targets for deployments to precisely fit needs at the better cost.\"}]]}],[\"$\",\"h3\",null,{\"className\":\"h3_root__kVaqq\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Quality Insurance\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#quality-insurance\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"quality-insurance\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"There is a lot of checks before shipping to UAT or production dramatically reducing risks to deploy non working versions. Most of the BDD tests I made also helped to ensure backward compatibility with the old APIs.\"}]]}],[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":[\"$\",\"span\",null,{\"className\":\"anchored_root__HWi6K\",\"children\":[[[\"$\",\"span\",\"0\",{\"children\":\"Thanks\"}]],\" \",[\"$\",\"small\",null,{\"children\":[\"$\",\"$L14\",null,{\"href\":\"#thanks\",\"className\":\"anchored_icon__N5Sem\",\"id\":\"thanks\",\"title\":\"Lien vers cette section\",\"children\":[\"$\",\"span\",null,{\"children\":\"ðŸ”—\"}]}]}]]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"span\",\"0\",{\"children\":\"Thanks you for your attention. If you have any question, please ask ;).\"}]]}]],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"Published at\",\" \",\"mardi 7 fÃ©vrier 2017 Ã  14:09:30\",\".\"]}]]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"share_root__Qm_RR\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Comment and share\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[[\"$\",\"$L14\",null,{\"href\":\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Fwebservices_at_7digital\",\"className\":\"a_root__WEPS7\",\"title\":\"Comment on Facebook\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_facebook__JKn8d\"}],\"Facebook\"]]}],\" - \",[\"$\",\"$L14\",null,{\"href\":\"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fwebservices_at_7digital\u0026text=Project%20Webservices%20at%207Digital\u0026via=nfroidure\",\"className\":\"a_root__WEPS7\",\"title\":\"Comment on Twitter\",\"target\":\"_blank\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 \"}],\"Twitter\"]]}],\" - \",[\"$\",\"$L14\",null,{\"href\":\"mailto:nicolas.froidure@gmail.com\",\"className\":\"a_root__WEPS7\",\"title\":\"Answer via email\",\"target\":\"_self\",\"children\":[null,[[\"$\",\"span\",null,{\"className\":\"share_icon__bi4Q3 share_mail__yvBDK\"}],\"Email\"]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"contentBlock_root__802UK\",\"children\":[\"$\",\"aside\",null,{\"className\":\"page_linkedEntries__jiPuT\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX\",\"children\":\"Similar posts\"}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W\",\"children\":[\"In the categories\",\" \",\"Web Services\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_entries__5hkLG\",\"children\":[[\"$\",\"div\",\"http_rest_apis_with_nodejs\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L14\",null,{\"href\":\".//http_rest_apis_with_nodejs\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Read this blog post\",\"target\":\"_self\",\"children\":[null,\"Designing HTTP REST APIs with NodeJS\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"Designing good HTTP services is still a hard thing despite the many tools you can find to make them with NodeJS. I'm trying to define a formal approach to architecture them by embracing the HTTP protocol nature and the RESTful principles.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L14\",null,{\"href\":\".//http_rest_apis_with_nodejs\",\"className\":\"a_root__WEPS7\",\"title\":\"Read this blog post\",\"target\":\"_self\",\"children\":[null,\"Read the full post\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"samedi 12 novembre 2016 Ã  10:50:52\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}],[\"$\",\"div\",\"reaccess\",{\"className\":\"items_entry_item__GWeg7\",\"children\":[null,[\"$\",\"h2\",null,{\"className\":\"h2_root__Y02lX items_entry_title__vJ_8h\",\"children\":[\"$\",\"$L14\",null,{\"href\":\".//reaccess\",\"className\":\"a_root__WEPS7 items_entry_link__EtVod\",\"title\":\"Read this blog post\",\"target\":\"_self\",\"children\":[null,\"REST API access control with reaccess\"]}]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_description__ZWt9y\",\"children\":[\"A presentation introducing reaccess an its use on a MEAN stack.\",\" \",[\"$\",\"br\",null,{}],[\"$\",\"$L14\",null,{\"href\":\".//reaccess\",\"className\":\"a_root__WEPS7\",\"title\":\"Read this blog post\",\"target\":\"_self\",\"children\":[null,\"Read the full post\"]}]]}],[\"$\",\"p\",null,{\"className\":\"p_root__SHE_W items_entry_time__iNrot\",\"children\":[\"Published at\",\" \",\"mercredi 1 octobre 2014 Ã  13:44:58\",\".\"]}],[\"$\",\"div\",null,{\"className\":\"items_clear__3fyGk\"}]]}]]}]]}]}]]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"content\":\"#3e78b2\"}],[\"$\",\"meta\",\"2\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"3\",{\"children\":\"Project Webservices at 7Digital - Nicolas Froidure\"}],[\"$\",\"meta\",\"4\",{\"name\":\"description\",\"content\":\"A sum-up of my last 6 months working at 7Digital.\"}],[\"$\",\"link\",\"5\",{\"rel\":\"author\",\"href\":\"https://insertafter.com\"}],[\"$\",\"meta\",\"6\",{\"name\":\"author\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"8\",{\"rel\":\"canonical\",\"href\":\"https://insertafter.com/en/blog/webservices_at_7digital\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Project Webservices at 7Digital - Nicolas Froidure\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"A sum-up of my last 6 months working at 7Digital.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://insertafter.com/en/blog/webservices_at_7digital\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Nicolas Froidure\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:alt\",\"content\":\"Website banner\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:site\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:creator\",\"content\":\"@nfroidure\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:title\",\"content\":\"Project Webservices at 7Digital - Nicolas Froidure\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:description\",\"content\":\"A sum-up of my last 6 months working at 7Digital.\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:alt\",\"content\":\"Website banner\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:image\",\"content\":\"https://insertafter.com/images/banner.png\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/images/favicon.svg\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/images/favicon-16.png\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"26\",{\"rel\":\"icon\",\"href\":\"/images/favicon-128.png\",\"type\":\"image/png\",\"sizes\":\"128x128\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>