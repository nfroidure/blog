4:I[5613,[],""]
5:I[1778,[],""]
6:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
7:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
8:{"display":"inline-block"}
9:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["eGoFGgzscUww2tdIFetZ7",[[["",{"children":["(withRedirects)",{"children":[["locale","articles-tank_arena_html5","d"],{"children":["__PAGE__?{\"locale\":\"articles-tank_arena_html5\"}",{}]},"$undefined","$undefined",true]}]}],["",{"children":["(withRedirects)",{"children":[["locale","articles-tank_arena_html5","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},[null,"$L3",null]]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(withRedirects)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/5ec738391fa14b60.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$6","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$7","children":"404"}],["$","div",null,{"style":"$8","children":["$","h2",null,{"style":"$9","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]],[null,"$La"]]]]
b:"$Sreact.strict_mode"
c:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-6ef0055cc1d3b7f9.js"],""]
d:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-6ef0055cc1d3b7f9.js"],""]
e:["locale","articles-tank_arena_html5","d"]
3:["$","$b",null,{"children":["$","html",null,{"lang":"articles-tank_arena_html5","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/articles-tank_arena_html5","title":"Go back to home page","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"InsertAfter's Logo"}]}]}]}]}],["$","$Lc",null,{"locale":"articles-tank_arena_html5","dictionary":{"home":{"label":"Home","title":"Go back to home page"},"blog":{"label":"Blog","title":"Read my blog posts"},"projects":{"label":"Projects","title":"Discover my projects"},"about":{"label":"About me","title":"Read more about me"}}}],["$","$Ld",null,{"locale":"articles-tank_arena_html5"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(withRedirects)","children","$e","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/0e0406f763173a7d.css","precedence":"next","crossOrigin":""}]]}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Follow me on Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Follow me on Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Follow me on Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"See my GitHub projects","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Check my NPM modules","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"See my LinkedIn profile","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Follow me on Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/articles-tank_arena_html5/blog/index.atom","title":"Subscribe to my RSS feed","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"RSS Feed"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
f:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","876","static/chunks/876-4c07c683293830f5.js","238","static/chunks/app/(withRedirects)/%5Blocale%5D/page-da2f415b8392d700.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Jeux HTML5 : Défi Tank Arena"}]]}],["$","hr",null,{"className":"hr_root__iMEe9"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"⚠ Attention: Cet article est ancien et son contenu n'est plus d'actualité. Je ne le conserve que pour des raisons historiques."}]]}],["$","hr",null,{"className":"hr_root__iMEe9"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si vous avez déjà joué à Tank Arena, alors vous savez que c'est un excellent jeu. Malheureusement, il n'existe que pour Windows. Relevons le défi d'en faire un jeu HTML5 !"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$Lf",null,{"href":"./html5_casse_brique","className":"a_root__WEPS7","title":"Voir le billet sur le Casse brique que j'ai réalisé","target":"_self","children":[null,[["$","span","0",{"children":"Mon expérience du Casse Brique"}]]]}],["$","span","1",{"children":" a confirmé mon intuition première : développer des jeux HTML5, c'est fun ! Après avoir goûté à "}],["$","$Lf",null,{"href":"http://browserquest.mozilla.org/","className":"a_root__WEPS7","title":"Voir le jeu créé par Mozilla","target":"_blank","children":[null,[["$","span","0",{"children":"BrowserQuest"}]]]}],["$","span","3",{"children":", je me suis dit que le web était prêt pour embrasser l'univers du jeu et j'ai eu envie de m'y frotter. Malheureusement, créer un jeu de toute pièce plus évolué qu'un simple Casse Brique nécessite de monter une équipe composée de graphistes, de scénaristes et de développeurs."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Je n'ai pas vocation à vendre ces jeux au travers de mon entreprise, mais plutôt à les créer pour le fun, à mon rythme et à les proposer à la communauté. Bref, je ne peux pas embaucher un graphiste pour cela."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"C'est alors que j'ai pensé à ce vieux freeware avec lequel j'ai pas mal joué étant plus jeune (alors en shareware) et qui me plaisait beaucoup. J'ai donc contacté les auteurs de Tank Arena, Jorrit Rouwe et Dennis Medema et ils ont gentiment accepté que ce projet démarre avec pour seule condition, une utilisation non-commerciale ce qui me va tout à fait. Jorrit m'a donc transmis les sources du jeu (écrit originellement en C). Un gros travail de conversion des fichiers existants en fichiers utilisables pour le web a donc commencé."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Deux jours plus tard, me voici donc avec une "}],["$","$Lf",null,{"href":"https://github.com/nfroidure/TankArena/tree/master/www/sprites","className":"a_root__WEPS7","title":"Voir la liste","target":"_blank","children":[null,[["$","span","0",{"children":"collection de sprites"}]]]}],["$","span","2",{"children":" sous licence Creative Common Non-Commercial Attribution. Il ne me reste plus qu'à coder :D."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Plantons le décor"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#plantons-le-decor","className":"anchored_icon__N5Sem","id":"plantons-le-decor","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$Lf",null,{"href":"http://www.jrouwe.nl/tank/","className":"a_root__WEPS7","title":"Voir le site officiel","target":"_blank","children":[null,[["$","span","0",{"children":"Tank Arena"}]]]}],["$","span","1",{"children":" est un jeu aux graphismes 2D vus de dessus. Le joueur incarne un tank, un bateau ou un avion et évolue en 3D (les avions surtout). En mode solo (ou en coopération), il accomplit des missions contre l'ordinateur, en mode multijoueur, il propose des battles ou des courses. Afin de bien comprendre tout l'article, je vous conseille d'y jouer un peu, de cette façon vous aurez une bonne vision des raisons qui expliquent les choix que j'expose ci-dessous."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Je ne sais pas encore ce que ma version proposera, mais j'aimerai bien proposer un mode mission et un mode multijoueur (avec les web sockets). Dans tous les cas, les premiers prototypes que je vais réaliser vont surtout consister à trouver la meilleure solution technique pour afficher le monde et ce qu'il contient."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Mon plan d'action"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#mon-plan-d-action","className":"anchored_icon__N5Sem","id":"mon-plan-d-action","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"J'ai contacté le "}],["$","$Lf",null,{"href":"http://twitter.com/whatthefranck","className":"a_root__WEPS7","title":"Voir son profil Twitter","target":"_blank","children":[null,[["$","span","0",{"children":"développeur de Browser Quest"}]]]}],["$","span","2",{"children":" et lui ai posé quelques questions à propos de la façon dont il avait travaillé sur le projet. Je voulais surtout savoir si ils avaient rencontré des problèmes de performance. Je ne veux surtout pas me retrouver avec un jeu injouable à cause d'une architecture mal pensée. En effet, là ou le code natif permet quelques écarts, la programmation d'un jeu avec HTML5 / Javascript nécessite de bien penser aux performances."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Finalement, un jeu de ce type se compose d'un plan (avec étages dans notre cas) sur lequel se trouvent des objets dont un certain nombre sont animés ou se déplacent contrôlés par le joueur ou par l'ordinateur. Chaque objet est donc affiché en fonction d'une part de son état (position, orientation, niveau z etc..) et/ou du temps. Le jeu se résumera donc à une boucle qui parcourra successivement tous les objets se trouvant sur le plan pour les modifier en fonction du temps pour les éléments dynamiques et pour les dessiner en fonction du point de vue actuel sur ce plan."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Le plan"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#le-plan","className":"anchored_icon__N5Sem","id":"le-plan","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Le plan peut être subdivisé en cases dont chacune contient une texture. Ces textures sont le plus souvent figées, il n'est donc pas nécessaire d'imprimer ces dernières dans un Canvas à chaque fois. Par exemple, dans Browser Quest, la map n'est imprimée qu'un fois dans un Canvas et n'est réimprimée que lorsque le personnage change de vue. Dans mon cas, le problème est que la carte doit défiler en même temps que le tank, cependant, afin d'économiser du CPU, je vais partir sur une solution un peu spéciale, j'espère que ça marchera."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'idée est d'imprimer tous les éléments statiques dans un Canvas de la taille de la carte (donc trop grand pour être affiché en entier. Ensuite, je vais choisir entre deux solutions : la première, utiliser la propriété background dans une élément "}],["$","code",null,{"className":"code_root__5JLV_","children":"<div>"}],["$","span","2",{"children":" grâce à l'export sous forme de "}],["$","code",null,{"className":"code_root__5JLV_","children":"dataUri"}],["$","span","4",{"children":" de l'image composée par le Canvas, la seconde, est de mettre le Canvas dans un div et de scroller le "}],["$","code",null,{"className":"code_root__5JLV_","children":"div"}],["$","span","6",{"children":" en même temps que le personnage évolue. J'espère que l'une des deux solutions sera concluante."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Actuellement, je penche plutôt pour la seconde car elle me permettrait d'animer certaines textures (vagues dans l'eau, vent dans les arbres ou autre), je me vois mal récupérer une "}],["$","code",null,{"className":"code_root__5JLV_","children":"dataURI"}],["$","span","2",{"children":" a chaque frame d'une animation pour l'injecter dans le background d'une div."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les tanks, bâtiments et autres objets"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#les-tanks-batiments-et-autres-objets","className":"anchored_icon__N5Sem","id":"les-tanks-batiments-et-autres-objets","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ensuite, sur la carte, il y a des bâtiments qui eux aussi sont statiques, mais qui peuvent changer d'état et donc d'apparence. De plus, les tanks peuvent, en fonction de leur position en "}],["$","code",null,{"className":"code_root__5JLV_","children":"z"}],["$","span","2",{"children":" apparaitre au dessus ou en dessous du bâtiment."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Deux solutions se présentent à moi. La première est de décider de tout redessiner à chaque boucle de jeu dans un unique canvas, la seconde est de superposer plusieurs éléments "}],["$","code",null,{"className":"code_root__5JLV_","children":"<canvas>"}],["$","span","2",{"children":". La deuxième solution me parait plus souhaitable, mais je dois déterminer combien d'éléments "}],["$","code",null,{"className":"code_root__5JLV_","children":"<canvas>"}],["$","span","4",{"children":" je dois superposer."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les tanks terrestres ou maritimes sont au niveau 0 (sol), les bâtiments sont au niveau 0 pour ceux en dessous desquels on ne peut passer ou au niveau 1 pour les autres, sachant que pour les bâtiments sous lesquels on peut passer, bien qu'il ne sont représentés graphiquement qu'au niveau 1, il ont une présence physique au niveau 0 qui sera à prendre en compte pour les collisions."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Je serais bien tenté par la disposition suivante :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"canvas de fond statique (Niveau 0) : les éléments sont imprimés une fois en debut de jeu, ceux dont l'état change sont ré-imprimé à ce moment là et uniquement la zone concernée. On y imprimerai les textures de fond et les bâtiments pleins (on ne peut pas passer en dessous),"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"canvas dynamique (Niveau 0) : on y imprimera les animations des textures puis les tanks terrestres et maritimes y seront imprimés à chaque boucle du jeu, mais uniquement pour la zone de la carte affichée à l'écran,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"canvas aérien statique : on y imprimera les bâtiment en dessous desquels un tank peut passer avec une gestion du même type que le canvas de fond,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"canvas aérien multi-niveaux : on y imprimera tous les autres niveaux en parcourant récursivement le tableau des objets dynamiques pour chaque étage de jeu. En effet, pour tous les autres étages de jeu, il n'y a plus que des éléments dynamiques et il ne serait donc pas opportun de créer d'autres éléments Canvas."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"J'oubliais, dans le Tank Arena original, il existe des \"trous\" dans lesquels on peut tomber. Le niveau z peut donc être négatif. Pour autant, on ne le prévoit pas dans la superposition des éléments "}],["$","code",null,{"className":"code_root__5JLV_","children":"<canvas>"}],["$","span","2",{"children":" car les trous ne sont pas recouverts et il nous suffira d'imprimer les sprites qui vont bien pour donner l'impression que le Tank est entrain de tomber."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Les sprites"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#les-sprites","className":"anchored_icon__N5Sem","id":"les-sprites","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Lors de la refonte des graphismes, je ne savais pas trop comment organiser les sprites pour optimiser la gestion des images dans le jeu. J'ai pris le parti de réunir les sprites relatif à un même tank au sein d'un seul fichier. De réunir les structures ensemble, tout comme les bâtiments, les murs, les arbres etc... De cette façon, les sprites du jeu sont réunis dans un total de 36 fichiers ce qui me parait pas mal en terme d'organisation."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"J'imagine que je devrais les charger dynamiquement au chargement du jeu afin de les avoir sous la main. A savoir, le jeu original utilisait des sprites de 33x33pixels, je vais donc rester sur ça, mais je m'appliquerait pour que cela soit modifiable afin que je puisse réutiliser une bonne part du code dans d'autres jeux sans forcément rester sur ce choix là."}]]}],["$","h3",null,{"className":"h3_root__kVaqq","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Types d'objets"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#types-d-objets","className":"anchored_icon__N5Sem","id":"types-d-objets","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Finalement, on distingue peu de types d'objets différents :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"le terrain : chaque subdivision du plan de 33x33 pixels contient une image représentant le terrain. Je ne créerai pas d'objets pour ceux-ci, mais simplement un tableau indiquant quelle texture doit y être insérée. Ce tableau servira aussi à contenir les éléments se trouvant dans chacune de ces subdivisions,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les objets statiques : il peuvent être de niveau 0 et/ou 1. Ils ont des bords physiques avec lesquels des objets mobiles peuvent entrer en collision,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"les objets dynamiques : il peuvent être de niveau n (entier) et peuvent entrer en collision avec des autres objets du même type ou des objets statiques."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"En revanche, chaque objet a des types de collision différents. En fonction des formes, on aura divers choix :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"un objet suffisamment petit pourra être considéré comme un point. Je pense à un tir principalement,"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"un objet suffisamment rond pourra être considéré comme un rond (tank ou bâtiment plutôt rond, plot),"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"un objet suffisamment carré pourra être considéré comme une carré (bâtiment plein) ou un ensemble de carrés (bâtiments sous lequel on peut passer)."}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Chaque objet du monde devra donc avoir une propriété contenant un tableau de ses contours physiques et de leur type. Ajoutons enfin le fait qu'il nous faudra toujours vérifier que les objets mobiles soient bien à l'intérieur des limites du jeu."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On distinguera les objets qui devront être repositionnés (tanks) des objets qui seront détruits (tirs) à la collision."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Par convention, on délèguera aux objets mobiles la gestion de leur collision avec les objets statiques et mobiles qui les entourent. En cas de collision entre deux objets mobiles, chacun de ces objets aura la responsabilité de calculer sa propre réaction. Les tirs sont des objets mobiles particuliers, les autres objets mobiles ne s'en préoccuperons pas, c'est le tir lui même qui infligera ses dégâts aux objets qu'il atteindra."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Les objets auront également sous leur responsabilité de déclarer leur propre occupation de l'espace. En effet, afin d'affiner la gestion des collisions, chaque objet devra déclarer quelles subdivisions de 33x33 pixels du plan ils occupent afin de permettre de mieux cibler les tests à effectuer pour calculer les collisions. Un objet mobile calculera donc sa collision avec les objets déclarés dans les subdivisions du plan qu'il occupe (1 à 4 dans la majorité des cas). Cela permettra de réduire les calculs de collision à effectuer."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Chaque objet mobile/animé a la responsabilité d'exposer une méthode fonction du temps que la boucle de jeu se chargera d'appeler afin de procéder à un changement d'état/de position/de direction etc..."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Enfin, chaque objet fournit une méthode permettant d'imprimer sa propre représentation graphique et ce pour chaque canvas concerné. Pour les objets statiques cette méthode sera appelée au démarrage et à chaque changement d'état, pour les objets mobiles à chaque boucle si il se trouve dans la vue actuelle du jeu."}]]}],["$","h2",null,{"className":"h2_root__Y02lX","children":["$","span",null,{"className":"anchored_root__HWi6K","children":[[["$","span","0",{"children":"Où , quand et comment ?"}]]," ",["$","small",null,{"children":["$","$Lf",null,{"href":"#ou-quand-et-comment","className":"anchored_icon__N5Sem","id":"ou-quand-et-comment","title":"Lien vers cette section","children":["$","span",null,{"children":"🔗"}]}]}]]}]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"[Ce projet se trouve sur GitHub](https://github.com/nfroidure/TankArena \"Voir la page\" du projet\"), il sera développé pendant mon temps libre, sous licence GNU/GPL. Vous pouvez participer si vous le souhaitez en le forkant et en me proposant un pull request. De mon côté, je tenterai de prendre le temps d'expliquer son code sur ce blog pour vous mettre le pied à l'étrier."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"A vos éditeurs de code :)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Edit : Le jeu est déjà bien avancé, j'ai créé un petit "}],["$","$Lf",null,{"href":"./gestion_collisions_html5_canvas.md","className":"a_root__WEPS7","title":"Lire cet article","target":"_self","children":[null,[["$","span","0",{"children":"article sur les collisions 2D"}]]]}],["$","span","2",{"children":" que j'ai dû fouillé pour coder les premières versions."}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","samedi 9 juin 2012 à 16:20:22","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Commenter et partager"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$Lf",null,{"href":"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Finsertafter.com%2Fblog%2Ftank_arena_html5","className":"a_root__WEPS7","title":"Commenter sur Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$Lf",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Ftank_arena_html5&text=Jeux%20HTML5%C2%A0%3A%20D%C3%A9fi%20Tank%20Arena&via=nfroidure","className":"a_root__WEPS7","title":"Commenter sur Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$Lf",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Me répondre par mail","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Courriel"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Articles similaires"}],["$","p",null,{"className":"p_root__SHE_W","children":["Dans les catégories"," ","Jeux HTML5","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","html5_casse_brique",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//html5_casse_brique","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Jeux HTML5 : Développement d'un casse brique"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Créer un jeu en HTML5 est simple. Cependant, il faut respecter quelques bonnes pratiques pour éviter que cela tourne au cauchemar."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//html5_casse_brique","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","vendredi 11 mai 2012 à 10:51:19","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","ameliration_casse_brique",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//ameliration_casse_brique","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Amélioration d'un casse brique"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["J'ai cliqué via Twitter sur un lien vers un casse brique en développement. Il avait des problèmes de performance étonnants. J'y ai mis mon grain de sel."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//ameliration_casse_brique","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","mardi 8 mai 2012 à 20:09:31","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","jeux_html5_sympas",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//jeux_html5_sympas","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Quelques jeux HTML5 sympas"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Dans mes recherches pour tenter de trouver la meilleure formule pour créer des jeux HTML5 addictifs et de bonne qualité, j'ai trouvé plusieurs jeux aux finitions plus qu'acceptables. Découvrez-les !"," ",["$","br",null,{}],["$","$Lf",null,{"href":".//jeux_html5_sympas","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","dimanche 27 janvier 2013 à 13:03:52","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Jeux HTML5 : Défi Tank Arena - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"Si vous avez déjà joué à Tank Arena, alors vous savez que c'est un excellent jeu. Malheureusement, il n'existe que pour Windows. Relevons le défi d'en faire un jeu HTML5 !"}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/fr/blog/tank_arena_html5"}],["$","meta","9",{"property":"og:title","content":"Jeux HTML5 : Défi Tank Arena - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"Si vous avez déjà joué à Tank Arena, alors vous savez que c'est un excellent jeu. Malheureusement, il n'existe que pour Windows. Relevons le défi d'en faire un jeu HTML5 !"}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/fr/blog/tank_arena_html5"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"fr_FR"}],["$","meta","14",{"property":"og:image:alt","content":"Bannière du site"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Jeux HTML5 : Défi Tank Arena - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"Si vous avez déjà joué à Tank Arena, alors vous savez que c'est un excellent jeu. Malheureusement, il n'existe que pour Windows. Relevons le défi d'en faire un jeu HTML5 !"}],["$","meta","22",{"name":"twitter:image:alt","content":"Bannière du site"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
