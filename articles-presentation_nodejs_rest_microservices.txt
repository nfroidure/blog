4:I[5613,[],""]
5:I[1778,[],""]
6:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
7:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
8:{"display":"inline-block"}
9:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["9fUASsqhclwKyXSiuGa9K",[[["",{"children":["(withRedirects)",{"children":[["locale","articles-presentation_nodejs_rest_microservices","d"],{"children":["__PAGE__?{\"locale\":\"articles-presentation_nodejs_rest_microservices\"}",{}]},"$undefined","$undefined",true]}]}],["",{"children":["(withRedirects)",{"children":[["locale","articles-presentation_nodejs_rest_microservices","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},[null,"$L3",null]]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(withRedirects)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/1f9f2e31c0c7b0ad.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$6","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$7","children":"404"}],["$","div",null,{"style":"$8","children":["$","h2",null,{"style":"$9","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]],[null,"$La"]]]]
b:"$Sreact.strict_mode"
c:I[4630,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-6f34dfcd57f7d3e4.js"],""]
d:I[4341,["176","static/chunks/176-0a03be62efe5672b.js","960","static/chunks/app/(withLocale)/%5Blocale%5D/layout-6f34dfcd57f7d3e4.js"],""]
e:["locale","articles-presentation_nodejs_rest_microservices","d"]
3:["$","$b",null,{"children":["$","html",null,{"lang":"articles-presentation_nodejs_rest_microservices","children":["$","body",null,{"className":"layout_body__jFZuu","children":[null,["$","header",null,{"className":"header_iaHeader__4vCMA","children":["$","div",null,{"className":"$undefined","children":["$","h1",null,{"children":["$","a",null,{"href":"/articles-presentation_nodejs_rest_microservices","title":"Go back to home page","className":"header_iaHeaderLogo__0uNr1","children":["$","img",null,{"src":"/images/logo.svg","alt":"InsertAfter's Logo"}]}]}]}]}],["$","$Lc",null,{"locale":"articles-presentation_nodejs_rest_microservices","dictionary":{"home":{"label":"Home","title":"Go back to home page"},"blog":{"label":"Blog","title":"Read my blog posts"},"projects":{"label":"Projects","title":"Discover my projects"},"about":{"label":"About me","title":"Read more about me"}}}],["$","$Ld",null,{"locale":"articles-presentation_nodejs_rest_microservices"}],["$","main",null,{"className":"layout_iaMain__6s2gl","children":["$","div",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(withRedirects)","children","$e","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"https://insertafter.com/_next/static/css/d44be85332e08038.css","precedence":"next","crossOrigin":""}]]}]}]}],["$","aside",null,{"className":"social_iaSocial__kdR1x","children":["$","nav",null,{"children":["$","ul",null,{"children":[["$","li",null,{"children":["$","a",null,{"href":"https://mastodon.social/@nfroidure","rel":"me","title":"Follow me on Mastodon","className":"social_iaSocialMastodon__MTF6o","children":["$","span",null,{"children":"Mastodon"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://bsky.app/profile/nfroidure.bsky.social","rel":"me","title":"Follow me on Bluesky","className":"social_iaSocialBluesky__fKW6M","children":["$","span",null,{"children":"Bluesky"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://twitter.com/nfroidure","title":"Follow me on Twitter","className":"social_iaSocialTwitter__9nU6R","children":["$","span",null,{"children":"Twitter"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://github.com/nfroidure","title":"See my GitHub projects","className":"social_iaSocialGithub__vcU5_","children":["$","span",null,{"children":"GitHub"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.npmjs.org/~nfroidure","title":"Check my NPM modules","className":"social_iaSocialNpm__6nku5","children":["$","span",null,{"children":"NPM"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://www.linkedin.com/in/nfroidure/","rel":"me","title":"See my LinkedIn profile","className":"social_iaSocialLinkedin__pWACO","children":["$","span",null,{"children":"LinkedIn"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"https://facebook.com/nicolas.froidure.douai","rel":"me","title":"Follow me on Facebook","className":"social_iaSocialFacebook__w4wfH","children":["$","span",null,{"children":"Facebook"}]}]}],["$","li",null,{"children":["$","a",null,{"href":"/articles-presentation_nodejs_rest_microservices/blog/index.atom","title":"Subscribe to my RSS feed","className":"social_iaSocialFeed__gEQQ0","children":["$","span",null,{"children":"RSS Feed"}]}]}]]}]}]}],["$","footer",null,{"className":"footer_iaFooter__rhlnQ","children":["$","p",null,{"className":"footer_iaFooterContent__VZndF","children":["© Nicolas Froidure 2012-",2024]}]}]]}]}]}]
f:I[5250,["176","static/chunks/176-0a03be62efe5672b.js","876","static/chunks/876-4c07c683293830f5.js","238","static/chunks/app/(withRedirects)/%5Blocale%5D/page-3351bf05ebb77fa0.js"],""]
2:[["$","section",null,{"className":"contentBlock_root__802UK","children":[[["$","h1",null,{"className":"h1_root__VPXQG","children":[["$","span","0",{"children":"Micro-services first avec NodeJS"}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Jeudi dernier j'ai eu l'honneur de faire une présentation à "}],["$","$Lf",null,{"href":"http://chtijs.francejs.org/archives/2016-02-25/index.html","className":"a_root__WEPS7","title":"Voir le résumé de cette édition","target":"_blank","children":[null,[["$","span","0",{"children":"ChtiJS 15"}]]]}],["$","span","2",{"children":". Comme à chaque fois que je fais une présentation, je passe forcément à côté de deux ou trois détails."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"C'est donc l'occasion pour moi de proposer un petit billet sur pourquoi et comment il est indispensable de développer votre backend NodeJS avec une vision micro-service dès le départ."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Si vous avez assisté à ma présentation, vous connaissez ma vision de ce qu'est une API REST, mais pour reprendre ma métaphore et pour ceux qui n'ont pas pu venir, c'est un peu comme un distributeur de cacahouètes."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On y met une pièce (l'équivalent d'une requête HTTP) puis quand la transaction est effectuée (pièce bloquée dans le monnayeur, l'équivalent d'un statut 200 OK), alors on reçoit des cacahouètes (une réponse HTTP)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Quand une transaction est validée, on garanti que le système a bien enregistré tout changement d'état et que par ailleurs, toute opération qui peut découler de ce changement sera effectuée."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On peut mettre côté à côte plusieurs distributeurs et pas nécessairement de cacahouètes. C'est un peu l'équivalent des URIs (ou ressources REST)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"On peut également déclencher certaines actions de manière différées pour valider une transaction au plus tôt. C'est typiquement le cas de l'envoi de mails ou de la synchronisation à des systèmes distants."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"L'approche micro-service telle que je la conçoit est donc répartie comme suit :"}]]}],["$","ul",null,{"className":"ul_ul__qh0e9","children":[["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"un frontal REST : un ou plusieurs processus qui traitent les requêtes entrantes;"}]]}]]}],["$","li",null,{"className":"li_root__oY9Dv","children":[["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"un queue : dans laquelle on stocke des évènements qui déclencheront des actions différées. Ces évènements sont dépilés par de nombreux processus spécialisés ce qui isole les responsabilités;"}]]}]]}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Vous avez probablement, comme moi, vu circuler quelques articles vous expliquant pourquoi vous feriez mieux d'apprendre à créer une application avant de penser à faire une architecture scalable."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Au delà de l'aspect péremptoire du conseil, je m'inscrits en faux sur ce point. Il n'est jamais trop tôt pour bien faire. Pour faire mieux, pour faire plus..."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"En effet, n'importe quel frontal REST doit pouvoir être subdivisé en plusieurs processus, micro-service ou pas, tout simplement car un processus NodeJS ne doit pas garder d'état local. C'est une bonne pratique qui n'a rien à voir avec les microservices, mais plutôt avec la nature même d'une application NodeJS."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ensuite, pour les traitement différés, pas la peine dans un premier temps de créer des processus spécialisés. Vous pouvez tout à fait créer une application monolithique prévue dès sa conception pour être scindée en plusieurs processus si le besoin de monter en charge se fait sentir."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour se faire, rien de plus simple. Au lieu d'utiliser, day one, un message broker style RabbitMQ, vous créez un simple pub/sub qui permet de découpler les actions différées de votre API REST tout en ne gardant qu'un seul processus dans la phase de développement, voire même en production si vous ne prévoyez pas un trafic monumental au démarrage (cas de 95% des apps)."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Pour illustrer le principe, dans un backend créé pour un hackathon, j'ai créé "}],["$","$Lf",null,{"href":"https://github.com/nfroidure/TripStory/blob/cef64f401098809c81ecf8ddf2203eb48628aa46/backend/index.js#L56-L63","className":"a_root__WEPS7","title":"Voir le service","target":"_blank","children":[null,[["$","span","0",{"children":"un service"}]]]}],["$","span","2",{"children":" se servant de "}],["$","code",null,{"className":"code_root__5JLV_","children":"process"}],["$","span","4",{"children":" pour créer un simple pub-sub émulant un message broker."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Ainsi, quand un utilisateur se connecte avec Twitter, on "}],["$","$Lf",null,{"href":"https://github.com/nfroidure/TripStory/blob/cef64f401098809c81ecf8ddf2203eb48628aa46/backend/app/authentication/authentication.controller.js#L248-L253","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":"émet un évènement"}]]]}],["$","span","2",{"children":" qui est ensuite consommé "}],["$","$Lf",null,{"href":"https://github.com/nfroidure/TripStory/blob/cef64f401098809c81ecf8ddf2203eb48628aa46/backend/workers/twitter/twitter.bin.js#L7-L18","className":"a_root__WEPS7","title":null,"target":"_blank","children":[null,[["$","span","0",{"children":"dans un simili-worker"}]]]}],["$","span","4",{"children":" complètement découplé qui se charge de synchroniser les amis Twitter. Cette action qui pourra se faire dans un worker dédié si cette application montait en charge."}]]}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","span","0",{"children":"Bref, on a le beurre, l'argent du beurre, voire plus. Moralité: n'attendez jamais pour bien penser votre code, mais restez pragmatiques ;)."}]]}]],["$","p",null,{"className":"p_root__SHE_W","children":["Published at"," ","dimanche 28 février 2016 à 21:32:43","."]}]]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"share_root__Qm_RR","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Commenter et partager"}],["$","p",null,{"className":"p_root__SHE_W","children":[["$","$Lf",null,{"href":"https://www.facebook.com/dialog/share?display=popup&href=https%3A%2F%2Finsertafter.com%2Fblog%2Fpresentation_nodejs_rest_microservices&redirect_uri=https%3A%2F%2Finsertafter.com","className":"a_root__WEPS7","title":"Commenter sur Facebook","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_facebook__JKn8d"}],"Facebook"]]}]," - ",["$","$Lf",null,{"href":"https://twitter.com/intent/tweet/?url=https%3A%2F%2Finsertafter.com%2Fblog%2Fpresentation_nodejs_rest_microservices&text=Micro-services%20first%20avec%20NodeJS&via=nfroidure","className":"a_root__WEPS7","title":"Commenter sur Twitter","target":"_blank","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 "}],"Twitter"]]}]," - ",["$","$Lf",null,{"href":"mailto:nicolas.froidure@gmail.com","className":"a_root__WEPS7","title":"Me répondre par mail","target":"_self","children":[null,[["$","span",null,{"className":"share_icon__bi4Q3 share_mail__yvBDK"}],"Courriel"]]}]]}]]}]}],["$","section",null,{"className":"contentBlock_root__802UK","children":["$","aside",null,{"className":"page_linkedEntries__jiPuT","children":[["$","h2",null,{"className":"h2_root__Y02lX","children":"Articles similaires"}],["$","p",null,{"className":"p_root__SHE_W","children":["Dans les catégories"," ","Applications Web","."]}],["$","div",null,{"className":"items_entries__5hkLG","children":[["$","div","applications_vehicules",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//applications_vehicules","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Et si HTML5 accédait à mon véhicule ?"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Citroën vient de lancer un petit concours tout simple auquel je vais proposer une idée. Découvrez là, mais aussi, comment elle pourrait être mise en oeuvre."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//applications_vehicules","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","mercredi 9 janvier 2013 à 09:54:05","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","applications_html5",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//applications_html5","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Un futur radieux pour les applications HTML5"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["L'importance des applications HTML5 va croissante, les acteurs qui parient sur ces dernières aussi. L'avenir des applications HTML5 s'annonce épique."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//applications_html5","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","samedi 5 janvier 2013 à 16:06:11","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}],["$","div","gerer_monnaies_logiciel",{"className":"items_entry_item__GWeg7","children":[null,["$","h2",null,{"className":"h2_root__Y02lX items_entry_title__vJ_8h","children":["$","$Lf",null,{"href":".//gerer_monnaies_logiciel","className":"a_root__WEPS7 items_entry_link__EtVod","title":"Lire cet article de blog","target":"_self","children":[null,"Gérer les monnaies dans un logiciel (CRM,ERP)"]}]}],["$","p",null,{"className":"p_root__SHE_W items_entry_description__ZWt9y","children":["Je suis actuellement entrain de développer une solution CRM basée sur mon framework Rest PHP. Il faut donc gérer les différentes monnaies."," ",["$","br",null,{}],["$","$Lf",null,{"href":".//gerer_monnaies_logiciel","className":"a_root__WEPS7","title":"Lire cet article de blog","target":"_self","children":[null,"Lire la suite"]}]]}],["$","p",null,{"className":"p_root__SHE_W items_entry_time__iNrot","children":["Published at"," ","vendredi 16 novembre 2012 à 10:24:57","."]}],["$","div",null,{"className":"items_clear__3fyGk"}]]}]]}]]}]}]]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#3e78b2"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Micro-services first avec NodeJS - Nicolas Froidure"}],["$","meta","4",{"name":"description","content":"Retour rapide sur ma présentation au ChtiJS 15 sur les microservices et le design d'APIs avec NodeJS."}],["$","link","5",{"rel":"author","href":"https://insertafter.com"}],["$","meta","6",{"name":"author","content":"Nicolas Froidure"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://insertafter.com/fr/blog/presentation_nodejs_rest_microservices"}],["$","meta","9",{"property":"og:title","content":"Micro-services first avec NodeJS - Nicolas Froidure"}],["$","meta","10",{"property":"og:description","content":"Retour rapide sur ma présentation au ChtiJS 15 sur les microservices et le design d'APIs avec NodeJS."}],["$","meta","11",{"property":"og:url","content":"https://insertafter.com/fr/blog/presentation_nodejs_rest_microservices"}],["$","meta","12",{"property":"og:site_name","content":"Nicolas Froidure"}],["$","meta","13",{"property":"og:locale","content":"fr_FR"}],["$","meta","14",{"property":"og:image:alt","content":"Bannière du site"}],["$","meta","15",{"property":"og:image","content":"https://insertafter.com/images/banner.png"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary"}],["$","meta","18",{"name":"twitter:site","content":"@nfroidure"}],["$","meta","19",{"name":"twitter:creator","content":"@nfroidure"}],["$","meta","20",{"name":"twitter:title","content":"Micro-services first avec NodeJS - Nicolas Froidure"}],["$","meta","21",{"name":"twitter:description","content":"Retour rapide sur ma présentation au ChtiJS 15 sur les microservices et le design d'APIs avec NodeJS."}],["$","meta","22",{"name":"twitter:image:alt","content":"Bannière du site"}],["$","meta","23",{"name":"twitter:image","content":"https://insertafter.com/images/banner.png"}],["$","link","24",{"rel":"icon","href":"/images/favicon.svg","type":"image/svg+xml","sizes":"any"}],["$","link","25",{"rel":"icon","href":"/images/favicon-16.png","type":"image/png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/images/favicon-128.png","type":"image/png","sizes":"128x128"}]]
1:null
